{"ast":null,"code":"import _objectSpread from\"C:/Users/test/Desktop/FinalRingsStore/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Upload,Image,Settings,Sparkles,Gem,Zap,Check,X,Trash2,Eye,AlertCircle,ChevronDown,ChevronRight,Plus,Search,Filter,DollarSign,Edit3}from'lucide-react';import{supabase}from'../lib/supabase';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPanel=()=>{const[selectedMetal,setSelectedMetal]=useState('');const[selectedDesign,setSelectedDesign]=useState('');const[selectedShape,setSelectedShape]=useState('');const[selectedCarat,setSelectedCarat]=useState('');const[selectedFile,setSelectedFile]=useState(null);const[previewUrl,setPreviewUrl]=useState('');const[uploading,setUploading]=useState(false);const[uploadedImages,setUploadedImages]=useState([]);const[message,setMessage]=useState('');const[expandedSections,setExpandedSections]=useState({});const[searchTerm,setSearchTerm]=useState('');const[filterMetal,setFilterMetal]=useState('');const[filterDesign,setFilterDesign]=useState('');const[loading,setLoading]=useState(true);const[deleteTarget,setDeleteTarget]=useState(null);// {id, imageUrl}\nconst[showDeleteModal,setShowDeleteModal]=useState(false);// Price management states\nconst[pricingData,setPricingData]=useState([]);const[editingPrices,setEditingPrices]=useState(null);// {design, prices}\nconst[showPriceModal,setShowPriceModal]=useState(false);const[priceForm,setPriceForm]=useState({price_1_0ct:'',price_1_5ct:'',price_2_0ct:'',price_2_5ct:''});// Updated options based on your specifications\nconst designs=[{value:'classic-solitaire',label:'Classic Solitaire'},{value:'halo-setting',label:'Halo Setting'},{value:'vintage-antique',label:'Vintage/Antique Style'},{value:'three-stone',label:'Three Stone (Trinity)'}];const metals=[{value:'white-gold',label:'White Gold (14K/18K)'},{value:'yellow-gold',label:'Yellow Gold (14K/18K)'},{value:'rose-gold',label:'Rose Gold (14K/18K)'},{value:'platinum',label:'Platinum (950)'}];const shapes=[{value:'round',label:'Round Brilliant Cut'},{value:'princess',label:'Princess Cut (Square)'},{value:'emerald',label:'Emerald Cut (Rectangular)'},{value:'oval',label:'Oval Brilliant Cut'}];const carats=[{value:'1.0',label:'1.0 Carat'},{value:'1.5',label:'1.5 Carat'},{value:'2.0',label:'2.0 Carat'},{value:'2.5',label:'2.5 Carat'}];useEffect(()=>{fetchUploadedImages();fetchPricingData();},[]);const fetchUploadedImages=async()=>{try{setLoading(true);const{data,error}=await supabase.from('ring_images').select('*').order('metal',{ascending:true}).order('design',{ascending:true}).order('diamond_shape',{ascending:true}).order('carat',{ascending:true});if(error)throw error;setUploadedImages(data||[]);console.log('Updated uploadedImages:',data);// Debug log\n}catch(error){console.error('Error fetching images:',error);setMessage('Error fetching uploaded images: '+error.message);}finally{setLoading(false);}};const fetchPricingData=async()=>{try{const{data,error}=await supabase.from('ring_pricing').select('*').order('design',{ascending:true});if(error)throw error;setPricingData(data||[]);}catch(error){console.error('Error fetching pricing data:',error);setMessage('Error fetching pricing data: '+error.message);}};const handleFileSelect=event=>{const file=event.target.files[0];if(file){// Validate file type\nif(!file.type.startsWith('image/')){setMessage('Please select an image file (PNG, JPG, etc.)');return;}// Validate file size (max 5MB)\nif(file.size>5*1024*1024){setMessage('File size must be less than 5MB');return;}setSelectedFile(file);const url=URL.createObjectURL(file);setPreviewUrl(url);setMessage('');}};const generateImagePath=()=>{if(!selectedDesign)return'';let path=\"rings/\".concat(selectedDesign);if(selectedMetal){path+=\"/\".concat(selectedMetal);}if(selectedShape){path+=\"/\".concat(selectedShape);}if(selectedCarat){path+=\"/\".concat(selectedCarat,\"ct.png\");}else{path+='/band.png';}return path;};const checkDuplicate=async()=>{const imagePath=generateImagePath();if(!imagePath)return false;try{const{data,error}=await supabase.from('ring_images').select('*').eq('image_url',imagePath).single();if(error&&error.code!=='PGRST116'){throw error;}return!!data;}catch(error){console.error('Error checking duplicate:',error);return false;}};const uploadImage=async()=>{// Validate required fields\nif(!selectedFile){setMessage('Please select an image file');return;}if(!selectedDesign||!selectedMetal||!selectedShape){setMessage('Please select all required options (design, metal, shape)');return;}const caratValue='1.0';let path=\"rings/\".concat(selectedDesign,\"/\").concat(selectedMetal,\"/\").concat(selectedShape,\"/\").concat(caratValue,\"ct.png\");// Check for duplicate (ignore carat)\nconst isDuplicate=uploadedImages.some(img=>img.design===selectedDesign&&img.metal===selectedMetal&&img.diamond_shape===selectedShape);if(isDuplicate){setMessage('An image for this combination already exists');return;}setUploading(true);setMessage('');try{// Upload file to Supabase Storage\nconst{data:uploadData,error:uploadError}=await supabase.storage.from('ring-images').upload(path,selectedFile,{cacheControl:'3600',upsert:false});if(uploadError){console.error('Storage upload error:',uploadError);throw new Error(\"Storage error: \".concat(uploadError.message));}// Get public URL\nconst{data:urlData}=supabase.storage.from('ring-images').getPublicUrl(path);// Save metadata to database (carat = 1.0)\nconst{error:dbError}=await supabase.from('ring_images').insert({metal:selectedMetal,design:selectedDesign,diamond_shape:selectedShape,carat:parseFloat(caratValue),image_url:path,public_url:urlData.publicUrl});if(dbError){console.error('Database error:',dbError);throw new Error(\"Database error: \".concat(dbError.message));}setMessage('✅ Image uploaded successfully!');setSelectedFile(null);setPreviewUrl('');setSelectedMetal('');setSelectedDesign('');setSelectedShape('');setSelectedCarat('');// Reset file input\nconst fileInput=document.getElementById('file-input');if(fileInput)fileInput.value='';// Refresh the list\nfetchUploadedImages();}catch(error){console.error('Upload error:',error);setMessage('❌ Error uploading image: '+error.message);}finally{setUploading(false);}};const deleteImage=async(id,imageUrl)=>{// Remove confirm() and use modal instead\nsetDeleteTarget({id,imageUrl});setShowDeleteModal(true);};const handleDeleteConfirm=async()=>{if(!deleteTarget)return;try{// Debug: log the path being deleted\nconsole.log('Attempting to delete from storage:',deleteTarget.imageUrl);const{error:storageError}=await supabase.storage.from('ring-images').remove([deleteTarget.imageUrl]);if(storageError){console.error('Storage deletion error:',storageError);throw storageError;}// Delete from database\nconst{error:dbError}=await supabase.from('ring_images').delete().eq('id',deleteTarget.id);if(dbError)throw dbError;setMessage('✅ Image deleted successfully!');setPreviewUrl('');// Clear preview after delete\nsetSelectedFile(null);// Clear selected file after delete\nfetchUploadedImages();}catch(error){console.error('Delete error:',error);setMessage('❌ Error deleting image: '+error.message);}finally{setShowDeleteModal(false);setDeleteTarget(null);}};const handleDeleteCancel=()=>{setShowDeleteModal(false);setDeleteTarget(null);};// Price management functions\nconst openPriceModal=design=>{const pricing=pricingData.find(p=>p.design===design);setEditingPrices({design});setPriceForm({price_1_0ct:(pricing===null||pricing===void 0?void 0:pricing.price_1_0ct)||'',price_1_5ct:(pricing===null||pricing===void 0?void 0:pricing.price_1_5ct)||'',price_2_0ct:(pricing===null||pricing===void 0?void 0:pricing.price_2_0ct)||'',price_2_5ct:(pricing===null||pricing===void 0?void 0:pricing.price_2_5ct)||''});setShowPriceModal(true);};const handlePriceUpdate=async()=>{if(!editingPrices)return;try{const{error}=await supabase.from('ring_pricing').upsert({design:editingPrices.design,price_1_0ct:parseFloat(priceForm.price_1_0ct)||0,price_1_5ct:parseFloat(priceForm.price_1_5ct)||0,price_2_0ct:parseFloat(priceForm.price_2_0ct)||0,price_2_5ct:parseFloat(priceForm.price_2_5ct)||0});if(error)throw error;setMessage('✅ Prices updated successfully!');setShowPriceModal(false);setEditingPrices(null);fetchPricingData();}catch(error){console.error('Error updating prices:',error);setMessage('❌ Error updating prices: '+error.message);}};const closePriceModal=()=>{setShowPriceModal(false);setEditingPrices(null);setPriceForm({price_1_0ct:'',price_1_5ct:'',price_2_0ct:'',price_2_5ct:''});};const toggleSection=sectionKey=>{setExpandedSections(prev=>_objectSpread(_objectSpread({},prev),{},{[sectionKey]:!prev[sectionKey]}));};const getMetalLabel=value=>{var _metals$find;return((_metals$find=metals.find(m=>m.value===value))===null||_metals$find===void 0?void 0:_metals$find.label)||value;};const getDesignLabel=value=>{var _designs$find;return((_designs$find=designs.find(d=>d.value===value))===null||_designs$find===void 0?void 0:_designs$find.label)||value;};const getShapeLabel=value=>{var _shapes$find;return((_shapes$find=shapes.find(s=>s.value===value))===null||_shapes$find===void 0?void 0:_shapes$find.label)||value;};// Get pricing for a design\nconst getPricingForDesign=design=>{return pricingData.find(p=>p.design===design);};// Filter and search images\nconst filteredImages=uploadedImages.filter(image=>{var _image$metal,_image$design,_image$diamond_shape,_image$carat;const matchesSearch=!searchTerm||((_image$metal=image.metal)===null||_image$metal===void 0?void 0:_image$metal.toLowerCase().includes(searchTerm.toLowerCase()))||((_image$design=image.design)===null||_image$design===void 0?void 0:_image$design.toLowerCase().includes(searchTerm.toLowerCase()))||((_image$diamond_shape=image.diamond_shape)===null||_image$diamond_shape===void 0?void 0:_image$diamond_shape.toLowerCase().includes(searchTerm.toLowerCase()))||((_image$carat=image.carat)===null||_image$carat===void 0?void 0:_image$carat.toString().includes(searchTerm));const matchesMetal=!filterMetal||image.metal===filterMetal;const matchesDesign=!filterDesign||image.design===filterDesign;return matchesSearch&&matchesMetal&&matchesDesign;});// Group images by metal\nconst groupedImages=filteredImages.reduce((acc,image)=>{const metal=image.metal||'unknown';if(!acc[metal]){acc[metal]=[];}acc[metal].push(image);return acc;},{});// Helper to generate all possible (design, metal, shape) combinations\nconst getAllCombinations=()=>{const combos=[];for(const design of designs){for(const metal of metals){for(const shape of shapes){combos.push({design:design.value,metal:metal.value,shape:shape.value});}}}return combos;};// Check if any image exists for this (design, metal, shape)\nconst isUploaded=combo=>{return uploadedImages.some(img=>img.design===combo.design&&img.metal===combo.metal&&img.diamond_shape===combo.shape);};const missingCombinations=getAllCombinations().filter(combo=>combo.design&&combo.metal&&combo.shape&&!isUploaded(combo));return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 min-h-screen font-sans px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Ring Image Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Upload and manage ring images for the customization system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"Admin Panel\"})]})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-md mb-4 \".concat(message.includes('✅')?'bg-green-50 border border-green-200 text-green-700':message.includes('❌')?'bg-red-50 border border-red-200 text-red-700':'bg-blue-50 border border-blue-200 text-blue-700'),children:message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",id:\"upload-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-5 h-5 mr-2 text-blue-500\"}),\"Upload New Image\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Design * \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"Required\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDesign,onChange:e=>setSelectedDesign(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Design\"}),designs.map(design=>/*#__PURE__*/_jsx(\"option\",{value:design.value,children:design.label},design.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Metal\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedMetal,onChange:e=>setSelectedMetal(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Metal (Optional)\"}),metals.map(metal=>/*#__PURE__*/_jsx(\"option\",{value:metal.value,children:metal.label},metal.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Diamond Shape\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedShape,onChange:e=>setSelectedShape(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Shape (Optional)\"}),shapes.map(shape=>/*#__PURE__*/_jsx(\"option\",{value:shape.value,children:shape.label},shape.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Image File * \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"Required\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",type:\"file\",accept:\"image/*\",onChange:handleFileSelect,className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Supported formats: PNG, JPG, WebP. Max size: 5MB\"})]}),previewUrl&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-300 rounded-md p-2\",children:/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"Preview\",className:\"max-w-full h-32 object-contain mx-auto\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadImage,disabled:uploading||!selectedFile||!selectedDesign,className:\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center\",children:uploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Uploading...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-2\"}),\"Upload Image\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Image,{className:\"w-5 h-5 mr-2 text-green-500\"}),\"Manage Images\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search images...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSearchTerm('');setFilterMetal('');setFilterDesign('');},className:\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800\",children:\"Clear\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{value:filterMetal,onChange:e=>setFilterMetal(e.target.value),className:\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Metals\"}),metals.map(metal=>/*#__PURE__*/_jsx(\"option\",{value:metal.value,children:metal.label},metal.value))]}),/*#__PURE__*/_jsxs(\"select\",{value:filterDesign,onChange:e=>setFilterDesign(e.target.value),className:\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Designs\"}),designs.map(design=>/*#__PURE__*/_jsx(\"option\",{value:design.value,children:design.label},design.value))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"})}):filteredImages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(Image,{className:\"w-12 h-12 mx-auto mb-2 text-gray-300\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No images found\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:Object.entries(groupedImages).map(_ref=>{let[metal,images]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-md\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleSection(metal),className:\"w-full px-4 py-2 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-700\",children:[getMetalLabel(metal),\" (\",images.length,\")\"]}),expandedSections[metal]?/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(ChevronRight,{className:\"w-4 h-4\"})]}),expandedSections[metal]&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 space-y-2\",children:images.map(image=>{var _pricing$price_1_0ct,_pricing$price_1_5ct,_pricing$price_2_0ct,_pricing$price_2_5ct;const pricing=getPricingForDesign(image.design);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-2 bg-white border border-gray-200 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.public_url,alt:\"Ring\",className:\"w-12 h-12 object-cover rounded\",onError:e=>{e.target.src='/placeholder-ring.png';}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:getDesignLabel(image.design)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[image.diamond_shape&&getShapeLabel(image.diamond_shape),image.carat&&\" \\u2022 \".concat(image.carat,\"ct\")]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-green-600 font-medium\",children:[\"1.0ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_1_0ct=pricing.price_1_0ct)===null||_pricing$price_1_0ct===void 0?void 0:_pricing$price_1_0ct.toLocaleString())||'—',\" | 1.5ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_1_5ct=pricing.price_1_5ct)===null||_pricing$price_1_5ct===void 0?void 0:_pricing$price_1_5ct.toLocaleString())||'—',\" | 2.0ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_2_0ct=pricing.price_2_0ct)===null||_pricing$price_2_0ct===void 0?void 0:_pricing$price_2_0ct.toLocaleString())||'—',\" | 2.5ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_2_5ct=pricing.price_2_5ct)===null||_pricing$price_2_5ct===void 0?void 0:_pricing$price_2_5ct.toLocaleString())||'—']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openPriceModal(image.design),className:\"p-1 text-gray-400 hover:text-green-500\",title:\"Edit prices for this design\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.open(image.public_url,'_blank'),className:\"p-1 text-gray-400 hover:text-blue-500\",title:\"View image\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteImage(image.id,image.image_url),className:\"p-1 text-gray-400 hover:text-red-500\",title:\"Delete image\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]},image.id);})})]},metal);})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5 mr-2 text-green-500\"}),\"Pricing Management\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Set prices for each design. Prices are the same for all metals and shapes within a design.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:designs.map(design=>{var _pricing$price_1_0ct2,_pricing$price_1_5ct2,_pricing$price_2_0ct2,_pricing$price_2_5ct2;const pricing=getPricingForDesign(design.value);return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900\",children:design.label}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>openPriceModal(design.value),className:\"p-1 text-gray-400 hover:text-green-500\",title:\"Edit prices\",children:/*#__PURE__*/_jsx(Edit3,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"1.0ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_1_0ct2=pricing.price_1_0ct)===null||_pricing$price_1_0ct2===void 0?void 0:_pricing$price_1_0ct2.toLocaleString())||'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"1.5ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_1_5ct2=pricing.price_1_5ct)===null||_pricing$price_1_5ct2===void 0?void 0:_pricing$price_1_5ct2.toLocaleString())||'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"2.0ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_2_0ct2=pricing.price_2_0ct)===null||_pricing$price_2_0ct2===void 0?void 0:_pricing$price_2_0ct2.toLocaleString())||'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"2.5ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_2_5ct2=pricing.price_2_5ct)===null||_pricing$price_2_5ct2===void 0?void 0:_pricing$price_2_5ct2.toLocaleString())||'—']})]})]},design.value);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-blue-600\",children:uploadedImages.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Total Images\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-green-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-green-600\",children:new Set(uploadedImages.map(img=>img.metal)).size}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Metals\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-purple-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-purple-600\",children:new Set(uploadedImages.map(img=>img.design)).size}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Designs\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-4 bg-yellow-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-yellow-600\",children:new Set(uploadedImages.map(img=>img.diamond_shape)).size}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Shapes\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-12\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 text-green-700\",children:[\"Uploaded Images (\",uploadedImages.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",children:uploadedImages.map((img,idx)=>{var _pricing$price_1_0ct3,_pricing$price_1_5ct3,_pricing$price_2_0ct3,_pricing$price_2_5ct3;const pricing=getPricingForDesign(img.design);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 border border-green-200 rounded-lg p-4 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:img.image_url?supabase.storage.from('ring-images').getPublicUrl(img.image_url).data.publicUrl+\"?t=\".concat(Date.now()):'/placeholder-ring.png',alt:\"\".concat(img.design,\" \").concat(img.metal,\" \").concat(img.diamond_shape),className:\"w-32 h-32 object-contain mb-2 rounded shadow\",onError:e=>{e.target.src='/placeholder-ring.png';}}),/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold mb-1\",children:getDesignLabel(img.design)}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:getMetalLabel(img.metal)}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:getShapeLabel(img.diamond_shape)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-green-600 mb-2 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"1.0ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_1_0ct3=pricing.price_1_0ct)===null||_pricing$price_1_0ct3===void 0?void 0:_pricing$price_1_0ct3.toLocaleString())||'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"1.5ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_1_5ct3=pricing.price_1_5ct)===null||_pricing$price_1_5ct3===void 0?void 0:_pricing$price_1_5ct3.toLocaleString())||'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"2.0ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_2_0ct3=pricing.price_2_0ct)===null||_pricing$price_2_0ct3===void 0?void 0:_pricing$price_2_0ct3.toLocaleString())||'—']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"2.5ct: $\",(pricing===null||pricing===void 0?void 0:(_pricing$price_2_5ct3=pricing.price_2_5ct)===null||_pricing$price_2_5ct3===void 0?void 0:_pricing$price_2_5ct3.toLocaleString())||'—']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"bg-green-500 text-white font-bold px-3 py-1 rounded hover:bg-green-700 transition text-xs\",onClick:()=>openPriceModal(img.design),children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-3 h-3 inline mr-1\"}),\"Prices\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white font-bold px-3 py-1 rounded hover:bg-red-700 transition text-xs\",onClick:()=>deleteImage(img.id,img.image_url),children:\"Delete\"})]})]},img.id||idx);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-12\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold mb-4 text-red-700\",children:[\"Images to Upload (\",missingCombinations.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",children:missingCombinations.map((combo,idx)=>{var _designs$find2,_metals$find2,_shapes$find2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-4 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold mb-2\",children:(_designs$find2=designs.find(d=>d.value===combo.design))===null||_designs$find2===void 0?void 0:_designs$find2.label}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:(_metals$find2=metals.find(m=>m.value===combo.metal))===null||_metals$find2===void 0?void 0:_metals$find2.label}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:(_shapes$find2=shapes.find(s=>s.value===combo.shape))===null||_shapes$find2===void 0?void 0:_shapes$find2.label}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gold text-black font-bold px-4 py-2 rounded hover:bg-black hover:text-gold transition\",onClick:()=>{setSelectedDesign(combo.design);setSelectedMetal(combo.metal);setSelectedShape(combo.shape);setSelectedCarat('');// No carat pre-selected\nconst uploadSection=document.getElementById('upload-section');if(uploadSection){uploadSection.scrollIntoView({behavior:'smooth'});}},children:\"Upload\"})]},idx);})})]})]}),showDeleteModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-2 text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-red-500 mr-2\"}),\"Confirm Deletion\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 mb-4\",children:\"Are you sure you want to delete this image? This action cannot be undone.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteCancel,className:\"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteConfirm,className:\"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\",children:\"Delete\"})]})]})}),showPriceModal&&editingPrices&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5 text-green-500 mr-2\"}),\"Edit Prices - \",getDesignLabel(editingPrices.design)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"These prices apply to all metals and shapes for this design.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"1.0 Carat Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:priceForm.price_1_0ct,onChange:e=>setPriceForm(prev=>_objectSpread(_objectSpread({},prev),{},{price_1_0ct:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"5000.00\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"1.5 Carat Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:priceForm.price_1_5ct,onChange:e=>setPriceForm(prev=>_objectSpread(_objectSpread({},prev),{},{price_1_5ct:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"7500.00\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"2.0 Carat Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:priceForm.price_2_0ct,onChange:e=>setPriceForm(prev=>_objectSpread(_objectSpread({},prev),{},{price_2_0ct:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"10000.00\",min:\"0\",step:\"0.01\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"2.5 Carat Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:priceForm.price_2_5ct,onChange:e=>setPriceForm(prev=>_objectSpread(_objectSpread({},prev),{},{price_2_5ct:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",placeholder:\"12500.00\",min:\"0\",step:\"0.01\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-2 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:closePriceModal,className:\"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePriceUpdate,className:\"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700\",children:\"Update Prices\"})]})]})})]});};export default AdminPanel;","map":{"version":3,"names":["React","useState","useEffect","Upload","Image","Settings","Sparkles","Gem","Zap","Check","X","Trash2","Eye","AlertCircle","ChevronDown","ChevronRight","Plus","Search","Filter","DollarSign","Edit3","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPanel","selectedMetal","setSelectedMetal","selectedDesign","setSelectedDesign","selectedShape","setSelectedShape","selectedCarat","setSelectedCarat","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","uploading","setUploading","uploadedImages","setUploadedImages","message","setMessage","expandedSections","setExpandedSections","searchTerm","setSearchTerm","filterMetal","setFilterMetal","filterDesign","setFilterDesign","loading","setLoading","deleteTarget","setDeleteTarget","showDeleteModal","setShowDeleteModal","pricingData","setPricingData","editingPrices","setEditingPrices","showPriceModal","setShowPriceModal","priceForm","setPriceForm","price_1_0ct","price_1_5ct","price_2_0ct","price_2_5ct","designs","value","label","metals","shapes","carats","fetchUploadedImages","fetchPricingData","data","error","from","select","order","ascending","console","log","handleFileSelect","event","file","target","files","type","startsWith","size","url","URL","createObjectURL","generateImagePath","path","concat","checkDuplicate","imagePath","eq","single","code","uploadImage","caratValue","isDuplicate","some","img","design","metal","diamond_shape","uploadData","uploadError","storage","upload","cacheControl","upsert","Error","urlData","getPublicUrl","dbError","insert","carat","parseFloat","image_url","public_url","publicUrl","fileInput","document","getElementById","deleteImage","id","imageUrl","handleDeleteConfirm","storageError","remove","delete","handleDeleteCancel","openPriceModal","pricing","find","p","handlePriceUpdate","closePriceModal","toggleSection","sectionKey","prev","_objectSpread","getMetalLabel","_metals$find","m","getDesignLabel","_designs$find","d","getShapeLabel","_shapes$find","s","getPricingForDesign","filteredImages","filter","image","_image$metal","_image$design","_image$diamond_shape","_image$carat","matchesSearch","toLowerCase","includes","toString","matchesMetal","matchesDesign","groupedImages","reduce","acc","push","getAllCombinations","combos","shape","isUploaded","combo","missingCombinations","className","children","onChange","e","map","accept","src","alt","onClick","disabled","placeholder","length","Object","entries","_ref","images","_pricing$price_1_0ct","_pricing$price_1_5ct","_pricing$price_2_0ct","_pricing$price_2_5ct","onError","toLocaleString","title","window","open","_pricing$price_1_0ct2","_pricing$price_1_5ct2","_pricing$price_2_0ct2","_pricing$price_2_5ct2","Set","idx","_pricing$price_1_0ct3","_pricing$price_1_5ct3","_pricing$price_2_0ct3","_pricing$price_2_5ct3","Date","now","_designs$find2","_metals$find2","_shapes$find2","uploadSection","scrollIntoView","behavior","min","step"],"sources":["C:/Users/test/Desktop/FinalRingsStore/client/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Upload, Image, Settings, Sparkles, Gem, Zap, Check, X, Trash2, Eye, AlertCircle, ChevronDown, ChevronRight, Plus, Search, Filter, DollarSign, Edit3 } from 'lucide-react';\nimport { supabase } from '../lib/supabase';\n\nconst AdminPanel = () => {\n  const [selectedMetal, setSelectedMetal] = useState('');\n  const [selectedDesign, setSelectedDesign] = useState('');\n  const [selectedShape, setSelectedShape] = useState('');\n  const [selectedCarat, setSelectedCarat] = useState('');\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [uploading, setUploading] = useState(false);\n  const [uploadedImages, setUploadedImages] = useState([]);\n  const [message, setMessage] = useState('');\n  const [expandedSections, setExpandedSections] = useState({});\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterMetal, setFilterMetal] = useState('');\n  const [filterDesign, setFilterDesign] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [deleteTarget, setDeleteTarget] = useState(null); // {id, imageUrl}\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  \n  // Price management states\n  const [pricingData, setPricingData] = useState([]);\n  const [editingPrices, setEditingPrices] = useState(null); // {design, prices}\n  const [showPriceModal, setShowPriceModal] = useState(false);\n  const [priceForm, setPriceForm] = useState({\n    price_1_0ct: '',\n    price_1_5ct: '',\n    price_2_0ct: '',\n    price_2_5ct: ''\n  });\n\n  // Updated options based on your specifications\n  const designs = [\n    { value: 'classic-solitaire', label: 'Classic Solitaire' },\n    { value: 'halo-setting', label: 'Halo Setting' },\n    { value: 'vintage-antique', label: 'Vintage/Antique Style' },\n    { value: 'three-stone', label: 'Three Stone (Trinity)' }\n  ];\n\n  const metals = [\n    { value: 'white-gold', label: 'White Gold (14K/18K)' },\n    { value: 'yellow-gold', label: 'Yellow Gold (14K/18K)' },\n    { value: 'rose-gold', label: 'Rose Gold (14K/18K)' },\n    { value: 'platinum', label: 'Platinum (950)' }\n  ];\n\n  const shapes = [\n    { value: 'round', label: 'Round Brilliant Cut' },\n    { value: 'princess', label: 'Princess Cut (Square)' },\n    { value: 'emerald', label: 'Emerald Cut (Rectangular)' },\n    { value: 'oval', label: 'Oval Brilliant Cut' }\n  ];\n\n  const carats = [\n    { value: '1.0', label: '1.0 Carat' },\n    { value: '1.5', label: '1.5 Carat' },\n    { value: '2.0', label: '2.0 Carat' },\n    { value: '2.5', label: '2.5 Carat' }\n  ];\n\n  useEffect(() => {\n    fetchUploadedImages();\n    fetchPricingData();\n  }, []);\n\n  const fetchUploadedImages = async () => {\n    try {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('ring_images')\n        .select('*')\n        .order('metal', { ascending: true })\n        .order('design', { ascending: true })\n        .order('diamond_shape', { ascending: true })\n        .order('carat', { ascending: true });\n\n      if (error) throw error;\n      setUploadedImages(data || []);\n      console.log('Updated uploadedImages:', data); // Debug log\n    } catch (error) {\n      console.error('Error fetching images:', error);\n      setMessage('Error fetching uploaded images: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPricingData = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('ring_pricing')\n        .select('*')\n        .order('design', { ascending: true });\n\n      if (error) throw error;\n      setPricingData(data || []);\n    } catch (error) {\n      console.error('Error fetching pricing data:', error);\n      setMessage('Error fetching pricing data: ' + error.message);\n    }\n  };\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      // Validate file type\n      if (!file.type.startsWith('image/')) {\n        setMessage('Please select an image file (PNG, JPG, etc.)');\n        return;\n      }\n      \n      // Validate file size (max 5MB)\n      if (file.size > 5 * 1024 * 1024) {\n        setMessage('File size must be less than 5MB');\n        return;\n      }\n\n      setSelectedFile(file);\n      const url = URL.createObjectURL(file);\n      setPreviewUrl(url);\n      setMessage('');\n    }\n  };\n\n  const generateImagePath = () => {\n    if (!selectedDesign) return '';\n    let path = `rings/${selectedDesign}`;\n    if (selectedMetal) {\n      path += `/${selectedMetal}`;\n    }\n    if (selectedShape) {\n      path += `/${selectedShape}`;\n    }\n    if (selectedCarat) {\n      path += `/${selectedCarat}ct.png`;\n    } else {\n      path += '/band.png';\n    }\n    return path;\n  };\n\n  const checkDuplicate = async () => {\n    const imagePath = generateImagePath();\n    if (!imagePath) return false;\n\n    try {\n      const { data, error } = await supabase\n        .from('ring_images')\n        .select('*')\n        .eq('image_url', imagePath)\n        .single();\n\n      if (error && error.code !== 'PGRST116') {\n        throw error;\n      }\n\n      return !!data;\n    } catch (error) {\n      console.error('Error checking duplicate:', error);\n      return false;\n    }\n  };\n\n  const uploadImage = async () => {\n    // Validate required fields\n    if (!selectedFile) {\n      setMessage('Please select an image file');\n      return;\n    }\n    if (!selectedDesign || !selectedMetal || !selectedShape) {\n      setMessage('Please select all required options (design, metal, shape)');\n      return;\n    }\n    const caratValue = '1.0';\n    let path = `rings/${selectedDesign}/${selectedMetal}/${selectedShape}/${caratValue}ct.png`;\n    // Check for duplicate (ignore carat)\n    const isDuplicate = uploadedImages.some(img =>\n      img.design === selectedDesign &&\n      img.metal === selectedMetal &&\n      img.diamond_shape === selectedShape\n    );\n    if (isDuplicate) {\n      setMessage('An image for this combination already exists');\n      return;\n    }\n    setUploading(true);\n    setMessage('');\n    try {\n      // Upload file to Supabase Storage\n      const { data: uploadData, error: uploadError } = await supabase.storage\n        .from('ring-images')\n        .upload(path, selectedFile, {\n          cacheControl: '3600',\n          upsert: false\n        });\n      if (uploadError) {\n        console.error('Storage upload error:', uploadError);\n        throw new Error(`Storage error: ${uploadError.message}`);\n      }\n      // Get public URL\n      const { data: urlData } = supabase.storage\n        .from('ring-images')\n        .getPublicUrl(path);\n      // Save metadata to database (carat = 1.0)\n      const { error: dbError } = await supabase\n        .from('ring_images')\n        .insert({\n          metal: selectedMetal,\n          design: selectedDesign,\n          diamond_shape: selectedShape,\n          carat: parseFloat(caratValue),\n          image_url: path,\n          public_url: urlData.publicUrl\n        });\n      if (dbError) {\n        console.error('Database error:', dbError);\n        throw new Error(`Database error: ${dbError.message}`);\n      }\n      setMessage('✅ Image uploaded successfully!');\n      setSelectedFile(null);\n      setPreviewUrl('');\n      setSelectedMetal('');\n      setSelectedDesign('');\n      setSelectedShape('');\n      setSelectedCarat('');\n      // Reset file input\n      const fileInput = document.getElementById('file-input');\n      if (fileInput) fileInput.value = '';\n      // Refresh the list\n      fetchUploadedImages();\n    } catch (error) {\n      console.error('Upload error:', error);\n      setMessage('❌ Error uploading image: ' + error.message);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const deleteImage = async (id, imageUrl) => {\n    // Remove confirm() and use modal instead\n    setDeleteTarget({ id, imageUrl });\n    setShowDeleteModal(true);\n  };\n\n  const handleDeleteConfirm = async () => {\n    if (!deleteTarget) return;\n    try {\n      // Debug: log the path being deleted\n      console.log('Attempting to delete from storage:', deleteTarget.imageUrl);\n      const { error: storageError } = await supabase.storage\n        .from('ring-images')\n        .remove([deleteTarget.imageUrl]);\n      if (storageError) {\n        console.error('Storage deletion error:', storageError);\n        throw storageError;\n      }\n      // Delete from database\n      const { error: dbError } = await supabase\n        .from('ring_images')\n        .delete()\n        .eq('id', deleteTarget.id);\n      if (dbError) throw dbError;\n      setMessage('✅ Image deleted successfully!');\n      setPreviewUrl(''); // Clear preview after delete\n      setSelectedFile(null); // Clear selected file after delete\n      fetchUploadedImages();\n    } catch (error) {\n      console.error('Delete error:', error);\n      setMessage('❌ Error deleting image: ' + error.message);\n    } finally {\n      setShowDeleteModal(false);\n      setDeleteTarget(null);\n    }\n  };\n\n  const handleDeleteCancel = () => {\n    setShowDeleteModal(false);\n    setDeleteTarget(null);\n  };\n\n  // Price management functions\n  const openPriceModal = (design) => {\n    const pricing = pricingData.find(p => p.design === design);\n    setEditingPrices({ design });\n    setPriceForm({\n      price_1_0ct: pricing?.price_1_0ct || '',\n      price_1_5ct: pricing?.price_1_5ct || '',\n      price_2_0ct: pricing?.price_2_0ct || '',\n      price_2_5ct: pricing?.price_2_5ct || ''\n    });\n    setShowPriceModal(true);\n  };\n\n  const handlePriceUpdate = async () => {\n    if (!editingPrices) return;\n    \n    try {\n      const { error } = await supabase\n        .from('ring_pricing')\n        .upsert({\n          design: editingPrices.design,\n          price_1_0ct: parseFloat(priceForm.price_1_0ct) || 0,\n          price_1_5ct: parseFloat(priceForm.price_1_5ct) || 0,\n          price_2_0ct: parseFloat(priceForm.price_2_0ct) || 0,\n          price_2_5ct: parseFloat(priceForm.price_2_5ct) || 0\n        });\n\n      if (error) throw error;\n      \n      setMessage('✅ Prices updated successfully!');\n      setShowPriceModal(false);\n      setEditingPrices(null);\n      fetchPricingData();\n    } catch (error) {\n      console.error('Error updating prices:', error);\n      setMessage('❌ Error updating prices: ' + error.message);\n    }\n  };\n\n  const closePriceModal = () => {\n    setShowPriceModal(false);\n    setEditingPrices(null);\n    setPriceForm({\n      price_1_0ct: '',\n      price_1_5ct: '',\n      price_2_0ct: '',\n      price_2_5ct: ''\n    });\n  };\n\n  const toggleSection = (sectionKey) => {\n    setExpandedSections(prev => ({\n      ...prev,\n      [sectionKey]: !prev[sectionKey]\n    }));\n  };\n\n  const getMetalLabel = (value) => {\n    return metals.find(m => m.value === value)?.label || value;\n  };\n\n  const getDesignLabel = (value) => {\n    return designs.find(d => d.value === value)?.label || value;\n  };\n\n  const getShapeLabel = (value) => {\n    return shapes.find(s => s.value === value)?.label || value;\n  };\n\n  // Get pricing for a design\n  const getPricingForDesign = (design) => {\n    return pricingData.find(p => p.design === design);\n  };\n\n  // Filter and search images\n  const filteredImages = uploadedImages.filter(image => {\n    const matchesSearch = !searchTerm || \n      image.metal?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      image.design?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      image.diamond_shape?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      image.carat?.toString().includes(searchTerm);\n    \n    const matchesMetal = !filterMetal || image.metal === filterMetal;\n    const matchesDesign = !filterDesign || image.design === filterDesign;\n    \n    return matchesSearch && matchesMetal && matchesDesign;\n  });\n\n  // Group images by metal\n  const groupedImages = filteredImages.reduce((acc, image) => {\n    const metal = image.metal || 'unknown';\n    if (!acc[metal]) {\n      acc[metal] = [];\n    }\n    acc[metal].push(image);\n    return acc;\n  }, {});\n\n  // Helper to generate all possible (design, metal, shape) combinations\n  const getAllCombinations = () => {\n    const combos = [];\n    for (const design of designs) {\n      for (const metal of metals) {\n        for (const shape of shapes) {\n          combos.push({\n            design: design.value,\n            metal: metal.value,\n            shape: shape.value,\n          });\n        }\n      }\n    }\n    return combos;\n  };\n\n  // Check if any image exists for this (design, metal, shape)\n  const isUploaded = (combo) => {\n    return uploadedImages.some(img =>\n      img.design === combo.design &&\n      img.metal === combo.metal &&\n      img.diamond_shape === combo.shape\n    );\n  };\n\n  const missingCombinations = getAllCombinations().filter(combo =>\n    combo.design && combo.metal && combo.shape && !isUploaded(combo)\n  );\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen font-sans px-4 py-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Ring Image Management</h1>\n              <p className=\"text-gray-600 mt-1\">Upload and manage ring images for the customization system</p>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <Settings className=\"w-5 h-5 text-gray-400\" />\n              <span className=\"text-sm text-gray-500\">Admin Panel</span>\n            </div>\n          </div>\n          \n          {/* Message Display */}\n          {message && (\n            <div className={`p-3 rounded-md mb-4 ${\n              message.includes('✅') \n                ? 'bg-green-50 border border-green-200 text-green-700' \n                : message.includes('❌') \n                ? 'bg-red-50 border border-red-200 text-red-700'\n                : 'bg-blue-50 border border-blue-200 text-blue-700'\n            }`}>\n              {message}\n            </div>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Upload Section */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\" id=\"upload-section\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n              <Upload className=\"w-5 h-5 mr-2 text-blue-500\" />\n              Upload New Image\n            </h2>\n            \n            <div className=\"space-y-4\">\n              {/* Design Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Design * <span className=\"text-red-500\">Required</span>\n                </label>\n                <select\n                  value={selectedDesign}\n                  onChange={(e) => setSelectedDesign(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select Design</option>\n                  {designs.map(design => (\n                    <option key={design.value} value={design.value}>\n                      {design.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Metal Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Metal\n                </label>\n                <select\n                  value={selectedMetal}\n                  onChange={(e) => setSelectedMetal(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select Metal (Optional)</option>\n                  {metals.map(metal => (\n                    <option key={metal.value} value={metal.value}>\n                      {metal.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Shape Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Diamond Shape\n                </label>\n                <select\n                  value={selectedShape}\n                  onChange={(e) => setSelectedShape(e.target.value)}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select Shape (Optional)</option>\n                  {shapes.map(shape => (\n                    <option key={shape.value} value={shape.value}>\n                      {shape.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* File Upload */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Image File * <span className=\"text-red-500\">Required</span>\n                </label>\n                <input\n                  id=\"file-input\"\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleFileSelect}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Supported formats: PNG, JPG, WebP. Max size: 5MB\n                </p>\n              </div>\n\n              {/* Preview */}\n              {previewUrl && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Preview\n                  </label>\n                  <div className=\"border border-gray-300 rounded-md p-2\">\n                    <img\n                      src={previewUrl}\n                      alt=\"Preview\"\n                      className=\"max-w-full h-32 object-contain mx-auto\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              {/* Upload Button */}\n              <button\n                onClick={uploadImage}\n                disabled={uploading || !selectedFile || !selectedDesign}\n                className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center\"\n              >\n                {uploading ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    Uploading...\n                  </>\n                ) : (\n                  <>\n                    <Upload className=\"w-4 h-4 mr-2\" />\n                    Upload Image\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n\n          {/* Image Management Section */}\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n              <Image className=\"w-5 h-5 mr-2 text-green-500\" />\n              Manage Images\n          </h2>\n\n            {/* Search and Filter */}\n            <div className=\"mb-4 space-y-2\">\n              <div className=\"flex space-x-2\">\n                <div className=\"flex-1\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search images...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n                <button\n                  onClick={() => {\n                    setSearchTerm('');\n                    setFilterMetal('');\n                    setFilterDesign('');\n                  }}\n                  className=\"px-3 py-2 text-sm text-gray-600 hover:text-gray-800\"\n                >\n                  Clear\n                </button>\n              </div>\n              <div className=\"flex space-x-2\">\n                <select\n                  value={filterMetal}\n                  onChange={(e) => setFilterMetal(e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">All Metals</option>\n                  {metals.map(metal => (\n                    <option key={metal.value} value={metal.value}>\n                      {metal.label}\n                    </option>\n                  ))}\n                </select>\n                <select\n                  value={filterDesign}\n                  onChange={(e) => setFilterDesign(e.target.value)}\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">All Designs</option>\n                  {designs.map(design => (\n                    <option key={design.value} value={design.value}>\n                      {design.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            {/* Image List */}\n            <div className=\"max-h-96 overflow-y-auto\">\n              {loading ? (\n                <div className=\"flex items-center justify-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n                </div>\n              ) : filteredImages.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <Image className=\"w-12 h-12 mx-auto mb-2 text-gray-300\" />\n                  <p>No images found</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {Object.entries(groupedImages).map(([metal, images]) => (\n                    <div key={metal} className=\"border border-gray-200 rounded-md\">\n                      <button\n                        onClick={() => toggleSection(metal)}\n                        className=\"w-full px-4 py-2 bg-gray-50 hover:bg-gray-100 flex items-center justify-between text-left\"\n                      >\n                        <span className=\"font-medium text-gray-700\">\n                          {getMetalLabel(metal)} ({images.length})\n                        </span>\n                        {expandedSections[metal] ? (\n                          <ChevronDown className=\"w-4 h-4\" />\n                        ) : (\n                          <ChevronRight className=\"w-4 h-4\" />\n                        )}\n                      </button>\n                      \n                      {expandedSections[metal] && (\n                        <div className=\"p-4 space-y-2\">\n                          {images.map((image) => {\n                            const pricing = getPricingForDesign(image.design);\n                            return (\n                              <div key={image.id} className=\"flex items-center justify-between p-2 bg-white border border-gray-200 rounded\">\n                                <div className=\"flex items-center space-x-3\">\n                                  <img\n                                    src={image.public_url}\n                                    alt=\"Ring\"\n                                    className=\"w-12 h-12 object-cover rounded\"\n                                    onError={(e) => {\n                                      e.target.src = '/placeholder-ring.png';\n                                    }}\n                                  />\n                                  <div>\n                                    <p className=\"text-sm font-medium text-gray-900\">\n                                      {getDesignLabel(image.design)}\n                                    </p>\n                                    <p className=\"text-xs text-gray-500\">\n                                      {image.diamond_shape && getShapeLabel(image.diamond_shape)}\n                                      {image.carat && ` • ${image.carat}ct`}\n                                    </p>\n                                    <p className=\"text-xs text-green-600 font-medium\">\n                                      1.0ct: ${pricing?.price_1_0ct?.toLocaleString() || '—'} | \n                                      1.5ct: ${pricing?.price_1_5ct?.toLocaleString() || '—'} | \n                                      2.0ct: ${pricing?.price_2_0ct?.toLocaleString() || '—'} | \n                                      2.5ct: ${pricing?.price_2_5ct?.toLocaleString() || '—'}\n                                    </p>\n                                  </div>\n                                </div>\n                                <div className=\"flex items-center space-x-1\">\n                                  <button\n                                    onClick={() => openPriceModal(image.design)}\n                                    className=\"p-1 text-gray-400 hover:text-green-500\"\n                                    title=\"Edit prices for this design\"\n                                  >\n                                    <DollarSign className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => window.open(image.public_url, '_blank')}\n                                    className=\"p-1 text-gray-400 hover:text-blue-500\"\n                                    title=\"View image\"\n                                  >\n                                    <Eye className=\"w-4 h-4\" />\n                                  </button>\n                                  <button\n                                    onClick={() => deleteImage(image.id, image.image_url)}\n                                    className=\"p-1 text-gray-400 hover:text-red-500\"\n                                    title=\"Delete image\"\n                                  >\n                                    <Trash2 className=\"w-4 h-4\" />\n                                  </button>\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Pricing Management Section */}\n        <div className=\"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-4 flex items-center\">\n            <DollarSign className=\"w-5 h-5 mr-2 text-green-500\" />\n            Pricing Management\n          </h2>\n          <p className=\"text-gray-600 mb-4\">\n            Set prices for each design. Prices are the same for all metals and shapes within a design.\n          </p>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            {designs.map(design => {\n              const pricing = getPricingForDesign(design.value);\n              return (\n                <div key={design.value} className=\"border border-gray-200 rounded-lg p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h3 className=\"font-semibold text-gray-900\">{design.label}</h3>\n                    <button\n                      onClick={() => openPriceModal(design.value)}\n                      className=\"p-1 text-gray-400 hover:text-green-500\"\n                      title=\"Edit prices\"\n                    >\n                      <Edit3 className=\"w-4 h-4\" />\n                    </button>\n                  </div>\n                  <div className=\"space-y-1 text-sm\">\n                    <div>1.0ct: ${pricing?.price_1_0ct?.toLocaleString() || '—'}</div>\n                    <div>1.5ct: ${pricing?.price_1_5ct?.toLocaleString() || '—'}</div>\n                    <div>2.0ct: ${pricing?.price_2_0ct?.toLocaleString() || '—'}</div>\n                    <div>2.5ct: ${pricing?.price_2_5ct?.toLocaleString() || '—'}</div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Statistics */}\n        <div className=\"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Statistics</h3>\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-blue-600\">{uploadedImages.length}</div>\n              <div className=\"text-sm text-gray-600\">Total Images</div>\n            </div>\n            <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-green-600\">\n                {new Set(uploadedImages.map(img => img.metal)).size}\n              </div>\n              <div className=\"text-sm text-gray-600\">Metals</div>\n            </div>\n            <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-purple-600\">\n                {new Set(uploadedImages.map(img => img.design)).size}\n              </div>\n              <div className=\"text-sm text-gray-600\">Designs</div>\n            </div>\n            <div className=\"text-center p-4 bg-yellow-50 rounded-lg\">\n              <div className=\"text-2xl font-bold text-yellow-600\">\n                {new Set(uploadedImages.map(img => img.diamond_shape)).size}\n              </div>\n              <div className=\"text-sm text-gray-600\">Shapes</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Section: Uploaded Images Grid */}\n        <div className=\"mt-12\">\n          <h2 className=\"text-xl font-bold mb-4 text-green-700\">Uploaded Images ({uploadedImages.length})</h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n            {uploadedImages.map((img, idx) => {\n              const pricing = getPricingForDesign(img.design);\n              return (\n                <div key={img.id || idx} className=\"bg-green-50 border border-green-200 rounded-lg p-4 flex flex-col items-center\">\n                  <img\n                    src={img.image_url ? supabase.storage.from('ring-images').getPublicUrl(img.image_url).data.publicUrl + `?t=${Date.now()}` : '/placeholder-ring.png'}\n                    alt={`${img.design} ${img.metal} ${img.diamond_shape}`}\n                    className=\"w-32 h-32 object-contain mb-2 rounded shadow\"\n                    onError={e => { e.target.src = '/placeholder-ring.png'; }}\n                  />\n                  <div className=\"font-semibold mb-1\">{getDesignLabel(img.design)}</div>\n                  <div className=\"mb-1\">{getMetalLabel(img.metal)}</div>\n                  <div className=\"mb-1\">{getShapeLabel(img.diamond_shape)}</div>\n                  <div className=\"text-xs text-green-600 mb-2 text-center\">\n                    <div>1.0ct: ${pricing?.price_1_0ct?.toLocaleString() || '—'}</div>\n                    <div>1.5ct: ${pricing?.price_1_5ct?.toLocaleString() || '—'}</div>\n                    <div>2.0ct: ${pricing?.price_2_0ct?.toLocaleString() || '—'}</div>\n                    <div>2.5ct: ${pricing?.price_2_5ct?.toLocaleString() || '—'}</div>\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      className=\"bg-green-500 text-white font-bold px-3 py-1 rounded hover:bg-green-700 transition text-xs\"\n                      onClick={() => openPriceModal(img.design)}\n                    >\n                      <DollarSign className=\"w-3 h-3 inline mr-1\" />\n                      Prices\n                    </button>\n                    <button\n                      className=\"bg-red-500 text-white font-bold px-3 py-1 rounded hover:bg-red-700 transition text-xs\"\n                      onClick={() => deleteImage(img.id, img.image_url)}\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Section: Missing Images Grid */}\n        <div className=\"mt-12\">\n          <h2 className=\"text-xl font-bold mb-4 text-red-700\">Images to Upload ({missingCombinations.length})</h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n            {missingCombinations.map((combo, idx) => (\n              <div key={idx} className=\"bg-red-50 border border-red-200 rounded-lg p-4 flex flex-col items-center\">\n                <div className=\"font-semibold mb-2\">{designs.find(d => d.value === combo.design)?.label}</div>\n                <div className=\"mb-1\">{metals.find(m => m.value === combo.metal)?.label}</div>\n                <div className=\"mb-1\">{shapes.find(s => s.value === combo.shape)?.label}</div>\n                {/* No carat shown, since not required */}\n                <button\n                  className=\"bg-gold text-black font-bold px-4 py-2 rounded hover:bg-black hover:text-gold transition\"\n                  onClick={() => {\n                    setSelectedDesign(combo.design);\n                    setSelectedMetal(combo.metal);\n                    setSelectedShape(combo.shape);\n                    setSelectedCarat(''); // No carat pre-selected\n                    const uploadSection = document.getElementById('upload-section');\n                    if (uploadSection) {\n                      uploadSection.scrollIntoView({ behavior: 'smooth' });\n                    }\n                  }}\n                >\n                  Upload\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Delete Confirmation Modal */}\n      {showDeleteModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\">\n          <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full\">\n            <h3 className=\"text-lg font-semibold mb-2 text-gray-900 flex items-center\">\n              <AlertCircle className=\"w-5 h-5 text-red-500 mr-2\" />\n              Confirm Deletion\n            </h3>\n            <p className=\"text-gray-700 mb-4\">Are you sure you want to delete this image? This action cannot be undone.</p>\n            <div className=\"flex justify-end gap-2\">\n              <button\n                onClick={handleDeleteCancel}\n                className=\"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleDeleteConfirm}\n                className=\"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Price Edit Modal */}\n      {showPriceModal && editingPrices && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40\">\n          <div className=\"bg-white rounded-lg shadow-lg p-6 max-w-md w-full\">\n            <h3 className=\"text-lg font-semibold mb-4 text-gray-900 flex items-center\">\n              <DollarSign className=\"w-5 h-5 text-green-500 mr-2\" />\n              Edit Prices - {getDesignLabel(editingPrices.design)}\n            </h3>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              These prices apply to all metals and shapes for this design.\n            </p>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">1.0 Carat Price</label>\n                <input\n                  type=\"number\"\n                  value={priceForm.price_1_0ct}\n                  onChange={(e) => setPriceForm(prev => ({ ...prev, price_1_0ct: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"5000.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">1.5 Carat Price</label>\n                <input\n                  type=\"number\"\n                  value={priceForm.price_1_5ct}\n                  onChange={(e) => setPriceForm(prev => ({ ...prev, price_1_5ct: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"7500.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">2.0 Carat Price</label>\n                <input\n                  type=\"number\"\n                  value={priceForm.price_2_0ct}\n                  onChange={(e) => setPriceForm(prev => ({ ...prev, price_2_0ct: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"10000.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">2.5 Carat Price</label>\n                <input\n                  type=\"number\"\n                  value={priceForm.price_2_5ct}\n                  onChange={(e) => setPriceForm(prev => ({ ...prev, price_2_5ct: e.target.value }))}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  placeholder=\"12500.00\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"flex justify-end gap-2 mt-6\">\n              <button\n                onClick={closePriceModal}\n                className=\"px-4 py-2 rounded bg-gray-200 text-gray-700 hover:bg-gray-300\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handlePriceUpdate}\n                className=\"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700\"\n              >\n                Update Prices\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}