{"ast":null,"code":"import _objectSpread from\"C:/Users/test/Desktop/FinalRingsStore/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Upload,Image,Settings,Sparkles,Gem,Zap,Check,X,Trash2,Eye,AlertCircle}from'lucide-react';import{supabase}from'../lib/supabase';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPanel=()=>{const[formData,setFormData]=useState({metal:'',design:'',shape:'',carat:''});const[selectedFile,setSelectedFile]=useState(null);const[previewUrl,setPreviewUrl]=useState('');const[isUploading,setIsUploading]=useState(false);const[uploadStatus,setUploadStatus]=useState('');const[uploadedImages,setUploadedImages]=useState([]);const[isLoading,setIsLoading]=useState(true);const ringOptions={metals:[{id:'white-gold',name:'White Gold'},{id:'yellow-gold',name:'Yellow Gold'},{id:'rose-gold',name:'Rose Gold'},{id:'platinum',name:'Platinum'}],designs:[{id:'solitaire',name:'Solitaire'},{id:'halo',name:'Halo'},{id:'vintage',name:'Vintage'},{id:'three-stone',name:'Three Stone'}],shapes:[{id:'round',name:'Round'},{id:'princess',name:'Princess'},{id:'emerald',name:'Emerald'},{id:'oval',name:'Oval'}],carats:[{id:'1.0',name:'1.0 Carat'},{id:'1.5',name:'1.5 Carat'},{id:'2.0',name:'2.0 Carat'},{id:'2.5',name:'2.5 Carat'}]};// Load existing images on component mount\nuseEffect(()=>{loadUploadedImages();},[]);const loadUploadedImages=async()=>{try{const{data,error}=await supabase.from('ring_images').select('*').order('created_at',{ascending:false});if(error)throw error;setUploadedImages(data||[]);}catch(error){console.error('Error loading images:',error);setUploadStatus('Error loading images: '+error.message);}finally{setIsLoading(false);}};const handleInputChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));setUploadStatus('');// Clear status when form changes\n};const handleFileSelect=event=>{const file=event.target.files[0];if(!file)return;// Validate file type\nif(!file.type.includes('image/')){setUploadStatus('Please select a valid image file');return;}// Validate file size (max 5MB)\nif(file.size>5*1024*1024){setUploadStatus('File size must be less than 5MB');return;}setSelectedFile(file);// Create preview\nconst reader=new FileReader();reader.onload=e=>setPreviewUrl(e.target.result);reader.readAsDataURL(file);setUploadStatus('');};const validateForm=()=>{if(!formData.metal||!formData.design||!formData.shape||!formData.carat){setUploadStatus('Please fill in all fields');return false;}if(!selectedFile){setUploadStatus('Please select an image file');return false;}return true;};const checkDuplicate=async()=>{try{const{data,error}=await supabase.from('ring_images').select('id').eq('metal',formData.metal).eq('design',formData.design).eq('diamond_shape',formData.shape).eq('carat',parseFloat(formData.carat)).single();if(error&&error.code!=='PGRST116'){// PGRST116 = no rows returned\nthrow error;}if(data){setUploadStatus('An image for this combination already exists');return true;}return false;}catch(error){console.error('Error checking duplicate:',error);return false;}};const uploadImage=async()=>{if(!validateForm())return;const isDuplicate=await checkDuplicate();if(isDuplicate)return;setIsUploading(true);setUploadStatus('Uploading...');try{// 1. Upload file to Supabase Storage\nconst filePath=\"/rings/\".concat(formData.metal,\"/\").concat(formData.design,\"/\").concat(formData.shape,\"/weight-\").concat(formData.carat,\".png\");const{data:uploadData,error:uploadError}=await supabase.storage.from('ring-images').upload(filePath,selectedFile,{cacheControl:'3600',upsert:false});if(uploadError)throw uploadError;// 2. Get public URL\nconst{data:urlData}=supabase.storage.from('ring-images').getPublicUrl(filePath);// 3. Save metadata to database\nconst{error:dbError}=await supabase.from('ring_images').insert({metal:formData.metal,design:formData.design,diamond_shape:formData.shape,carat:parseFloat(formData.carat),image_url:urlData.publicUrl});if(dbError)throw dbError;// Success!\nsetUploadStatus('Upload successful!');setFormData({metal:'',design:'',shape:'',carat:''});setSelectedFile(null);setPreviewUrl('');// Reload images\nawait loadUploadedImages();}catch(error){console.error('Upload error:',error);setUploadStatus('Upload failed: '+error.message);}finally{setIsUploading(false);}};const deleteImage=async(id,imageUrl)=>{if(!confirm('Are you sure you want to delete this image?'))return;try{// Delete from database\nconst{error:dbError}=await supabase.from('ring_images').delete().eq('id',id);if(dbError)throw dbError;// Delete from storage (optional - you might want to keep files)\n// const { error: storageError } = await supabase.storage\n//   .from('ring-images')\n//   .remove([imageUrl]);\nsetUploadStatus('Image deleted successfully');await loadUploadedImages();}catch(error){console.error('Delete error:',error);setUploadStatus('Delete failed: '+error.message);}};const getOptionName=(type,id)=>{var _options$find;const options=ringOptions[type];return(options===null||options===void 0?void 0:(_options$find=options.find(opt=>opt.id===id))===null||_options$find===void 0?void 0:_options$find.name)||id;};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-soft border-b border-gray-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-serif font-semibold text-gray-900\",children:\"Ring Customizer Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Upload structured ring images to Supabase\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"btn-secondary flex items-center\",children:\"\\u2190 Back to Customizer\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-6\",children:\"Upload Ring Image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Metal *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.metal,onChange:e=>handleInputChange('metal',e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Metal\"}),ringOptions.metals.map(metal=>/*#__PURE__*/_jsx(\"option\",{value:metal.id,children:metal.name},metal.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Design *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.design,onChange:e=>handleInputChange('design',e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Design\"}),ringOptions.designs.map(design=>/*#__PURE__*/_jsx(\"option\",{value:design.id,children:design.name},design.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Diamond Shape *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.shape,onChange:e=>handleInputChange('shape',e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Shape\"}),ringOptions.shapes.map(shape=>/*#__PURE__*/_jsx(\"option\",{value:shape.id,children:shape.name},shape.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Carat Weight *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.carat,onChange:e=>handleInputChange('carat',e.target.value),className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Carat\"}),ringOptions.carats.map(carat=>/*#__PURE__*/_jsx(\"option\",{value:carat.id,children:carat.name},carat.id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Ring Image *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileSelect,disabled:isUploading,className:\"hidden\",id:\"imageUpload\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"imageUpload\",className:\"cursor-pointer flex flex-col items-center \".concat(isUploading?'opacity-50 cursor-not-allowed':''),children:[/*#__PURE__*/_jsx(Upload,{size:32,className:\"text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Click to select image (PNG recommended)\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Max 5MB, 800x800px recommended\"})]})]})]}),previewUrl&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Preview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-32 h-32 border border-gray-200 rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"Preview\",className:\"w-full h-full object-cover\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:uploadImage,disabled:isUploading||!selectedFile||!formData.metal||!formData.design||!formData.shape||!formData.carat,className:\"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",children:isUploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Uploading...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Upload,{size:20,className:\"mr-2\"}),\"Upload Image\"]})}),uploadStatus&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 rounded-lg text-sm flex items-center \".concat(uploadStatus.includes('successful')?'bg-green-50 text-green-800 border border-green-200':uploadStatus.includes('Uploading')?'bg-blue-50 text-blue-800 border border-blue-200':'bg-red-50 text-red-800 border border-red-200'),children:[uploadStatus.includes('successful')?/*#__PURE__*/_jsx(Check,{size:16,className:\"mr-2\"}):uploadStatus.includes('Uploading')?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2\"}):/*#__PURE__*/_jsx(AlertCircle,{size:16,className:\"mr-2\"}),uploadStatus]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-6\",children:\"Uploaded Images\"}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2\",children:\"Loading images...\"})]}):uploadedImages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-500\",children:[/*#__PURE__*/_jsx(Image,{size:48,className:\"mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No images uploaded yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Start by uploading ring images\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 max-h-96 overflow-y-auto\",children:uploadedImages.map(image=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center p-3 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden mr-4\",children:/*#__PURE__*/_jsx(\"img\",{src:image.image_url,alt:\"Ring\",className:\"w-full h-full object-cover\",onError:e=>{e.target.src='/placeholder-option.png';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[getOptionName('metals',image.metal),\" \\u2022 \",getOptionName('designs',image.design)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600\",children:[getOptionName('shapes',image.diamond_shape),\" \\u2022 \",image.carat,\" Carat\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Path: /rings/\",image.metal,\"/\",image.design,\"/\",image.diamond_shape,\"/weight-\",image.carat,\".png\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.open(image.image_url,'_blank'),className:\"p-1 text-gray-400 hover:text-gray-600\",title:\"View image\",children:/*#__PURE__*/_jsx(Eye,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteImage(image.id,image.image_url),className:\"p-1 text-red-400 hover:text-red-600\",title:\"Delete image\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},image.id))})]})]})})]});};export default AdminPanel;","map":{"version":3,"names":["React","useState","useEffect","Upload","Image","Settings","Sparkles","Gem","Zap","Check","X","Trash2","Eye","AlertCircle","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPanel","formData","setFormData","metal","design","shape","carat","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","isUploading","setIsUploading","uploadStatus","setUploadStatus","uploadedImages","setUploadedImages","isLoading","setIsLoading","ringOptions","metals","id","name","designs","shapes","carats","loadUploadedImages","data","error","from","select","order","ascending","console","message","handleInputChange","field","value","prev","_objectSpread","handleFileSelect","event","file","target","files","type","includes","size","reader","FileReader","onload","e","result","readAsDataURL","validateForm","checkDuplicate","eq","parseFloat","single","code","uploadImage","isDuplicate","filePath","concat","uploadData","uploadError","storage","upload","cacheControl","upsert","urlData","getPublicUrl","dbError","insert","diamond_shape","image_url","publicUrl","deleteImage","imageUrl","confirm","delete","getOptionName","_options$find","options","find","opt","className","children","href","onChange","map","accept","disabled","htmlFor","src","alt","onClick","length","image","onError","window","open","title"],"sources":["C:/Users/test/Desktop/FinalRingsStore/client/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Upload, Image, Settings, Sparkles, Gem, Zap, Check, X, Trash2, Eye, AlertCircle } from 'lucide-react';\r\nimport { supabase } from '../lib/supabase';\r\n\r\nconst AdminPanel = () => {\r\n  const [formData, setFormData] = useState({\r\n    metal: '',\r\n    design: '',\r\n    shape: '',\r\n    carat: ''\r\n  });\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [previewUrl, setPreviewUrl] = useState('');\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadStatus, setUploadStatus] = useState('');\r\n  const [uploadedImages, setUploadedImages] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const ringOptions = {\r\n    metals: [\r\n      { id: 'white-gold', name: 'White Gold' },\r\n      { id: 'yellow-gold', name: 'Yellow Gold' },\r\n      { id: 'rose-gold', name: 'Rose Gold' },\r\n      { id: 'platinum', name: 'Platinum' }\r\n    ],\r\n    designs: [\r\n      { id: 'solitaire', name: 'Solitaire' },\r\n      { id: 'halo', name: 'Halo' },\r\n      { id: 'vintage', name: 'Vintage' },\r\n      { id: 'three-stone', name: 'Three Stone' }\r\n    ],\r\n    shapes: [\r\n      { id: 'round', name: 'Round' },\r\n      { id: 'princess', name: 'Princess' },\r\n      { id: 'emerald', name: 'Emerald' },\r\n      { id: 'oval', name: 'Oval' }\r\n    ],\r\n    carats: [\r\n      { id: '1.0', name: '1.0 Carat' },\r\n      { id: '1.5', name: '1.5 Carat' },\r\n      { id: '2.0', name: '2.0 Carat' },\r\n      { id: '2.5', name: '2.5 Carat' }\r\n    ]\r\n  };\r\n\r\n  // Load existing images on component mount\r\n  useEffect(() => {\r\n    loadUploadedImages();\r\n  }, []);\r\n\r\n  const loadUploadedImages = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('ring_images')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) throw error;\r\n      setUploadedImages(data || []);\r\n    } catch (error) {\r\n      console.error('Error loading images:', error);\r\n      setUploadStatus('Error loading images: ' + error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n    setUploadStatus(''); // Clear status when form changes\r\n  };\r\n\r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file type\r\n    if (!file.type.includes('image/')) {\r\n      setUploadStatus('Please select a valid image file');\r\n      return;\r\n    }\r\n\r\n    // Validate file size (max 5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setUploadStatus('File size must be less than 5MB');\r\n      return;\r\n    }\r\n\r\n    setSelectedFile(file);\r\n    \r\n    // Create preview\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => setPreviewUrl(e.target.result);\r\n    reader.readAsDataURL(file);\r\n    \r\n    setUploadStatus('');\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!formData.metal || !formData.design || !formData.shape || !formData.carat) {\r\n      setUploadStatus('Please fill in all fields');\r\n      return false;\r\n    }\r\n    if (!selectedFile) {\r\n      setUploadStatus('Please select an image file');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const checkDuplicate = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('ring_images')\r\n        .select('id')\r\n        .eq('metal', formData.metal)\r\n        .eq('design', formData.design)\r\n        .eq('diamond_shape', formData.shape)\r\n        .eq('carat', parseFloat(formData.carat))\r\n        .single();\r\n\r\n      if (error && error.code !== 'PGRST116') { // PGRST116 = no rows returned\r\n        throw error;\r\n      }\r\n\r\n      if (data) {\r\n        setUploadStatus('An image for this combination already exists');\r\n        return true;\r\n      }\r\n      return false;\r\n    } catch (error) {\r\n      console.error('Error checking duplicate:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const uploadImage = async () => {\r\n    if (!validateForm()) return;\r\n\r\n    const isDuplicate = await checkDuplicate();\r\n    if (isDuplicate) return;\r\n\r\n    setIsUploading(true);\r\n    setUploadStatus('Uploading...');\r\n\r\n    try {\r\n      // 1. Upload file to Supabase Storage\r\n      const filePath = `/rings/${formData.metal}/${formData.design}/${formData.shape}/weight-${formData.carat}.png`;\r\n      \r\n      const { data: uploadData, error: uploadError } = await supabase.storage\r\n        .from('ring-images')\r\n        .upload(filePath, selectedFile, {\r\n          cacheControl: '3600',\r\n          upsert: false\r\n        });\r\n\r\n      if (uploadError) throw uploadError;\r\n\r\n      // 2. Get public URL\r\n      const { data: urlData } = supabase.storage\r\n        .from('ring-images')\r\n        .getPublicUrl(filePath);\r\n\r\n      // 3. Save metadata to database\r\n      const { error: dbError } = await supabase\r\n        .from('ring_images')\r\n        .insert({\r\n          metal: formData.metal,\r\n          design: formData.design,\r\n          diamond_shape: formData.shape,\r\n          carat: parseFloat(formData.carat),\r\n          image_url: urlData.publicUrl\r\n        });\r\n\r\n      if (dbError) throw dbError;\r\n\r\n      // Success!\r\n      setUploadStatus('Upload successful!');\r\n      setFormData({ metal: '', design: '', shape: '', carat: '' });\r\n      setSelectedFile(null);\r\n      setPreviewUrl('');\r\n      \r\n      // Reload images\r\n      await loadUploadedImages();\r\n\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      setUploadStatus('Upload failed: ' + error.message);\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const deleteImage = async (id, imageUrl) => {\r\n    if (!confirm('Are you sure you want to delete this image?')) return;\r\n\r\n    try {\r\n      // Delete from database\r\n      const { error: dbError } = await supabase\r\n        .from('ring_images')\r\n        .delete()\r\n        .eq('id', id);\r\n\r\n      if (dbError) throw dbError;\r\n\r\n      // Delete from storage (optional - you might want to keep files)\r\n      // const { error: storageError } = await supabase.storage\r\n      //   .from('ring-images')\r\n      //   .remove([imageUrl]);\r\n\r\n      setUploadStatus('Image deleted successfully');\r\n      await loadUploadedImages();\r\n    } catch (error) {\r\n      console.error('Delete error:', error);\r\n      setUploadStatus('Delete failed: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const getOptionName = (type, id) => {\r\n    const options = ringOptions[type];\r\n    return options?.find(opt => opt.id === id)?.name || id;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-soft border-b border-gray-100\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-6\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-serif font-semibold text-gray-900\">\r\n                Ring Customizer Admin\r\n              </h1>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                Upload structured ring images to Supabase\r\n              </p>\r\n            </div>\r\n            <a href=\"/\" className=\"btn-secondary flex items-center\">\r\n              ← Back to Customizer\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n          {/* Upload Form */}\r\n          <div className=\"card p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Upload Ring Image</h2>\r\n            \r\n            <div className=\"space-y-4\">\r\n              {/* Form Fields */}\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Metal *\r\n                  </label>\r\n                  <select\r\n                    value={formData.metal}\r\n                    onChange={(e) => handleInputChange('metal', e.target.value)}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  >\r\n                    <option value=\"\">Select Metal</option>\r\n                    {ringOptions.metals.map(metal => (\r\n                      <option key={metal.id} value={metal.id}>{metal.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Design *\r\n                  </label>\r\n                  <select\r\n                    value={formData.design}\r\n                    onChange={(e) => handleInputChange('design', e.target.value)}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  >\r\n                    <option value=\"\">Select Design</option>\r\n                    {ringOptions.designs.map(design => (\r\n                      <option key={design.id} value={design.id}>{design.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Diamond Shape *\r\n                  </label>\r\n                  <select\r\n                    value={formData.shape}\r\n                    onChange={(e) => handleInputChange('shape', e.target.value)}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  >\r\n                    <option value=\"\">Select Shape</option>\r\n                    {ringOptions.shapes.map(shape => (\r\n                      <option key={shape.id} value={shape.id}>{shape.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Carat Weight *\r\n                  </label>\r\n                  <select\r\n                    value={formData.carat}\r\n                    onChange={(e) => handleInputChange('carat', e.target.value)}\r\n                    className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  >\r\n                    <option value=\"\">Select Carat</option>\r\n                    {ringOptions.carats.map(carat => (\r\n                      <option key={carat.id} value={carat.id}>{carat.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* File Upload */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Ring Image *\r\n                </label>\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary-400 transition-colors\">\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleFileSelect}\r\n                    disabled={isUploading}\r\n                    className=\"hidden\"\r\n                    id=\"imageUpload\"\r\n                  />\r\n                  <label\r\n                    htmlFor=\"imageUpload\"\r\n                    className={`cursor-pointer flex flex-col items-center ${\r\n                      isUploading ? 'opacity-50 cursor-not-allowed' : ''\r\n                    }`}\r\n                  >\r\n                    <Upload size={32} className=\"text-gray-400 mb-2\" />\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Click to select image (PNG recommended)\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 mt-1\">\r\n                      Max 5MB, 800x800px recommended\r\n                    </p>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Preview */}\r\n              {previewUrl && (\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Preview\r\n                  </label>\r\n                  <div className=\"relative w-32 h-32 border border-gray-200 rounded-lg overflow-hidden\">\r\n                    <img\r\n                      src={previewUrl}\r\n                      alt=\"Preview\"\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Upload Button */}\r\n              <button\r\n                onClick={uploadImage}\r\n                disabled={isUploading || !selectedFile || !formData.metal || !formData.design || !formData.shape || !formData.carat}\r\n                className=\"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n              >\r\n                {isUploading ? (\r\n                  <>\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                    Uploading...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Upload size={20} className=\"mr-2\" />\r\n                    Upload Image\r\n                  </>\r\n                )}\r\n              </button>\r\n\r\n              {/* Status Message */}\r\n              {uploadStatus && (\r\n                <div className={`p-3 rounded-lg text-sm flex items-center ${\r\n                  uploadStatus.includes('successful') \r\n                    ? 'bg-green-50 text-green-800 border border-green-200'\r\n                    : uploadStatus.includes('Uploading')\r\n                    ? 'bg-blue-50 text-blue-800 border border-blue-200'\r\n                    : 'bg-red-50 text-red-800 border border-red-200'\r\n                }`}>\r\n                  {uploadStatus.includes('successful') ? (\r\n                    <Check size={16} className=\"mr-2\" />\r\n                  ) : uploadStatus.includes('Uploading') ? (\r\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2\"></div>\r\n                  ) : (\r\n                    <AlertCircle size={16} className=\"mr-2\" />\r\n                  )}\r\n                  {uploadStatus}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Uploaded Images */}\r\n          <div className=\"card p-6\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-6\">Uploaded Images</h2>\r\n            \r\n            {isLoading ? (\r\n              <div className=\"text-center py-8\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500 mx-auto\"></div>\r\n                <p className=\"text-gray-600 mt-2\">Loading images...</p>\r\n              </div>\r\n            ) : uploadedImages.length === 0 ? (\r\n              <div className=\"text-center py-12 text-gray-500\">\r\n                <Image size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n                <p>No images uploaded yet</p>\r\n                <p className=\"text-sm\">Start by uploading ring images</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-4 max-h-96 overflow-y-auto\">\r\n                {uploadedImages.map((image) => (\r\n                  <div key={image.id} className=\"flex items-center p-3 border border-gray-200 rounded-lg\">\r\n                    <div className=\"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden mr-4\">\r\n                      <img\r\n                        src={image.image_url}\r\n                        alt=\"Ring\"\r\n                        className=\"w-full h-full object-cover\"\r\n                        onError={(e) => {\r\n                          e.target.src = '/placeholder-option.png';\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">\r\n                        {getOptionName('metals', image.metal)} • {getOptionName('designs', image.design)}\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-600\">\r\n                        {getOptionName('shapes', image.diamond_shape)} • {image.carat} Carat\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-500 mt-1\">\r\n                        Path: /rings/{image.metal}/{image.design}/{image.diamond_shape}/weight-{image.carat}.png\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex space-x-2\">\r\n                      <button\r\n                        onClick={() => window.open(image.image_url, '_blank')}\r\n                        className=\"p-1 text-gray-400 hover:text-gray-600\"\r\n                        title=\"View image\"\r\n                      >\r\n                        <Eye size={16} />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => deleteImage(image.id, image.image_url)}\r\n                        className=\"p-1 text-red-400 hover:text-red-600\"\r\n                        title=\"Delete image\"\r\n                      >\r\n                        <Trash2 size={16} />\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}