{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\test\\\\Desktop\\\\FinalRingsStore\\\\client\\\\src\\\\components\\\\RingCustomizer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { ChevronRight, ChevronLeft, Check, Heart, Star, Diamond, Circle, Square, CircleDot, ShoppingCart, Crown } from 'lucide-react';\nimport { ringOptions, basePrice } from '../data/ringOptions';\nimport ProgressBar from './ProgressBar';\nimport { supabase } from '../lib/supabase';\nimport { useCart } from '../App';\nimport { useNavigate } from 'react-router-dom';\nimport CustomizationStep from './CustomizationStep';\n\n// Elegant ring SVG for fallback\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RingIcon = props => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 64 64\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  ...props,\n  children: /*#__PURE__*/_jsxDEV(\"g\", {\n    children: [/*#__PURE__*/_jsxDEV(\"ellipse\", {\n      cx: \"32\",\n      cy: \"44\",\n      rx: \"18\",\n      ry: \"14\",\n      stroke: \"currentColor\",\n      strokeWidth: \"4\",\n      fill: \"none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n      cx: \"32\",\n      cy: \"44\",\n      rx: \"12\",\n      ry: \"8\",\n      stroke: \"currentColor\",\n      strokeWidth: \"2\",\n      fill: \"none\",\n      opacity: \"0.3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M32 30 L32 16\",\n      stroke: \"currentColor\",\n      strokeWidth: \"3\",\n      strokeLinecap: \"round\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"32,8 38,16 26,16\",\n      fill: \"currentColor\",\n      opacity: \"0.7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"32,2 36,8 28,8\",\n      fill: \"currentColor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"32\",\n      cy: \"16\",\n      r: \"3\",\n      fill: \"currentColor\",\n      opacity: \"0.5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 24,\n  columnNumber: 3\n}, this);\n_c = RingIcon;\nconst RingCustomizer = () => {\n  _s();\n  var _designs$find2, _metals$find2, _shapes$find2, _carats$find;\n  const {\n    addToCart\n  } = useCart();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selections, setSelections] = useState({\n    metal: '',\n    design: '',\n    shape: '',\n    carat: ''\n  });\n  const [currentImage, setCurrentImage] = useState('');\n  const [totalPrice, setTotalPrice] = useState(basePrice);\n  const [showFloatingMessage, setShowFloatingMessage] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const [added, setAdded] = useState(false);\n\n  // Step definitions\n  const steps = [{\n    id: 1,\n    title: 'Choose Design',\n    icon: Heart\n  }, {\n    id: 2,\n    title: 'Choose Metal',\n    icon: Crown\n  }, {\n    id: 3,\n    title: 'Diamond Shape',\n    icon: Diamond\n  }, {\n    id: 4,\n    title: 'Carat Weight',\n    icon: Star\n  }];\n\n  // Option definitions\n  const metals = [{\n    value: 'white-gold',\n    label: 'White Gold',\n    icon: Crown\n  }, {\n    value: 'yellow-gold',\n    label: 'Yellow Gold',\n    icon: Crown\n  }, {\n    value: 'rose-gold',\n    label: 'Rose Gold',\n    icon: Crown\n  }, {\n    value: 'platinum',\n    label: 'Platinum',\n    icon: Crown\n  }];\n  const designs = [{\n    value: 'classic-solitaire',\n    label: 'Classic Solitaire',\n    icon: Circle\n  }, {\n    value: 'halo-setting',\n    label: 'Halo Setting',\n    icon: CircleDot\n  }, {\n    value: 'vintage-antique',\n    label: 'Vintage/Antique',\n    icon: Heart\n  }, {\n    value: 'three-stone',\n    label: 'Three Stone',\n    icon: Star\n  }];\n  const shapes = [{\n    value: 'round',\n    label: 'Round Brilliant',\n    icon: Circle\n  }, {\n    value: 'princess',\n    label: 'Princess Cut',\n    icon: Square\n  }, {\n    value: 'emerald',\n    label: 'Emerald Cut',\n    icon: Square\n  }, {\n    value: 'oval',\n    label: 'Oval Brilliant',\n    icon: Circle\n  }];\n  const carats = [{\n    value: '1.0',\n    label: '1.0 Carat',\n    icon: Diamond\n  }, {\n    value: '1.5',\n    label: '1.5 Carat',\n    icon: Diamond\n  }, {\n    value: '2.0',\n    label: '2.0 Carat',\n    icon: Diamond\n  }, {\n    value: '2.5',\n    label: '2.5 Carat',\n    icon: Diamond\n  }];\n  const shapeOrder = ['round', 'oval', 'princess', 'emerald']; // preferred order\n\n  const fetchFirstAvailableShape = async (design, metal) => {\n    for (const shape of shapeOrder) {\n      const imagePath = `rings/${design}/${metal}/${shape}/1.0ct.png`;\n      const {\n        data\n      } = supabase.storage.from('ring-images').getPublicUrl(imagePath);\n      if (data !== null && data !== void 0 && data.publicUrl) {\n        // Test if the image actually exists\n        const img = new window.Image();\n        const result = await new Promise(resolve => {\n          img.onload = () => resolve(true);\n          img.onerror = () => resolve(false);\n          img.src = data.publicUrl;\n        });\n        if (result) {\n          return shape;\n        }\n      }\n    }\n    return null;\n  };\n\n  // Generate image path candidates for fallback logic\n  const generateImagePathCandidates = () => {\n    const {\n      design,\n      metal,\n      shape\n    } = selections;\n    if (!design) return ['rings/default/band.png'];\n    const candidates = [];\n    if (design && metal && shape) candidates.push(`rings/${design}/${metal}/${shape}/1.0ct.png`);\n    if (design && metal) candidates.push(`rings/${design}/${metal}/band.png`);\n    if (design) candidates.push(`rings/${design}/band.png`);\n    candidates.push('rings/default/band.png');\n    return candidates;\n  };\n\n  // Fetch image with fallback, always show placeholder if not found\n  const fetchImage = async () => {\n    const candidates = generateImagePathCandidates();\n    for (let i = 0; i < candidates.length; i++) {\n      const imagePath = candidates[i];\n      const {\n        data\n      } = supabase.storage.from('ring-images').getPublicUrl(imagePath);\n      if (data !== null && data !== void 0 && data.publicUrl) {\n        const img = new window.Image();\n        const result = await new Promise(resolve => {\n          img.onload = () => resolve(true);\n          img.onerror = () => resolve(false);\n          img.src = data.publicUrl;\n        });\n        if (result) {\n          setCurrentImage(data.publicUrl);\n          setImageError(false);\n          return;\n        }\n      }\n    }\n    setCurrentImage('/placeholder-ring.png');\n    setImageError(true);\n  };\n\n  // Update image when selections change\n  useEffect(() => {\n    setImageError(false);\n    fetchImage();\n    // eslint-disable-next-line\n  }, [selections]);\n\n  // Calculate total price\n  useEffect(() => {\n    var _ringOptions$metals$f, _ringOptions$designs$, _ringOptions$shapes$f, _ringOptions$carats$f;\n    let total = basePrice;\n    if (selections.metal) total += ((_ringOptions$metals$f = ringOptions.metals.find(m => m.id === selections.metal)) === null || _ringOptions$metals$f === void 0 ? void 0 : _ringOptions$metals$f.price) || 0;\n    if (selections.design) total += ((_ringOptions$designs$ = ringOptions.designs.find(d => d.id === selections.design)) === null || _ringOptions$designs$ === void 0 ? void 0 : _ringOptions$designs$.price) || 0;\n    if (selections.shape) total += ((_ringOptions$shapes$f = ringOptions.shapes.find(s => s.id === selections.shape)) === null || _ringOptions$shapes$f === void 0 ? void 0 : _ringOptions$shapes$f.price) || 0;\n    if (selections.carat) total += ((_ringOptions$carats$f = ringOptions.carats.find(c => c.id === selections.carat)) === null || _ringOptions$carats$f === void 0 ? void 0 : _ringOptions$carats$f.price) || 0;\n    setTotalPrice(total);\n  }, [selections]);\n\n  // Show encouragement message\n  useEffect(() => {\n    if (currentStep === 4 && selections.metal && selections.design && selections.shape && selections.carat && !imageError) {\n      setShowFloatingMessage(true);\n      const timeout = setTimeout(() => setShowFloatingMessage(false), 3000);\n      return () => clearTimeout(timeout);\n    }\n  }, [currentStep, selections, imageError]);\n\n  // Handle step selection, always set defaults when design is chosen\n  const handleSelection = async (step, value) => {\n    if (step === 'design') {\n      // When any design is chosen, always check for the default shape, fallback to first available\n      let defaultMetal = 'white-gold';\n      let defaultShape = 'round';\n      let defaultCarat = '1.0';\n      const availableShape = (await fetchFirstAvailableShape(value, defaultMetal)) || defaultShape;\n      setSelections({\n        design: value,\n        metal: defaultMetal,\n        shape: availableShape,\n        carat: defaultCarat\n      });\n      setImageError(false);\n      return;\n    }\n    if (step === 'metal') {\n      // When metal is changed, also check for available shape for the new metal\n      let design = selections.design;\n      let defaultShape = 'round';\n      let defaultCarat = selections.carat || '1.0';\n      const availableShape = (await fetchFirstAvailableShape(design, value)) || defaultShape;\n      setSelections(prev => ({\n        ...prev,\n        metal: value,\n        shape: availableShape,\n        carat: defaultCarat\n      }));\n      setImageError(false);\n      return;\n    }\n    setSelections(prev => ({\n      ...prev,\n      [step]: value\n    }));\n    setImageError(false);\n  };\n\n  // Step navigation\n  const goToStep = step => setCurrentStep(step);\n\n  // Step data for rendering\n  const getCurrentStepData = () => {\n    switch (currentStep) {\n      case 1:\n        return {\n          options: designs,\n          selected: selections.design,\n          onSelect: v => handleSelection('design', v)\n        };\n      case 2:\n        return {\n          options: metals,\n          selected: selections.metal,\n          onSelect: v => handleSelection('metal', v)\n        };\n      case 3:\n        return {\n          options: shapes,\n          selected: selections.shape,\n          onSelect: v => handleSelection('shape', v)\n        };\n      case 4:\n        return {\n          options: carats,\n          selected: selections.carat,\n          onSelect: v => handleSelection('carat', v)\n        };\n      default:\n        return null;\n    }\n  };\n\n  // Progress bar status\n  const getProgressStatus = () => steps.map((step, idx) => {\n    if (idx < currentStep - 1) {\n      return {\n        step: step.id,\n        label: step.title.replace('Choose ', ''),\n        completed: true,\n        current: false\n      };\n    } else if (idx === currentStep - 1) {\n      return {\n        step: step.id,\n        label: step.title.replace('Choose ', ''),\n        completed: false,\n        current: true\n      };\n    } else {\n      return {\n        step: step.id,\n        label: step.title.replace('Choose ', ''),\n        completed: false,\n        current: false\n      };\n    }\n  });\n\n  // Add to cart handler\n  const handleAddToCart = async () => {\n    if (selections.metal && selections.design && selections.shape && selections.carat) {\n      var _designs$find, _metals$find, _shapes$find;\n      // Look up the real product in ring_images\n      const {\n        data: productData,\n        error\n      } = await supabase.from('ring_images').select('*').eq('design', selections.design).eq('metal', selections.metal).eq('diamond_shape', selections.shape).eq('carat', selections.carat).single();\n      const designLabel = ((_designs$find = designs.find(d => d.value === selections.design)) === null || _designs$find === void 0 ? void 0 : _designs$find.label) || selections.design;\n      const metalLabel = ((_metals$find = metals.find(m => m.value === selections.metal)) === null || _metals$find === void 0 ? void 0 : _metals$find.label) || selections.metal;\n      const shapeLabel = ((_shapes$find = shapes.find(s => s.value === selections.shape)) === null || _shapes$find === void 0 ? void 0 : _shapes$find.label) || selections.shape;\n      let ringProduct;\n      if (!error && productData) {\n        ringProduct = {\n          id: productData.id,\n          name: `${designLabel} Ring`,\n          design: selections.design,\n          designLabel,\n          metal: selections.metal,\n          metalLabel,\n          shape: selections.shape,\n          shapeLabel,\n          carat: selections.carat,\n          price: totalPrice,\n          qty: 1,\n          image: productData.public_url || productData.image_url || currentImage || '/placeholder-ring.png'\n        };\n      } else {\n        // If the combination does not exist, add a custom ring with the selected carat and a placeholder image\n        ringProduct = {\n          id: `custom-${Date.now()}`,\n          name: `${designLabel} Ring (Custom)`,\n          design: selections.design,\n          designLabel,\n          metal: selections.metal,\n          metalLabel,\n          shape: selections.shape,\n          shapeLabel,\n          carat: selections.carat,\n          price: totalPrice,\n          qty: 1,\n          image: currentImage || '/placeholder-ring.png',\n          isCustom: true\n        };\n      }\n      addToCart(ringProduct);\n      setAdded(true);\n      setTimeout(() => setAdded(false), 1000);\n    } else {\n      alert('Please complete all customization steps first');\n    }\n  };\n\n  // Only allow next step if image is valid and selection is made\n  const canAdvance = !imageError && (currentStep === 1 && selections.design || currentStep === 2 && selections.metal || currentStep === 3 && selections.shape || currentStep === 4 && selections.carat);\n  const stepData = getCurrentStepData();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-diamondWhite flex flex-col items-center overflow-x-hidden\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-xl px-2 sm:px-4 flex flex-col items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-2 mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(Diamond, {\n            className: \"w-4 h-4 text-brilliantBlue mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-base font-bold bg-gradient-to-r from-brilliantBlue to-champagneGold bg-clip-text text-transparent\",\n            children: \"Shemesh Gold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-charcoalGray\",\n          children: \"Start customizing your dream ring\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex flex-col items-center mb-1 relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full flex justify-center items-center\",\n          children: currentImage && !imageError ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: currentImage,\n            alt: \"Ring preview\",\n            className: \"object-contain max-h-96 w-auto mx-auto bg-platinumSilver rounded-xl border-2 border-brilliantBlue/10\",\n            style: {\n              maxWidth: '100%'\n            },\n            onError: () => setImageError(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this) : imageError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full max-h-96 flex flex-col items-center justify-center bg-red-50 rounded-lg border-2 border-dashed border-red-300 p-8\",\n            children: [/*#__PURE__*/_jsxDEV(RingIcon, {\n              className: \"w-16 h-16 text-red-300 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-red-600 mb-2\",\n              children: \"Sorry, this ring preview is not available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-500 text-center\",\n              children: \"Please try a different combination to see your dream ring!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full max-h-96 flex flex-col items-center justify-center bg-platinumSilver rounded-lg border-2 border-dashed border-brilliantBlue/10 p-8\",\n            children: [/*#__PURE__*/_jsxDEV(Diamond, {\n              className: \"w-16 h-16 text-brilliantBlue mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-brilliantBlue mb-2\",\n              children: \"Let's make your dream ring\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-charcoalGray text-center\",\n              children: \"Start by choosing your metal type below\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), showFloatingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 left-0 right-0 flex justify-center pointer-events-none z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-champagneGold text-black px-3 py-2 rounded-b-lg shadow-lg text-sm font-medium animate-pulse mt-0\",\n            children: \"You have excellent taste in jewelry \\u2728\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), showSuccessMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 left-0 right-0 flex justify-center pointer-events-none z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg text-sm font-medium animate-bounce mt-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                className: \"w-4 h-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), \"Ring added to cart! Redirecting...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex flex-col gap-0.5 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full text-[10px]\",\n          children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n            steps: getProgressStatus(),\n            onStepClick: goToStep,\n            tiny: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full text-[10px] flex items-center gap-1\",\n          children: [currentStep > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setCurrentStep(currentStep - 1),\n            className: \"flex items-center px-1 py-0.5 text-[10px] bg-platinumSilver border border-brilliantBlue/20 rounded hover:bg-brilliantBlue/10 transition-all duration-150 mr-1\",\n            \"aria-label\": \"Previous step\",\n            children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n              className: \"w-3 h-3 mr-0.5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), \" Prev\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: stepData && stepData.options && /*#__PURE__*/_jsxDEV(CustomizationStep, {\n              title: null,\n              description: null,\n              options: stepData.options,\n              selected: stepData.selected,\n              onSelect: stepData.onSelect\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), currentStep < 4 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => canAdvance && setCurrentStep(currentStep + 1),\n          disabled: !canAdvance,\n          className: `mt-1 px-3 py-1 rounded bg-champagneGold text-black text-xs font-semibold shadow-elegant ${!canAdvance ? 'opacity-50 cursor-not-allowed' : 'hover:bg-brilliantBlue hover:text-white'}`,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full text-[10px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-0.5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-[10px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Heart, {\n                  className: \"w-2.5 h-2.5 mr-1 text-champagneGold\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-charcoalGray\",\n                  children: \"Design:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-brilliantBlue\",\n                children: selections.design ? (_designs$find2 = designs.find(d => d.value === selections.design)) === null || _designs$find2 === void 0 ? void 0 : _designs$find2.label : 'Not selected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-[10px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Crown, {\n                  className: \"w-2.5 h-2.5 mr-1 text-champagneGold\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-charcoalGray\",\n                  children: \"Metal:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-brilliantBlue\",\n                children: selections.metal ? (_metals$find2 = metals.find(m => m.value === selections.metal)) === null || _metals$find2 === void 0 ? void 0 : _metals$find2.label : 'Not selected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-[10px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Diamond, {\n                  className: \"w-2.5 h-2.5 mr-1 text-brilliantBlue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-charcoalGray\",\n                  children: \"Shape:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-brilliantBlue\",\n                children: selections.shape ? (_shapes$find2 = shapes.find(s => s.value === selections.shape)) === null || _shapes$find2 === void 0 ? void 0 : _shapes$find2.label : 'Not selected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between text-[10px]\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(Star, {\n                  className: \"w-2.5 h-2.5 mr-1 text-champagneGold\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-charcoalGray\",\n                  children: \"Carat:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-brilliantBlue\",\n                children: selections.carat ? (_carats$find = carats.find(c => c.value === selections.carat)) === null || _carats$find === void 0 ? void 0 : _carats$find.label : 'Not selected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full mt-0.5\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleAddToCart,\n              disabled: !(selections.metal && selections.design && selections.shape && selections.carat),\n              className: \"w-full flex items-center justify-center py-0.5 text-[10px] bg-gradient-to-r from-brilliantBlue to-champagneGold text-white rounded-md hover:from-champagneGold hover:to-brilliantBlue hover:text-black disabled:from-platinumSilver disabled:to-diamondWhite disabled:cursor-not-allowed font-semibold transition-all duration-200 shadow-elegant min-h-0\",\n              children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n                className: \"w-2.5 h-2.5 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: added ? 'Added!' : 'Add to Cart'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-1 px-1 py-0.5 bg-brilliantBlue/10 rounded text-[10px] font-bold\",\n                children: [\"$\", totalPrice.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), !(selections.metal && selections.design && selections.shape && selections.carat) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-[10px] text-charcoalGray mt-0.5 text-center\",\n              children: \"Complete all steps to add to cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this), selections.metal && selections.design && selections.shape && selections.carat && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-[10px] text-brilliantBlue font-medium\",\n                children: \"\\u2728 Perfect choice! Your dream ring is ready \\u2728\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n};\n_s(RingCustomizer, \"8ZwinCODIxfJ6V9EhCrMcgF8Gus=\", false, function () {\n  return [useCart, useNavigate];\n});\n_c2 = RingCustomizer;\nexport default RingCustomizer;\nvar _c, _c2;\n$RefreshReg$(_c, \"RingIcon\");\n$RefreshReg$(_c2, \"RingCustomizer\");","map":{"version":3,"names":["React","useState","useEffect","ChevronRight","ChevronLeft","Check","Heart","Star","Diamond","Circle","Square","CircleDot","ShoppingCart","Crown","ringOptions","basePrice","ProgressBar","supabase","useCart","useNavigate","CustomizationStep","jsxDEV","_jsxDEV","RingIcon","props","viewBox","fill","xmlns","children","cx","cy","rx","ry","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","opacity","d","strokeLinecap","points","r","_c","RingCustomizer","_s","_designs$find2","_metals$find2","_shapes$find2","_carats$find","addToCart","navigate","currentStep","setCurrentStep","selections","setSelections","metal","design","shape","carat","currentImage","setCurrentImage","totalPrice","setTotalPrice","showFloatingMessage","setShowFloatingMessage","imageError","setImageError","showSuccessMessage","setShowSuccessMessage","added","setAdded","steps","id","title","icon","metals","value","label","designs","shapes","carats","shapeOrder","fetchFirstAvailableShape","imagePath","data","storage","from","getPublicUrl","publicUrl","img","window","Image","result","Promise","resolve","onload","onerror","src","generateImagePathCandidates","candidates","push","fetchImage","i","length","_ringOptions$metals$f","_ringOptions$designs$","_ringOptions$shapes$f","_ringOptions$carats$f","total","find","m","price","s","c","timeout","setTimeout","clearTimeout","handleSelection","step","defaultMetal","defaultShape","defaultCarat","availableShape","prev","goToStep","getCurrentStepData","options","selected","onSelect","v","getProgressStatus","map","idx","replace","completed","current","handleAddToCart","_designs$find","_metals$find","_shapes$find","productData","error","select","eq","single","designLabel","metalLabel","shapeLabel","ringProduct","name","qty","image","public_url","image_url","Date","now","isCustom","alert","canAdvance","stepData","className","alt","style","maxWidth","onError","onStepClick","tiny","onClick","description","disabled","toLocaleString","_c2","$RefreshReg$"],"sources":["C:/Users/test/Desktop/FinalRingsStore/client/src/components/RingCustomizer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  ChevronRight, \n  ChevronLeft, \n  Check, \n  Heart, \n  Star, \n  Diamond, \n  Circle, \n  Square, \n  CircleDot, \n  ShoppingCart, \n  Crown\n} from 'lucide-react';\nimport { ringOptions, basePrice } from '../data/ringOptions';\nimport ProgressBar from './ProgressBar';\nimport { supabase } from '../lib/supabase';\nimport { useCart } from '../App';\nimport { useNavigate } from 'react-router-dom';\nimport CustomizationStep from './CustomizationStep';\n\n// Elegant ring SVG for fallback\nconst RingIcon = (props) => (\n  <svg viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n    <g>\n      <ellipse cx=\"32\" cy=\"44\" rx=\"18\" ry=\"14\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n      <ellipse cx=\"32\" cy=\"44\" rx=\"12\" ry=\"8\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" opacity=\"0.3\" />\n      <path d=\"M32 30 L32 16\" stroke=\"currentColor\" strokeWidth=\"3\" strokeLinecap=\"round\" />\n      <polygon points=\"32,8 38,16 26,16\" fill=\"currentColor\" opacity=\"0.7\" />\n      <polygon points=\"32,2 36,8 28,8\" fill=\"currentColor\" />\n      <circle cx=\"32\" cy=\"16\" r=\"3\" fill=\"currentColor\" opacity=\"0.5\" />\n    </g>\n  </svg>\n);\n\nconst RingCustomizer = () => {\n  const { addToCart } = useCart();\n  const navigate = useNavigate();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [selections, setSelections] = useState({ metal: '', design: '', shape: '', carat: '' });\n  const [currentImage, setCurrentImage] = useState('');\n  const [totalPrice, setTotalPrice] = useState(basePrice);\n  const [showFloatingMessage, setShowFloatingMessage] = useState(false);\n  const [imageError, setImageError] = useState(false);\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const [added, setAdded] = useState(false);\n\n  // Step definitions\n  const steps = [\n    { id: 1, title: 'Choose Design', icon: Heart },\n    { id: 2, title: 'Choose Metal', icon: Crown },\n    { id: 3, title: 'Diamond Shape', icon: Diamond },\n    { id: 4, title: 'Carat Weight', icon: Star }\n  ];\n\n  // Option definitions\n  const metals = [\n    { value: 'white-gold', label: 'White Gold', icon: Crown },\n    { value: 'yellow-gold', label: 'Yellow Gold', icon: Crown },\n    { value: 'rose-gold', label: 'Rose Gold', icon: Crown },\n    { value: 'platinum', label: 'Platinum', icon: Crown }\n  ];\n  const designs = [\n    { value: 'classic-solitaire', label: 'Classic Solitaire', icon: Circle },\n    { value: 'halo-setting', label: 'Halo Setting', icon: CircleDot },\n    { value: 'vintage-antique', label: 'Vintage/Antique', icon: Heart },\n    { value: 'three-stone', label: 'Three Stone', icon: Star }\n  ];\n  const shapes = [\n    { value: 'round', label: 'Round Brilliant', icon: Circle },\n    { value: 'princess', label: 'Princess Cut', icon: Square },\n    { value: 'emerald', label: 'Emerald Cut', icon: Square },\n    { value: 'oval', label: 'Oval Brilliant', icon: Circle }\n  ];\n  const carats = [\n    { value: '1.0', label: '1.0 Carat', icon: Diamond },\n    { value: '1.5', label: '1.5 Carat', icon: Diamond },\n    { value: '2.0', label: '2.0 Carat', icon: Diamond },\n    { value: '2.5', label: '2.5 Carat', icon: Diamond }\n  ];\n\n  const shapeOrder = ['round', 'oval', 'princess', 'emerald']; // preferred order\n\n  const fetchFirstAvailableShape = async (design, metal) => {\n    for (const shape of shapeOrder) {\n      const imagePath = `rings/${design}/${metal}/${shape}/1.0ct.png`;\n      const { data } = supabase.storage.from('ring-images').getPublicUrl(imagePath);\n      if (data?.publicUrl) {\n        // Test if the image actually exists\n        const img = new window.Image();\n        const result = await new Promise((resolve) => {\n          img.onload = () => resolve(true);\n          img.onerror = () => resolve(false);\n          img.src = data.publicUrl;\n        });\n        if (result) {\n          return shape;\n        }\n      }\n    }\n    return null;\n  };\n\n  // Generate image path candidates for fallback logic\n  const generateImagePathCandidates = () => {\n    const { design, metal, shape } = selections;\n    if (!design) return ['rings/default/band.png'];\n    const candidates = [];\n    if (design && metal && shape) candidates.push(`rings/${design}/${metal}/${shape}/1.0ct.png`);\n    if (design && metal) candidates.push(`rings/${design}/${metal}/band.png`);\n    if (design) candidates.push(`rings/${design}/band.png`);\n    candidates.push('rings/default/band.png');\n    return candidates;\n  };\n\n  // Fetch image with fallback, always show placeholder if not found\n  const fetchImage = async () => {\n    const candidates = generateImagePathCandidates();\n    for (let i = 0; i < candidates.length; i++) {\n      const imagePath = candidates[i];\n      const { data } = supabase.storage.from('ring-images').getPublicUrl(imagePath);\n      if (data?.publicUrl) {\n        const img = new window.Image();\n        const result = await new Promise((resolve) => {\n          img.onload = () => resolve(true);\n          img.onerror = () => resolve(false);\n          img.src = data.publicUrl;\n        });\n        if (result) {\n          setCurrentImage(data.publicUrl);\n          setImageError(false);\n          return;\n        }\n      }\n    }\n    setCurrentImage('/placeholder-ring.png');\n    setImageError(true);\n  };\n\n  // Update image when selections change\n  useEffect(() => {\n    setImageError(false);\n    fetchImage();\n    // eslint-disable-next-line\n  }, [selections]);\n\n  // Calculate total price\n  useEffect(() => {\n    let total = basePrice;\n    if (selections.metal) total += ringOptions.metals.find(m => m.id === selections.metal)?.price || 0;\n    if (selections.design) total += ringOptions.designs.find(d => d.id === selections.design)?.price || 0;\n    if (selections.shape) total += ringOptions.shapes.find(s => s.id === selections.shape)?.price || 0;\n    if (selections.carat) total += ringOptions.carats.find(c => c.id === selections.carat)?.price || 0;\n    setTotalPrice(total);\n  }, [selections]);\n\n  // Show encouragement message\n  useEffect(() => {\n    if (\n      currentStep === 4 &&\n      selections.metal && selections.design && selections.shape && selections.carat &&\n      !imageError\n    ) {\n      setShowFloatingMessage(true);\n      const timeout = setTimeout(() => setShowFloatingMessage(false), 3000);\n      return () => clearTimeout(timeout);\n    }\n  }, [currentStep, selections, imageError]);\n\n  // Handle step selection, always set defaults when design is chosen\n  const handleSelection = async (step, value) => {\n    if (step === 'design') {\n      // When any design is chosen, always check for the default shape, fallback to first available\n      let defaultMetal = 'white-gold';\n      let defaultShape = 'round';\n      let defaultCarat = '1.0';\n      const availableShape = await fetchFirstAvailableShape(value, defaultMetal) || defaultShape;\n      setSelections({\n        design: value,\n        metal: defaultMetal,\n        shape: availableShape,\n        carat: defaultCarat,\n      });\n      setImageError(false);\n      return;\n    }\n    if (step === 'metal') {\n      // When metal is changed, also check for available shape for the new metal\n      let design = selections.design;\n      let defaultShape = 'round';\n      let defaultCarat = selections.carat || '1.0';\n      const availableShape = await fetchFirstAvailableShape(design, value) || defaultShape;\n      setSelections(prev => ({\n        ...prev,\n        metal: value,\n        shape: availableShape,\n        carat: defaultCarat,\n      }));\n      setImageError(false);\n      return;\n    }\n    setSelections(prev => ({ ...prev, [step]: value }));\n    setImageError(false);\n  };\n\n  // Step navigation\n  const goToStep = (step) => setCurrentStep(step);\n\n  // Step data for rendering\n  const getCurrentStepData = () => {\n    switch (currentStep) {\n      case 1: return { options: designs, selected: selections.design, onSelect: v => handleSelection('design', v) };\n      case 2: return { options: metals, selected: selections.metal, onSelect: v => handleSelection('metal', v) };\n      case 3: return { options: shapes, selected: selections.shape, onSelect: v => handleSelection('shape', v) };\n      case 4: return { options: carats, selected: selections.carat, onSelect: v => handleSelection('carat', v) };\n      default: return null;\n    }\n  };\n\n  // Progress bar status\n  const getProgressStatus = () =>\n    steps.map((step, idx) => {\n      if (idx < currentStep - 1) {\n        return { step: step.id, label: step.title.replace('Choose ', ''), completed: true, current: false };\n      } else if (idx === currentStep - 1) {\n        return { step: step.id, label: step.title.replace('Choose ', ''), completed: false, current: true };\n      } else {\n        return { step: step.id, label: step.title.replace('Choose ', ''), completed: false, current: false };\n      }\n    });\n\n  // Add to cart handler\n  const handleAddToCart = async () => {\n    if (selections.metal && selections.design && selections.shape && selections.carat) {\n      // Look up the real product in ring_images\n      const { data: productData, error } = await supabase\n        .from('ring_images')\n        .select('*')\n        .eq('design', selections.design)\n        .eq('metal', selections.metal)\n        .eq('diamond_shape', selections.shape)\n        .eq('carat', selections.carat)\n        .single();\n      const designLabel = designs.find(d => d.value === selections.design)?.label || selections.design;\n      const metalLabel = metals.find(m => m.value === selections.metal)?.label || selections.metal;\n      const shapeLabel = shapes.find(s => s.value === selections.shape)?.label || selections.shape;\n      let ringProduct;\n      if (!error && productData) {\n        ringProduct = {\n          id: productData.id,\n          name: `${designLabel} Ring`,\n          design: selections.design,\n          designLabel,\n          metal: selections.metal,\n          metalLabel,\n          shape: selections.shape,\n          shapeLabel,\n          carat: selections.carat,\n          price: totalPrice,\n          qty: 1,\n          image: productData.public_url || productData.image_url || currentImage || '/placeholder-ring.png',\n        };\n      } else {\n        // If the combination does not exist, add a custom ring with the selected carat and a placeholder image\n        ringProduct = {\n          id: `custom-${Date.now()}`,\n          name: `${designLabel} Ring (Custom)` ,\n          design: selections.design,\n          designLabel,\n          metal: selections.metal,\n          metalLabel,\n          shape: selections.shape,\n          shapeLabel,\n          carat: selections.carat,\n          price: totalPrice,\n          qty: 1,\n          image: currentImage || '/placeholder-ring.png',\n          isCustom: true,\n        };\n      }\n      addToCart(ringProduct);\n      setAdded(true);\n      setTimeout(() => setAdded(false), 1000);\n    } else {\n      alert('Please complete all customization steps first');\n    }\n  };\n\n  // Only allow next step if image is valid and selection is made\n  const canAdvance = !imageError && ((currentStep === 1 && selections.design) || (currentStep === 2 && selections.metal) || (currentStep === 3 && selections.shape) || (currentStep === 4 && selections.carat));\n\n  const stepData = getCurrentStepData();\n\n  return (\n    <div className=\"min-h-screen bg-diamondWhite flex flex-col items-center overflow-x-hidden\">\n      <div className=\"w-full max-w-xl px-2 sm:px-4 flex flex-col items-center\">\n        {/* Header */}\n        <div className=\"text-center mt-2 mb-2\">\n          <div className=\"flex items-center justify-center mb-1\">\n            <Diamond className=\"w-4 h-4 text-brilliantBlue mr-1\" />\n            <h1 className=\"text-base font-bold bg-gradient-to-r from-brilliantBlue to-champagneGold bg-clip-text text-transparent\">\n              Shemesh Gold\n            </h1>\n          </div>\n          <p className=\"text-xs text-charcoalGray\">Start customizing your dream ring</p>\n        </div>\n        {/* Ring Preview */}\n        <div className=\"w-full flex flex-col items-center mb-1 relative\">\n          <div className=\"w-full flex justify-center items-center\">\n            {currentImage && !imageError ? (\n              <img\n                src={currentImage}\n                alt=\"Ring preview\"\n                className=\"object-contain max-h-96 w-auto mx-auto bg-platinumSilver rounded-xl border-2 border-brilliantBlue/10\"\n                style={{ maxWidth: '100%' }}\n                onError={() => setImageError(true)}\n              />\n            ) : imageError ? (\n              <div className=\"w-full max-h-96 flex flex-col items-center justify-center bg-red-50 rounded-lg border-2 border-dashed border-red-300 p-8\">\n                <RingIcon className=\"w-16 h-16 text-red-300 mb-4\" />\n                <h3 className=\"text-lg font-semibold text-red-600 mb-2\">Sorry, this ring preview is not available</h3>\n                <p className=\"text-sm text-red-500 text-center\">Please try a different combination to see your dream ring!</p>\n              </div>\n            ) : (\n              <div className=\"w-full max-h-96 flex flex-col items-center justify-center bg-platinumSilver rounded-lg border-2 border-dashed border-brilliantBlue/10 p-8\">\n                <Diamond className=\"w-16 h-16 text-brilliantBlue mb-4\" />\n                <h3 className=\"text-lg font-semibold text-brilliantBlue mb-2\">Let's make your dream ring</h3>\n                <p className=\"text-sm text-charcoalGray text-center\">Start by choosing your metal type below</p>\n              </div>\n            )}\n          </div>\n          {/* Floating Message */}\n          {showFloatingMessage && (\n            <div className=\"absolute top-0 left-0 right-0 flex justify-center pointer-events-none z-10\">\n              <div className=\"bg-champagneGold text-black px-3 py-2 rounded-b-lg shadow-lg text-sm font-medium animate-pulse mt-0\">\n                You have excellent taste in jewelry \n              </div>\n            </div>\n          )}\n          {/* Success Message */}\n          {showSuccessMessage && (\n            <div className=\"absolute top-0 left-0 right-0 flex justify-center pointer-events-none z-10\">\n              <div className=\"bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg text-sm font-medium animate-bounce mt-4\">\n                <div className=\"flex items-center\">\n                  <Check className=\"w-4 h-4 mr-2\" />\n                  Ring added to cart! Redirecting...\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        {/* Controls */}\n        <div className=\"w-full flex flex-col gap-0.5 items-center\">\n          {/* Progress Bar */}\n          <div className=\"w-full text-[10px]\">\n            <ProgressBar steps={getProgressStatus()} onStepClick={goToStep} tiny />\n          </div>\n          {/* Current Customization Step */}\n          <div className=\"w-full text-[10px] flex items-center gap-1\">\n            {currentStep > 1 && (\n              <button\n                onClick={() => setCurrentStep(currentStep - 1)}\n                className=\"flex items-center px-1 py-0.5 text-[10px] bg-platinumSilver border border-brilliantBlue/20 rounded hover:bg-brilliantBlue/10 transition-all duration-150 mr-1\"\n                aria-label=\"Previous step\"\n              >\n                <ChevronLeft className=\"w-3 h-3 mr-0.5\" /> Prev\n              </button>\n            )}\n            <div className=\"flex-1\">\n              {stepData && stepData.options && (\n                <CustomizationStep\n                  title={null}\n                  description={null}\n                  options={stepData.options}\n                  selected={stepData.selected}\n                  onSelect={stepData.onSelect}\n                />\n              )}\n            </div>\n          </div>\n          {/* Next Step Button (if not last step) */}\n          {currentStep < 4 && (\n            <button\n              onClick={() => canAdvance && setCurrentStep(currentStep + 1)}\n              disabled={!canAdvance}\n              className={`mt-1 px-3 py-1 rounded bg-champagneGold text-black text-xs font-semibold shadow-elegant ${!canAdvance ? 'opacity-50 cursor-not-allowed' : 'hover:bg-brilliantBlue hover:text-white'}`}\n            >\n              Next\n            </button>\n          )}\n          {/* Summary and Add to Cart */}\n          <div className=\"w-full text-[10px]\">\n            <div className=\"space-y-0.5\">\n              <div className=\"flex items-center justify-between text-[10px]\">\n                <div className=\"flex items-center\">\n                  <Heart className=\"w-2.5 h-2.5 mr-1 text-champagneGold\" />\n                  <span className=\"text-charcoalGray\">Design:</span>\n                </div>\n                <span className=\"font-medium text-brilliantBlue\">\n                  {selections.design ? designs.find(d => d.value === selections.design)?.label : 'Not selected'}\n                </span>\n              </div>\n              <div className=\"flex items-center justify-between text-[10px]\">\n                <div className=\"flex items-center\">\n                  <Crown className=\"w-2.5 h-2.5 mr-1 text-champagneGold\" />\n                  <span className=\"text-charcoalGray\">Metal:</span>\n                </div>\n                <span className=\"font-medium text-brilliantBlue\">\n                  {selections.metal ? metals.find(m => m.value === selections.metal)?.label : 'Not selected'}\n                </span>\n              </div>\n              <div className=\"flex items-center justify-between text-[10px]\">\n                <div className=\"flex items-center\">\n                  <Diamond className=\"w-2.5 h-2.5 mr-1 text-brilliantBlue\" />\n                  <span className=\"text-charcoalGray\">Shape:</span>\n                </div>\n                <span className=\"font-medium text-brilliantBlue\">\n                  {selections.shape ? shapes.find(s => s.value === selections.shape)?.label : 'Not selected'}\n                </span>\n              </div>\n              <div className=\"flex items-center justify-between text-[10px]\">\n                <div className=\"flex items-center\">\n                  <Star className=\"w-2.5 h-2.5 mr-1 text-champagneGold\" />\n                  <span className=\"text-charcoalGray\">Carat:</span>\n                </div>\n                <span className=\"font-medium text-brilliantBlue\">\n                  {selections.carat ? carats.find(c => c.value === selections.carat)?.label : 'Not selected'}\n                </span>\n              </div>\n            </div>\n            <div className=\"w-full mt-0.5\">\n              <button\n                onClick={handleAddToCart}\n                disabled={!(selections.metal && selections.design && selections.shape && selections.carat)}\n                className=\"w-full flex items-center justify-center py-0.5 text-[10px] bg-gradient-to-r from-brilliantBlue to-champagneGold text-white rounded-md hover:from-champagneGold hover:to-brilliantBlue hover:text-black disabled:from-platinumSilver disabled:to-diamondWhite disabled:cursor-not-allowed font-semibold transition-all duration-200 shadow-elegant min-h-0\"\n              >\n                <ShoppingCart className=\"w-2.5 h-2.5 mr-1\" />\n                <span>{added ? 'Added!' : 'Add to Cart'}</span>\n                <span className=\"ml-1 px-1 py-0.5 bg-brilliantBlue/10 rounded text-[10px] font-bold\">\n                  ${totalPrice.toLocaleString()}\n                </span>\n              </button>\n              {!(selections.metal && selections.design && selections.shape && selections.carat) && (\n                <p className=\"text-[10px] text-charcoalGray mt-0.5 text-center\">\n                  Complete all steps to add to cart\n                </p>\n              )}\n              {selections.metal && selections.design && selections.shape && selections.carat && (\n                <div className=\"text-center mt-1\">\n                  <p className=\"text-[10px] text-brilliantBlue font-medium\">\n                     Perfect choice! Your dream ring is ready \n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RingCustomizer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}