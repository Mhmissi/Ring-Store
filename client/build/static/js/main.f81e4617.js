/*! For license information please see main.f81e4617.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=x.prototype=new b;y.constructor=x,p(y,v.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!S.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+E(l,0):s,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(i,t,a,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+E(o=e[c],c);l+=P(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=P(o=o.value,t,a,u=s+E(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function B(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=p({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!S.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:B}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(829)),s=r(n(736)),i=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:a=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||a?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer="count=".concat(i)),new s.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,y(e),!p)if(null!==r(c))p=!0,R(j);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function j(e,n){p=!1,g&&(g=!1,b(_),_=-1),m=!0;var s=f;try{for(y(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),y(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{h=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,N=null,_=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function T(){if(null!==N){var e=t.unstable_now();E=e;var n=!0;try{n=N(!0,e)}finally{n?k():(S=!1,N=null)}}else S=!1}if("function"===typeof x)k=function(){x(T)};else if("undefined"!==typeof MessageChannel){var B=new MessageChannel,L=B.port2;B.port1.onmessage=T,k=function(){L.postMessage(null)}}else k=function(){v(T,0)};function R(e){N=e,S||(S=!0,k())}function O(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,O(w,s-i))):(e.sortIndex=o,n(c,e),p||m||(p=!0,R(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(630)),s=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let a=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&s&&s.length>1&&(o=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(a={code:"PGRST116",details:"Results contain ".concat(i.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(i=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(r=null===a||void 0===a?void 0:a.details)||void 0===r?void 0:r.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:i,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},358:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>i,Request:()=>o,Response:()=>l,default:()=>s,fetch:()=>a});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const a=r.fetch,s=r.fetch.bind(r),i=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(m,e)||!d.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,I=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var G=!1;function z(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function F(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case N:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case B:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Se=null;function Ne(e){if(e=xa(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function _e(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function Be(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==ke||null!==Se)&&(Pe(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Ae(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Ie=null,Me=!1,Ge=null,ze={onError:function(e){De=!0,Ie=e}};function Fe(e,t,n,r,a,s,i,o,l){De=!1,Ie=null,Ae.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return We(a),e;if(i===r)return We(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,St,Nt,_t=!1,Ct=[],Et=null,Pt=null,Tt=null,Bt=new Map,Lt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Bt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Dt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=ba(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Nt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Gt(e,t,n){Mt(e)&&n.delete(t)}function zt(){_t=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Tt&&Mt(Tt)&&(Tt=null),Bt.forEach(Gt),Lt.forEach(Gt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<Ct.length){Ft(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ft(Et,e),null!==Pt&&Ft(Pt,e),null!==Tt&&Ft(Tt,e),Bt.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)It(n),null===n.blockedOn&&Rt.shift()}var qt=y.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var a=xt,s=qt.transition;qt.transition=null;try{xt=1,$t(e,t,n,r)}finally{xt=a,qt.transition=s}}function Vt(e,t,n,r){var a=xt,s=qt.transition;qt.transition=null;try{xt=4,$t(e,t,n,r)}finally{xt=a,qt.transition=s}}function $t(e,t,n,r){if(Wt){var a=Jt(e,t,n,r);if(null===a)Wr(e,t,r,Kt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Dt(Et,e,t,n,r,a),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,r,a),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Bt.set(s,Dt(Bt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Dt(Lt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var s=xa(a);if(null!==s&&wt(s),null===(s=Jt(e,t,n,r))&&Wr(e,t,r,Kt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Jt(e,t,n,r){if(Kt=null,null!==(e=ba(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=I({},cn,{view:0,detail:0}),hn=an(dn),fn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(I({},fn,{dataTransfer:0})),gn=an(I({},dn,{relatedTarget:0})),vn=an(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(bn),yn=an(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Nn(){return Sn}var _n=I({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),En=an(I({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Tn=an(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Bn=I({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Bn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var Dn=u&&"TextEvent"in window&&!An,In=u&&(!On||An&&8<An&&11>=An),Mn=String.fromCharCode(32),Gn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Vr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,$n=null;function Kn(e){Mr(e,0)}function Jn(e){if($(ya(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),$n=Vn=null)}function nr(e){if("value"===e.propertyName&&Jn($n)){var t=[];Hn(t,$n,e,we(e)),Be(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,xr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Vr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Nr(e){if(kr[e])return kr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var _r=Nr("animationend"),Cr=Nr("animationiteration"),Er=Nr("animationstart"),Pr=Nr("transitionend"),Tr=new Map,Br="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Tr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Br.length;Rr++){var Or=Br[Rr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(_r,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(Er,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Fe.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Ie;De=!1,Ie=null,Me||(Me=!0,Ge=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Ir(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Ir(a,o,c),s=l}}}if(Me)throw e=Ge,Me=!1,Ge=null,e}function Gr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var a=Ht;break;case 4:a=Vt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ba(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Be(function(){var r=s,a=we(n),i=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case _r:case Cr:case Er:l=vn;break;case Pr:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Le(m,h))&&u.push(Hr(m,p,f)))),d)break;m=m.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==l?o:ya(l),f=null==c?o:ya(c),(o=new u(p,m+"leave",l,n,a)).target=d,o.relatedTarget=f,p=null,ba(a)===r&&((u=new u(h,m+"enter",c,n,a)).target=f,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,m=0,f=u=l;f;f=$r(f))m++;for(f=0,p=h;p;p=$r(p))f++;for(;0<m-f;)u=$r(u),m--;for(;0<f-m;)h=$r(h),f--;for(;m--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==l&&Kr(i,o,l,u,!1),null!==c&&null!==d&&Kr(i,d,c,u,!0)}if("select"===(l=(o=r?ya(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Wn(o))if(Yn)g=ir;else{g=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(i,g,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?ya(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,yr(i,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(i,n,a)}var b;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Un?zn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==x?"onCompositionEnd"===x&&Un&&(b=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Un=!0)),0<(v=Vr(r,x)).length&&(x=new yn(x,e,null,n,a),i.push({event:x,listeners:v}),b?x.data=b:null!==(b=Fn(n))&&(x.data=b))),(b=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Zt=Xt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(a=new yn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Mr(i,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,n))&&r.unshift(Hr(e,s,a)),null!=(s=Le(e,t))&&r.push(Hr(e,s,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(n,s))&&i.unshift(Hr(n,l,o)):a||null!=(l=Le(n,s))&&i.push(Hr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,ma="__reactContainer$"+da,pa="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[ha]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ya(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[fa]||null}var ja=[],ka=-1;function Sa(e){return{current:e}}function Na(e){0>ka||(e.current=ja[ka],ja[ka]=null,ka--)}function _a(e,t){ka++,ja[ka]=e.current,e.current=t}var Ca={},Ea=Sa(Ca),Pa=Sa(!1),Ta=Ca;function Ba(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Na(Pa),Na(Ea)}function Oa(e,t,n){if(Ea.current!==Ca)throw Error(s(168));_a(Ea,t),_a(Pa,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,q(e)||"Unknown",a));return I({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Ta=Ea.current,_a(Ea,e),_a(Pa,Pa.current),!0}function Ia(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Aa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Na(Pa),Na(Ea),_a(Ea,e)):Na(Pa),_a(Pa,n)}var Ma=null,Ga=!1,za=!1;function Fa(e){null===Ma?Ma=[e]:Ma.push(e)}function Ua(){if(!za&&null!==Ma){za=!0;var e=0,t=xt;try{var n=Ma;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ma=null,Ga=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),$e(Ze,Ua),a}finally{xt=t,za=!1}}return null}var qa=[],Wa=0,Ha=null,Va=0,$a=[],Ka=0,Ja=null,Qa=1,Ya="";function Xa(e,t){qa[Wa++]=Va,qa[Wa++]=Ha,Ha=e,Va=t}function Za(e,t,n){$a[Ka++]=Qa,$a[Ka++]=Ya,$a[Ka++]=Ja,Ja=e;var r=Qa;e=Ya;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ya=s+e}else Qa=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Ha;)Ha=qa[--Wa],qa[Wa]=null,Va=qa[--Wa],qa[Wa]=null;for(;e===Ja;)Ja=$a[--Ka],$a[Ka]=null,Ya=$a[--Ka],$a[Ka]=null,Qa=$a[--Ka],$a[Ka]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Qa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function xs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&bs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case j:return(t=Mc(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ac(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case L:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);vs(e,n)}return null}function m(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return m(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);vs(t,r)}return null}function p(a,s,o,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=f(a,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),s=i(v,s,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(a,d),as&&Xa(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(a,o[p],l))&&(s=i(d,s,p),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,p),c}for(d=r(a,d);p<o.length;p++)null!==(g=m(d,a,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=i(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,p),c}function g(a,o,l,c){var u=A(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=o,g=o=0,v=null,b=l.next();null!==p&&!b.done;g++,b=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var x=f(a,p,b.value,c);if(null===x){null===p&&(p=v);break}e&&p&&null===x.alternate&&t(a,p),o=i(x,o,g),null===d?u=x:d.sibling=x,d=x,p=v}if(b.done)return n(a,p),as&&Xa(a,g),u;if(null===p){for(;!b.done;g++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,g),null===d?u=b:d.sibling=b,d=b);return as&&Xa(a,g),u}for(p=r(a,p);!b.done;g++,b=l.next())null!==(b=m(p,a,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b);return e&&p.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===k){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===k?((s=Ac(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Oc(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case j:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mc(i,r.mode,l)).return=r,r=s}return o(r);case L:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return p(r,s,i,l);if(A(i))return g(r,s,i,l);vs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Ic(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ys=xs(!0),ws=xs(!1),js=Sa(null),ks=null,Ss=null,Ns=null;function _s(){Ns=Ss=ks=null}function Cs(e){var t=js.current;Na(js),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){ks=e,Ns=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(Ns!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Bs=null;function Ls(e){null===Bs?Bs=[e]:Bs.push(e)}function Rs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ls(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return null===(a=r.interleaved)?(t.next=t,Ls(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Fs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var a=e.updateQueue;As=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,d,h):m)||void 0===h)break e;d=I({},d,h);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ws={},Hs=Sa(Ws),Vs=Sa(Ws),$s=Sa(Ws);function Ks(e){if(e===Ws)throw Error(s(174));return e}function Js(e,t){switch(_a($s,t),_a(Vs,e),_a(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Na(Hs),_a(Hs,t)}function Qs(){Na(Hs),Na(Vs),Na($s)}function Ys(e){Ks($s.current);var t=Ks(Hs.current),n=le(t,e.type);t!==n&&(_a(Vs,e),_a(Hs,n))}function Xs(e){Vs.current===e&&(Na(Hs),Na(Vs))}var Zs=Sa(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=y.ReactCurrentDispatcher,ai=y.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function pi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ui)}if(ri.current=Yi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function xi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Dl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function ki(e,t){var n=ii,r=bi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,xo=!0),r=r.queue,Ai(_i.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ti(9,Ni.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&si)||Si(n,t,a)}return a}function Si(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Ci(t)&&Ei(e)}function _i(e,t,n){return n(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ei(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,ii,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bi(){return bi().memoizedState}function Li(e,t,n,r){var a=vi();ii.flags|=e,a.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Ri(e,t,n,r){var a=bi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&mi(r,i.deps))return void(a.memoizedState=Ti(t,n,s,r))}ii.flags|=e,a.memoizedState=Ti(1|t,n,s,r)}function Oi(e,t){return Li(8390656,8,e,t)}function Ai(e,t){return Ri(2048,8,e,t)}function Di(e,t){return Ri(4,2,e,t)}function Ii(e,t){return Ri(4,4,e,t)}function Mi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ri(4,4,Mi.bind(null,t,e),n)}function zi(){}function Fi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ui(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),ii.lanes|=n,Dl|=n,e.baseState=!0),t)}function Wi(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{xt=n,ai.transition=r}}function Hi(){return bi().memoizedState}function Vi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ki(e))Ji(t,n);else if(null!==(n=Rs(e,t,n,r))){nc(n,e,r,ec()),Qi(n,t,r)}}function $i(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Ji(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ls(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Rs(e,t,a,r))&&(nc(n,e,r,a=ec()),Qi(n,t,r))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Yi={readContext:Ts,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Ts,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4194308,4,Mi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Pi,useDebugValue:zi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Wi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=vi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&si)||Si(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Oi(_i.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Ni.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Pl.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ts,useCallback:Fi,useContext:Ts,useEffect:Ai,useImperativeHandle:Gi,useInsertionEffect:Di,useLayoutEffect:Ii,useMemo:Ui,useReducer:yi,useRef:Bi,useState:function(){return yi(xi)},useDebugValue:zi,useDeferredValue:function(e){return qi(bi(),oi.memoizedState,e)},useTransition:function(){return[yi(xi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ts,useCallback:Fi,useContext:Ts,useEffect:Ai,useImperativeHandle:Gi,useInsertionEffect:Di,useLayoutEffect:Ii,useMemo:Ui,useReducer:wi,useRef:Bi,useState:function(){return wi(xi)},useDebugValue:zi,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:qi(t,oi.memoizedState,e)},useTransition:function(){return[wi(xi)[0],bi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ms(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Gs(e,s,a))&&(nc(t,e,a,r),zs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ms(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Gs(e,s,a))&&(nc(t,e,a,r),zs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ms(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Gs(e,a,r))&&(nc(t,e,r,n),zs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(a=La(t)?Ta:Ea.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ba(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ts(s):(s=La(t)?Ta:Ea.current,a.context=Ba(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Us(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),uo(0,t)},n}function mo(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Gs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=y.ReactCurrentOwner,xo=!1;function yo(e,t,n,r){t.child=null===e?ws(t,null,n,r):ys(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var s=t.ref;return Ps(t,a),r=pi(e,t,n,r,s,a),n=gi(),null===e||xo?(as&&n&&es(t),t.flags|=1,yo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function jo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ko(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Wo(e,t,a)}return t.flags|=1,(e=Rc(s,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Wo(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return _o(e,t,n,r,a)}function So(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Rl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Rl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_a(Rl,Ll),Ll|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_a(Rl,Ll),Ll|=r;return yo(e,t,a,n),t.child}function No(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,a){var s=La(n)?Ta:Ea.current;return s=Ba(t,s),Ps(t,a),n=pi(e,t,n,r,s,a),r=gi(),null===e||xo?(as&&r&&es(t),t.flags|=1,yo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wo(e,t,a))}function Co(e,t,n,r,a){if(La(n)){var s=!0;Da(t)}else s=!1;if(Ps(t,a),null===t.stateNode)qo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Ba(t,c=La(n)?Ta:Ea.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),As=!1;var h=t.memoizedState;i.state=h,Us(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Pa.current||As?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=As||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Is(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Ba(t,l=La(n)?Ta:Ea.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),As=!1,h=t.memoizedState,i.state=h,Us(t,r,i,a);var m=t.memoizedState;o!==d||h!==m||Pa.current||As?("function"===typeof f&&(no(t,n,f,r),m=t.memoizedState),(c=As||ao(t,n,c,r,h,m,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Eo(e,t,n,r,s,a)}function Eo(e,t,n,r,a,s){No(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ia(t,n,!1),Wo(e,t,s);r=t.stateNode,bo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,o,s)):yo(e,t,o,s),t.memoizedState=r.state,a&&Ia(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Js(e,t.containerInfo)}function To(e,t,n,r,a){return fs(),ms(a),t.flags|=256,yo(e,t,n,r),t.child}var Bo,Lo,Ro,Oo,Ao={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_a(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,a,0,null),e=Ac(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Ao,e):Mo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Go(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Dc({mode:"visible",children:r.children},a,0,null),(i=Ac(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ys(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Ao,i);if(0===(1&t.mode))return Go(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Go(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),nc(r,e,a,-1))}return pc(),Go(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&($a[Ka++]=Qa,$a[Ka++]=Ya,$a[Ka++]=Ja,Qa=e.id,Ya=e.overflow,Ja=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Rc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Rc(r,o):(o=Ac(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ao,a}return e=(o=e.child).sibling,a=Rc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Mo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Go(e,t,n,r){return null!==r&&ms(r),ys(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function Fo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Uo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fo(t,!0,n,null,s);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $o(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return La(t.type)&&Ra(),Vo(t),null;case 3:return r=t.stateNode,Qs(),Na(Pa),Na(Ea),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Lo(e,t),Vo(t),null;case 5:Xs(t);var a=Ks($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Ks(Hs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Gr(Ar[a],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":Q(r,i),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Gr("invalid",r);break;case"textarea":ae(r,i),Gr("invalid",r)}for(var l in be(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Gr("scroll",r)}switch(n){case"input":V(r),Z(r,i,!0);break;case"textarea":V(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Bo(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),a=r;break;case"iframe":case"object":case"embed":Gr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Gr(Ar[a],e);a=r;break;case"source":Gr("error",e),a=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),a=r;break;case"details":Gr("toggle",e),a=r;break;case"input":Q(e,r),a=J(e,r),Gr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Gr("invalid",e)}for(i in be(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Gr("scroll",e):null!=u&&x(e,i,u,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks($s.current),Ks(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Vo(t),null;case 13:if(Na(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ol&&(Ol=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Qs(),Lo(e,t),null===e&&Ur(t.stateNode.containerInfo),Vo(t),null;case 10:return Cs(t.type._context),Vo(t),null;case 19:if(Na(Zs),null===(i=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Ho(i,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Ul&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Vo(t),null}else 2*Ye()-i.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,_a(Zs,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Na(Pa),Na(Ea),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Na(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Na(Zs),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Bo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},Ro=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ks(Hs.current);var s,i=null;switch(n){case"input":a=J(e,a),r=J(e,r),i=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Gr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Qo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[pa],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=ul,a=dl;ul=null,hl(e,t,n),dl=a,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Ut(e)):la(ul,n.stateNode));break;case 4:r=ul,a=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(i,o,a),ul=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){Sc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Y(a,i),xe(l,o);var u=xe(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):x(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ne(a,!!i.multiple,m,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){Sc(e,e.return,g)}}break;case 6:if(pl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Sc(e,e.return,g)}}break;case 3:if(pl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pl(t,e),vl(e);break;case 13:pl(t,e),vl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,pl(t,e),Qo=u):pl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(m=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==m?(m.return=f,Xo=m):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Jo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Jo;var c=Qo;if(Jo=i,(Qo=l)&&!c)for(Xo=a;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?jl(a):null!==l?(l.return=i,Xo=l):jl(a);for(;null!==s;)Xo=s,xl(s,t,n),s=s.sibling;Xo=a,Jo=o,Qo=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Xo=s):yl(e)}}function yl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&al(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){Sc(t,a,l)}}var s=t.return;try{al(t)}catch(l){Sc(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){Sc(t,i,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,Sl=Math.ceil,Nl=y.ReactCurrentDispatcher,_l=y.ReactCurrentOwner,Cl=y.ReactCurrentBatchConfig,El=0,Pl=null,Tl=null,Bl=0,Ll=0,Rl=Sa(0),Ol=0,Al=null,Dl=0,Il=0,Ml=0,Gl=null,zl=null,Fl=0,Ul=1/0,ql=null,Wl=!1,Hl=null,Vl=null,$l=!1,Kl=null,Jl=0,Ql=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&El)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Bl?Bl&-Bl:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Yl=null,Error(s(185));vt(e,n,r),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Il|=n),4===Ol&&oc(e,Bl)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Ul=Ye()+500,Ga&&Ua()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Pl?Bl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ga=!0,Fa(e)}(lc.bind(null,e)):Fa(lc.bind(null,e)),ia(function(){0===(6&El)&&Ua()}),n=null;else{switch(yt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Xl=-1,Zl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Bl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=El;El|=2;var i=mc();for(Pl===e&&Bl===t||(ql=null,Ul=Ye()+500,hc(e,t));;)try{bc();break}catch(l){fc(e,l)}_s(),Nl.current=i,El=a,null!==Tl?t=0:(Pl=null,Bl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(r=a,t=sc(e,a))),1===t)throw n=Al,hc(e,0),oc(e,r),rc(e,Ye()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(i=mt(e))&&(r=i,t=sc(e,i))),1===t))throw n=Al,hc(e,0),oc(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,zl,ql);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fl+500-Ye())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,zl,ql),t);break}wc(e,zl,ql);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,zl,ql),r);break}wc(e,zl,ql);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Ml,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(s(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Al,hc(e,0),oc(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,ql),rc(e,Ye()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Ul=Ye()+500,Ga&&Ua())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&jc();var t=El;El|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(El=t))&&Ua()}}function dc(){Ll=Rl.current,Na(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Qs(),Na(Pa),Na(Ea),ni();break;case 5:Xs(r);break;case 4:Qs();break;case 13:case 19:Na(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Tl=e=Rc(e.current,null),Bl=Ll=t,Ol=0,Al=null,Ml=Il=Dl=0,zl=Gl=null,null!==Bs){for(t=0;t<Bs.length;t++)if(null!==(r=(n=Bs[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Bs=null}return e}function fc(e,t){for(;;){var n=Tl;try{if(_s(),ri.current=Yi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,_l.current=null,null===n||null===n.return){Ol=1,Al=t,Tl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Bl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&po(i,u,t),c=u;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(i,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ms(lo(c,l));break e}}i=c=lo(c,l),4!==Ol&&(Ol=2),null===Gl?Gl=[i]:Gl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,fo(0,c,t));break e;case 1:l=c;var b=i.type,x=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Vl||!Vl.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(y){t=y,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function mc(){var e=Nl.current;return Nl.current=Yi,null===e?Yi:e}function pc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||0===(268435455&Dl)&&0===(268435455&Il)||oc(Pl,Bl)}function gc(e,t){var n=El;El|=2;var r=mc();for(Pl===e&&Bl===t||(ql=null,hc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(_s(),El=n,Nl.current=r,null!==Tl)throw Error(s(261));return Pl=null,Bl=0,Ol}function vc(){for(;null!==Tl;)xc(Tl)}function bc(){for(;null!==Tl&&!Je();)xc(Tl)}function xc(e){var t=kl(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?yc(e):Tl=t,_l.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$o(n,t,Ll)))return void(Tl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ol=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=xt,a=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{jc()}while(null!==Kl);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Pl&&(Tl=Pl=null,Bl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Pc(tt,function(){return jc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=xt;xt=1;var l=El;El|=4,_l.current=null,function(e,t){if(ea=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}p=tl,tl=!1}(e,n),gl(n,e),mr(ta),Wt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Qe(),El=l,xt=o,Cl.transition=i}else e.current=n;if($l&&($l=!1,Kl=e,Jl=a),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Yl?Ql++:(Ql=0,Yl=e):Ql=0,Ua()}(e,t,n,r)}finally{Cl.transition=a,xt=r}return null}function jc(){if(null!==Kl){var e=yt(Jl),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Jl=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,m=d.return;if(sl(d),d===u){Xo=null;break}if(null!==f){f.return=m,Xo=f;break}Xo=m}}}var p=i.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Xo=b;break e}Xo=i.return}}var x=e.current;for(Xo=x;null!==Xo;){var y=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Xo=y;else e:for(o=x;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){Sc(l,l.return,j)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(El=a,Ua(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=Gs(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Gs(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Bl&n)===n&&(4===Ol||3===Ol&&(130023424&Bl)===Bl&&500>Ye()-Fl?hc(e,0):Ml|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Os(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_c(e,n)}function Pc(e,t){return $e(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bc(e,t,n,r){return new Tc(e,t,n,r)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ac(n.children,a,i,t);case S:o=8,a|=8;break;case N:return(e=Bc(12,n,t,2|a)).elementType=N,e.lanes=i,e;case P:return(e=Bc(13,n,t,a)).elementType=P,e.lanes=i,e;case T:return(e=Bc(19,n,t,a)).elementType=T,e.lanes=i,e;case R:return Dc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case E:o=11;break e;case B:o=14;break e;case L:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Bc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ac(e,t,n,r){return(e=Bc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Bc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Bc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,i,o,l){return e=new Gc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Bc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Fc(e){if(!e)return Ca;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(La(n))return Aa(e,n,t)}return t}function Uc(e,t,n,r,a,s,i,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Fc(null),n=e.current,(s=Ms(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Gs(n,s,a),e.current.lanes=a,vt(e,a,r),rc(e,r),e}function qc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Gs(a,t,i))&&(nc(e,a,i,s),zs(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),fs();break;case 5:Ys(t);break;case 1:La(t.type)&&Da(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(js,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Io(e,t,n):(_a(Zs,1&Zs.current),null!==(e=Wo(e,t,n))?e.sibling:null);_a(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,as&&0!==(1048576&t.flags)&&Za(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var a=Ba(t,Ea.current);Ps(t,n),a=pi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(i=!0,Da(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ds(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Eo(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),yo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===B)return 14}return 2}(r),e=to(r,e),a){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=jo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Is(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=To(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=Wo(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),No(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Io(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ys(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,_a(js,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Pa.current){t=Wo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ms(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Es(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Es(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ps(t,n),r=r(a=Ts(a)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),jo(e,t,r,a=to(r.type,a),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),qo(e,t),t.tag=1,La(r)?(e=!0,Da(t)):e=!1,Ps(t,n),so(t,r,a),oo(t,r,a,n),Eo(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Wc(i);o.call(e)}}qc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Wc(i);s.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ma]=i.current,Ur(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[ma]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc(function(){qc(t,l,n,r)}),l}(n,t,e,a,r);return Wc(i)}Jc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Jc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){qc(null,e,null,null)}),t[ma]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ye()),0===(6&El)&&(Ul=Ye()+500,Ua()))}break;case 13:uc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},St=function(){return xt},Nt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));$(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[xa,ya,wa,_e,Ce,cc]},tu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,i,o),e[ma]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(993));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=s},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=a}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer="count=".concat(n)),new a.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push("count=".concat(r)),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=r(n(210));t.PostgrestClient=a.default;const s=r(n(829));t.PostgrestQueryBuilder=s.default;const i=r(n(736));t.PostgrestFilterBuilder=i.default;const o=r(n(993));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},993:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(286));class s extends a.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n(358);const d=["sri"],h=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function b(){return N(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return j("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:k(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function y(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:s=!1}=r,i=a.history,o="POP",l=null,u=d();function d(){return(i.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-u;u=e,l&&l({action:o,location:m.location,delta:t})}function f(e){return _(e)}null==u&&(u=0,i.replaceState(c(c({},i.state),{},{idx:u}),""));let m={get action(){return o},get location(){return e(a,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(v,h),l=e,()=>{a.removeEventListener(v,h),l=null}},createHref:e=>t(a,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=j(m.location,e,t);n&&n(r,e),u=d()+1;let c=w(r,u),h=m.createHref(r);try{i.pushState(c,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;a.location.assign(h)}s&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let r=j(m.location,e,t);n&&n(r,e),u=d();let a=w(r,u),c=m.createHref(r);i.replaceState(a,"",c),s&&l&&l({action:o,location:m.location,delta:0})},go:e=>i.go(e)};return m}function _(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:k(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function C(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let a=q(("string"===typeof t?S(t):t).pathname||"/",n);if(null==a)return null;let s=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=U(a);i=G(s[o],e,r)}return i}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(x(i.relativePath.startsWith(r),'Absolute route path "'.concat(i.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),i.relativePath=i.relativePath.slice(r.length));let o=K([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),P(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of T(e.path))a(e,t,r);else a(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=T(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var B=/^:[\w-]+$/,L=3,R=2,O=1,A=10,D=-2,I=e=>"*"===e;function M(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=D),t&&(r+=R),n.filter(e=>!I(e)).reduce((e,t)=>e+(B.test(t)?L:""===t?O:A),r)}function G(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:K([s,u.pathname]),pathnameBase:J(K([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=K([s,u.pathnameBase]))}return i}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=F(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];y("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return y(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function W(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e){let t=H(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=c({},e),x(!r.pathname||!r.pathname.includes("?"),W("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),W("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),W("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:a=""}="string"===typeof e?S(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Q(r),hash:Y(a)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var K=e=>e.join("/").replace(/\/\/+/g,"/"),J=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ae=r.createContext(new Map);ae.displayName="Fetchers";var se=r.createContext(null);se.displayName="Await";var ie=r.createContext(null);ie.displayName="Navigation";var oe=r.createContext(null);oe.displayName="Location";var le=r.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=r.createContext(null);ce.displayName="RouteError";function ue(){return null!=r.useContext(oe)}function de(){return x(ue(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(oe).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fe(e){r.useContext(ie).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(le);return e?function(){let{router:e}=Se("useNavigate"),t=_e("useNavigate"),n=r.useRef(!1);fe(()=>{n.current=!0});let a=r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(n.current,he),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,c({fromRouteId:t},a)))},[e,t]);return a}():function(){x(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(ie),{matches:a}=r.useContext(le),{pathname:s}=de(),i=JSON.stringify(V(a)),o=r.useRef(!1);fe(()=>{o.current=!0});let l=r.useCallback(function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(o.current,he),!o.current)return;if("number"===typeof r)return void n.go(r);let l=$(r,JSON.parse(i),s,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:K([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)},[t,n,i,s,e]);return l}()}r.createContext(null);function pe(){let{matches:e}=r.useContext(le),t=e[e.length-1];return t?t.params:{}}function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(le),{pathname:a}=de(),s=JSON.stringify(V(n));return r.useMemo(()=>$(e,JSON.parse(s),a,"path"===t),[e,s,a,t])}function ve(e,t,n,a){x(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=r.useContext(ie),{matches:i}=r.useContext(le),o=i[i.length-1],l=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Pe(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=de();if(t){var p;let e="string"===typeof t?S(t):t;x("/"===d||(null===(p=e.pathname)||void 0===p?void 0:p.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let g=f.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=C(e,{pathname:v});y(h||null!=b,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),y(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=je(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:K([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:K([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,a);return t&&w?r.createElement(oe.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function be(){let e=Ce(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,o)}var xe=r.createElement(be,null),ye=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(le.Provider,{value:this.props.routeContext},r.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(te);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(le.Provider,{value:t},a)}function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let i=!1,o=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){i=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,l,c)=>{let u,d=!1,h=null,f=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,h=l.route.errorElement||xe,i&&(o<0&&0===c?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):o===c&&(d=!0,f=l.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,c+1)),p=()=>{let t;return t=u?h:d?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(we,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(ye,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=r.useContext(te);return x(t,ke(e)),t}function Ne(e){let t=r.useContext(ne);return x(t,ke(e)),t}function _e(e){let t=function(e){let t=r.useContext(le);return x(t,ke(e)),t}(e),n=t.matches[t.matches.length-1];return x(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=r.useContext(ce),n=Ne("useRouteError"),a=_e("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[a]}var Ee={};function Pe(e,t,n){t||Ee[e]||(Ee[e]=!0,y(!1,n))}r.memo(function(e){let{routes:t,future:n,state:r}=e;return ve(t,void 0,r,n)});function Te(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Be(e){let{basename:t="/",children:n=null,location:a,navigationType:s="POP",navigator:i,static:o=!1}=e;x(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof a&&(a=S(a));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=a,p=r.useMemo(()=>{let e=q(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:m},navigationType:s}},[l,u,d,h,f,m,s]);return y(null!=p,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==p?null:r.createElement(ie.Provider,{value:c},r.createElement(oe.Provider,{children:n,value:p}))}function Le(e){let{children:t,location:n}=e;return ve(Re(t),n)}r.Component;function Re(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,Re(e.props.children,s));x(e.type===Te,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Re(e.props.children,s)),n.push(i)}),n}var Oe="get",Ae="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}var Me=null;var Ge=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ze(e){return null==e||Ge.has(e)?e:(y(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ae,'"')),null)}function Fe(e,t){let n,r,a,s,i;if(De(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?q(i,t):null,n=e.getAttribute("method")||Oe,a=ze(e.getAttribute("enctype"))||Ae,s=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?q(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Oe,a=ze(e.getAttribute("formenctype"))||ze(i.getAttribute("enctype"))||Ae,s=new FormData(i,e),!function(){if(null===Me)try{new FormData(document.createElement("form"),0),Me=!1}catch(e){Me=!0}return Me}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oe,r=null,a=Ae,i=e}var o;return s&&"text/plain"===a&&(i=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:i}}function Ue(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function We(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ve(e,t,n,r,a,s){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function $e(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce((e,a)=>{if(t&&!We(a)&&"script"===a.as&&a.href&&r.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function Je(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Qe=new Set([100,101,204,205]);function Ye(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===q(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}r.Component;function Xe(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let a,s=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return r.createElement(Ze,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)a=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);a=new Error(e)}return r.createElement(Ze,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function Ze(e){var t;let{title:n,renderScripts:a,isOutsideRemixApp:s,children:i}=e,{routeModules:o}=at();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,a?r.createElement(dt,null):null)))}function et(e,t){return"lazy"===e.mode&&!0===t}function tt(){let e=r.useContext(te);return Ue(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nt(){let e=r.useContext(ne);return Ue(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rt=r.createContext(void 0);function at(){let e=r.useContext(rt);return Ue(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!ut)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}function ot(e){let{page:t}=e,n=u(e,h),{router:a}=tt(),s=r.useMemo(()=>C(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?r.createElement(ct,c({page:t,matches:s},n)):null}function lt(e){let{manifest:t,routeModules:n}=at(),[a,s]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return Ke((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await qe(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(He).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||s(e)}),()=>{r=!0}},[e,t,n]),a}function ct(e){let{page:t,matches:n}=e,a=u(e,f),s=de(),{manifest:i,routeModules:o}=at(),{basename:l}=tt(),{loaderData:d,matches:h}=nt(),m=r.useMemo(()=>Ve(t,n,h,i,s,"data"),[t,n,h,i,s]),p=r.useMemo(()=>Ve(t,n,h,i,s,"assets"),[t,n,h,i,s]),g=r.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let a=i.routes[t.route.id];a&&a.hasLoader&&(!m.some(e=>e.route.id===t.route.id)&&t.route.id in d&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let a=Ye(t,l);return r&&e.size>0&&a.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[a.pathname+a.search]},[l,d,s,i,m,n,t,o]),v=r.useMemo(()=>$e(p,i),[p,i]),b=lt(p);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},a))),v.map(e=>r.createElement("link",c({key:e,rel:"modulepreload",href:e},a))),b.map(e=>{let{key:t,link:n}=e;return r.createElement("link",c({key:t},n))}))}rt.displayName="FrameworkContext";var ut=!1;function dt(e){let{manifest:t,serverHandoffString:n,isSpaMode:a,renderMeta:s,routeDiscovery:i,ssr:o}=at(),{router:l,static:h,staticContext:f}=tt(),{matches:m}=nt(),p=et(i,o);s&&(s.didRenderScripts=!0);let g=it(m,null,a);r.useEffect(()=>{ut=!0},[]);let v=r.useMemo(()=>{var a;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=h?"".concat(null!==(a=t.hmr)&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(g.map((e,n)=>{let r="route".concat(n),a=t.routes[e.route.id];Ue(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,u=[...s?[{module:s,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=u(e,d),a=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(s.pop();s.length>0;)i.push("/".concat(s.join("/"))),s.pop();i.forEach(e=>{let n=C(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return c(c({},r),{},{routes:o,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Je(s),type:void 0})),r.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Je(i),type:"module",async:!0})))},[]),b=ut?[]:(x=t.entry.imports.concat($e(g,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let y="object"===typeof t.sri?t.sri:{};return ut?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,p?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0})),v)}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}var ft="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ft&&(window.__reactRouterVersion="7.6.3")}catch(Is){}function mt(e){let{basename:t,children:n,window:a}=e,s=r.useRef();null==s.current&&(s.current=b({window:a,v5Compat:!0}));let i=s.current,[o,l]=r.useState({action:i.action,location:i.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>i.listen(c),[i,c]),r.createElement(Be,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=r.forwardRef(function(e,t){let n,{onClick:a,discover:s="render",prefetch:i="none",relative:o,reloadDocument:l,replace:d,state:h,target:f,to:p,preventScrollReset:g,viewTransition:v}=e,b=u(e,m),{basename:w}=r.useContext(ie),j="string"===typeof p&&pt.test(p),S=!1;if("string"===typeof p&&j&&(n=p,ft))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=q(t.pathname,w);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:S=!0}catch(Is){y(!1,'<Link to="'.concat(p,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let N=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=r.useContext(ie),{hash:s,pathname:i,search:o}=ge(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:K([n,i])),a.createHref({pathname:l,search:o,hash:s})}(p,{relative:o}),[_,C,E]=function(e,t){let n=r.useContext(rt),[a,s]=r.useState(!1),[i,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let m=()=>{s(!0)},p=()=>{s(!1),o(!1)};return n?"intent"!==e?[i,f,{}]:[i,f,{onFocus:st(l,m),onBlur:st(c,p),onMouseEnter:st(u,m),onMouseLeave:st(d,p),onTouchStart:st(h,m)}]:[!1,f,{}]}(i,b),P=function(e){let{target:t,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=ge(e,{relative:i});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:k(c)===k(u);l(e,{replace:t,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,u,n,a,t,e,s,i,o])}(p,{replace:d,state:h,target:f,preventScrollReset:g,relative:o,viewTransition:v});let T=r.createElement("a",c(c(c({},b),E),{},{href:n||N,onClick:S||l?a:function(e){a&&a(e),e.defaultPrevented||P(e)},ref:ht(t,C),target:f,"data-discover":j||"render"!==s?void 0:"true"}));return _&&!j?r.createElement(r.Fragment,null,T,r.createElement(ot,{page:N})):T});gt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:i=!1,style:o,to:l,viewTransition:d,children:h}=e,f=u(e,p),m=ge(l,{relative:f.relative}),g=de(),v=r.useContext(ne),{navigator:b,basename:y}=r.useContext(ie),w=null!=v&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(re);x(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=xt("useViewTransitionState"),s=ge(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=q(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=q(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=z(s.pathname,o)||null!=z(s.pathname,i)}(m)&&!0===d,j=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,k=g.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(k=k.toLowerCase(),S=S?S.toLowerCase():null,j=j.toLowerCase()),S&&y&&(S=q(S,y)||S);const N="/"!==j&&j.endsWith("/")?j.length-1:j.length;let _,C=k===j||!i&&k.startsWith(j)&&"/"===k.charAt(N),E=null!=S&&(S===j||!i&&S.startsWith(j)&&"/"===S.charAt(j.length)),P={isActive:C,isPending:E,isTransitioning:w},T=C?n:void 0;_="function"===typeof s?s(P):[s,C?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let B="function"===typeof o?o(P):o;return r.createElement(gt,c(c({},f),{},{"aria-current":T,className:_,ref:t,style:B,to:l,viewTransition:d}),"function"===typeof h?h(P):h)}).displayName="NavLink";var vt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:a,navigate:s,reloadDocument:i,replace:o,state:l,method:d=Oe,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:v}=e,b=u(e,g),y=kt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ie),a=r.useContext(le);x(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i=c({},ge(e||".",{relative:t})),o=de();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:K([n,i.pathname]));return k(i)}(h,{relative:m}),j="get"===d.toLowerCase()?"get":"post",S="string"===typeof h&&pt.test(h);return r.createElement("form",c(c({ref:t,method:j,action:w,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:s,replace:o,state:l,relative:m,preventScrollReset:p,viewTransition:v})}},b),{},{"data-discover":S||"render"!==n?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function xt(e){let t=r.useContext(te);return x(t,bt(e)),t}function yt(e){y("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=r.useRef(Ie(e)),n=r.useRef(!1),a=de(),s=r.useMemo(()=>function(e,t){let n=Ie(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(a.search,n.current?null:t.current),[a.search]),i=me(),o=r.useCallback((e,t)=>{const r=Ie("function"===typeof e?e(s):e);n.current=!0,i("?"+r,t)},[i,s]);return[s,o]}vt.displayName="Form";var wt=0,jt=()=>"__".concat(String(++wt),"__");function kt(){let{router:e}=xt("useSubmit"),{basename:t}=r.useContext(ie),n=_e("useRouteId");return r.useCallback(async function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:i,encType:o,formData:l,body:c}=Fe(r,t);if(!1===a.navigate){let t=a.fetcherKey||jt();await e.fetch(t,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||i,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}var St={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nt=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],_t=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:h}=n,f=u(n,Nt);return(0,r.createElement)("svg",c(c({ref:a},St),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),d].join(" ")},f),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(h)?h:[h]]);var m});return n.displayName="".concat(e),n},Ct=_t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Et=_t("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Pt=_t("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]),Tt=_t("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Bt=_t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Lt=_t("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),Rt=_t("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Ot=_t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),At=_t("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Dt=_t("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),It={metals:[{id:"white-gold",name:"White Gold",description:"Classic and elegant 14K white gold",price:0,image:"/images/metals/white-gold.jpg"},{id:"yellow-gold",name:"Yellow Gold",description:"Traditional 14K yellow gold",price:0,image:"/images/metals/yellow-gold.jpg"},{id:"rose-gold",name:"Rose Gold",description:"Romantic 14K rose gold",price:0,image:"/images/metals/rose-gold.jpg"},{id:"platinum",name:"Platinum",description:"Premium platinum 950",price:500,image:"/images/metals/platinum.jpg"}],designs:[{id:"solitaire",name:"Classic Solitaire",description:"Timeless single stone setting",price:0,image:"/images/designs/solitaire.jpg"},{id:"halo",name:"Halo Setting",description:"Diamond surrounded by smaller stones",price:300,image:"/images/designs/halo.jpg"},{id:"vintage",name:"Vintage/Antique",description:"Art deco inspired design",price:400,image:"/images/designs/vintage.jpg"},{id:"three-stone",name:"Three Stone",description:"Past, present, and future symbolism",price:600,image:"/images/designs/three-stone.jpg"}],shapes:[{id:"round",name:"Round Brilliant",description:"Classic round cut for maximum sparkle",price:0,image:"/images/shapes/round.jpg"},{id:"princess",name:"Princess Cut",description:"Modern square cut with sharp corners",price:200,image:"/images/shapes/princess.jpg"},{id:"emerald",name:"Emerald Cut",description:"Elegant rectangular step cut",price:300,image:"/images/shapes/emerald.jpg"},{id:"oval",name:"Oval Brilliant",description:"Elongated round for finger slimming effect",price:250,image:"/images/shapes/oval.jpg"}],carats:[{id:"1.0",name:"1.0 Carat",description:"Classic size, perfect balance",price:5e3,image:"/images/carats/1ct.jpg"},{id:"1.5",name:"1.5 Carat",description:"Impressive presence without overwhelming",price:7500,image:"/images/carats/1.5ct.jpg"},{id:"2.0",name:"2.0 Carat",description:"Stunning statement piece",price:1e4,image:"/images/carats/2ct.jpg"},{id:"2.5",name:"2.5 Carat",description:"Ultimate luxury and elegance",price:12500,image:"/images/carats/2.5ct.jpg"}]},Mt=1e3;var Gt=n(579);const zt=e=>{let{steps:t,onStepClick:n}=e;const a=[Et,Ct,Pt,Tt];return(0,Gt.jsxs)("div",{className:"w-full",children:[(0,Gt.jsx)("div",{className:"flex items-center justify-between mb-1",children:t.map((e,s)=>{const i=a[s];return(0,Gt.jsxs)(r.Fragment,{children:[(0,Gt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Gt.jsx)("button",{onClick:()=>n(e.step),className:"w-5 h-5 rounded-full flex items-center justify-center text-[8px] font-medium transition-all duration-150 hover:scale-105 ".concat(e.completed?"bg-yellow-500 text-black":e.current?"bg-yellow-400 text-black":"bg-gray-200 text-gray-500 hover:bg-gray-300"),children:e.completed?(0,Gt.jsx)(Ot,{className:"w-2 h-2"}):(0,Gt.jsx)(i,{className:"w-2 h-2"})}),(0,Gt.jsx)("span",{className:"text-[8px] mt-0.5 font-medium text-center max-w-8 ".concat(e.completed?"text-yellow-600":e.current?"text-yellow-500":"text-gray-400"),children:e.label})]}),s<t.length-1&&(0,Gt.jsx)("div",{className:"flex-1 h-0.5 mx-0.5 rounded-full transition-all duration-300 ".concat(t[s+1].completed||t[s+1].current?"bg-yellow-400":"bg-gray-200")})]},e.step)})}),(0,Gt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-0.5 overflow-hidden",children:(0,Gt.jsx)("div",{className:"bg-yellow-400 h-0.5 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(t.filter(e=>e.completed).length/t.length*100,"%")}})})]})};class Ft extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Ut extends Ft{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class qt extends Ft{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wt extends Ft{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ht;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Ht||(Ht={}));var Vt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class $t{constructor(e){let{headers:t={},customFetch:r,region:a=Ht.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Vt(this,void 0,void 0,function*(){try{const{headers:r,method:a,body:s}=t;let i={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(i["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",c=s):"string"===typeof s?(i["Content-Type"]="text/plain",c=s):"undefined"!==typeof FormData&&s instanceof FormData?c=s:(i["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(l.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),r),body:c}).catch(e=>{throw new Ut(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new qt(u);if(!u.ok)throw new Wt(u);let h,f=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield u.json():"application/octet-stream"===f?yield u.blob():"text/event-stream"===f?u:"multipart/form-data"===f?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Wt||r instanceof qt?r.context:void 0}}})}}var Kt=n(980);const{PostgrestClient:Jt,PostgrestQueryBuilder:Qt,PostgrestFilterBuilder:Yt,PostgrestTransformBuilder:Xt,PostgrestBuilder:Zt,PostgrestError:en}=Kt;const tn=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}(),nn="realtime-js/".concat("2.11.15");var rn,an,sn,on,ln,cn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(rn||(rn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(an||(an={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(sn||(sn={})),function(e){e.websocket="websocket"}(on||(on={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(ln||(ln={}));class un{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+r));s+=r;const o=n.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(n.decode(e.slice(s,e.byteLength)))}}}class dn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(cn||(cn={}));const hn=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,a)=>(n[a]=fn(a,e,t,r),n),{})},fn=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?mn(s,i):pn(i)},mn=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return xn(t,n)}switch(e){case cn.bool:return gn(t);case cn.float4:case cn.float8:case cn.int2:case cn.int4:case cn.int8:case cn.numeric:case cn.oid:return vn(t);case cn.json:case cn.jsonb:return bn(t);case cn.timestamp:return yn(t);case cn.abstime:case cn.date:case cn.daterange:case cn.int4range:case cn.int8range:case cn.money:case cn.reltime:case cn.text:case cn.time:case cn.timestamptz:case cn.timetz:case cn.tsrange:case cn.tstzrange:default:return pn(t)}},pn=e=>e,gn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},vn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},xn=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>mn(t,e))}return e},yn=e=>"string"===typeof e?e.replace(" ","T"):e,wn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kn,Sn,Nn,_n;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(kn||(kn={}));class Cn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=Cn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Cn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(Sn||(Sn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Nn||(Nn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(_n||(_n={}));class En{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=an.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new jn(this,sn.join,this.params,this.timeout),this.rejoinTimer=new dn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=an.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=an.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=an.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new Cn(this),this.broadcastEndpointURL=wn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==an.closed){const{config:{broadcast:a,presence:s,private:i}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(_n.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(_n.CLOSED));const o={},l={broadcast:a,presence:s,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!u||u.event!==i||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=an.errored,void(null===e||void 0===e||e(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(_n.SUBSCRIBED))}null===e||void 0===e||e(_n.SUBSCRIBED)}).receive("error",t=>{this.state=an.errored,null===e||void 0===e||e(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{const{event:s,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=an.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(sn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new jn(this,sn.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new jn(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=sn;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===an.closed}_isJoined(){return this.state===an.joined}_isJoining(){return this.state===an.joining}_isLeaving(){return this.state===an.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&En.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sn.close,{},e)}_onError(e){this._on(sn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=an.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=hn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=hn(e.columns,e.old_record)),t}}const Pn=()=>{};class Tn{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pn,this.ref=0,this.logger=Pn,this.conn=null,this.sendBuffer=[],this.serializer=new un,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(on.websocket),this.httpEndpoint=wn(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dn(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=tn),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rn.connecting:return ln.Connecting;case rn.open:return ln.Open;case rn.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new En("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:nn};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(sn.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:a}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(r.status||""," ").concat(t," ").concat(n," ").concat(a&&"("+a+")"||""),r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport","".concat(e)),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sn.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Bn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ln(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Rn extends Bn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class On extends Bn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var An=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Dn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},In=e=>{if(Array.isArray(e))return e.map(e=>In(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=In(r)}),t};var Mn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Gn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zn=(e,t,r)=>Mn(void 0,void 0,void 0,function*(){const a=yield An(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof a&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{t(new Rn(Gn(n),e.status||500))}).catch(e=>{t(new On(Gn(e),e))}):t(new On(Gn(e),e))});function Fn(e,t,n,r,a,s){return Mn(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),n))})(t,r,a,s)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>i(e)).catch(e=>zn(e,o,r))})})}function Un(e,t,n,r){return Mn(this,void 0,void 0,function*(){return Fn(e,"GET",t,n,r)})}function qn(e,t,n,r,a){return Mn(this,void 0,void 0,function*(){return Fn(e,"POST",t,r,a,n)})}function Wn(e,t,n,r,a){return Mn(this,void 0,void 0,function*(){return Fn(e,"DELETE",t,r,a,n)})}var Hn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const Vn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$n={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Kn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Dn(r)}uploadOrUpdate(e,t,n,r){return Hn(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},$n),r);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const o=s.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,i["cache-control"]="max-age=".concat(s.cacheControl),i["content-type"]=s.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(i=Object.assign(Object.assign({},i),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:a,headers:i},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(Ln(a))return{data:null,error:a};throw a}})}upload(e,t,n){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Hn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),i=new URL(this.url+"/object/upload/sign/".concat(s));i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:$n.upsert},r),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);const o=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(Ln(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Hn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const a=yield qn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),s=new URL(this.url+a.url),i=s.searchParams.get("token");if(!i)throw new Bn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}update(e,t,n){return Hn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Hn(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Hn(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Hn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),a=yield qn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Hn(this,void 0,void 0,function*(){try{const r=yield qn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}download(e,t){return Hn(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield Un(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(s){if(Ln(s))return{data:null,error:s};throw s}})}info(e){return Hn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Un(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:In(e),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}exists(e){return Hn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Mn(this,void 0,void 0,function*(){return Fn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ln(n)&&n instanceof On){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}remove(e){return Hn(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}list(e,t,n){return Hn(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Vn),t),{prefix:e||""});return{data:yield qn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Jn={"X-Client-Info":"storage-js/".concat("2.7.1")};var Qn=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Yn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Jn),t),this.fetch=Dn(n)}listBuckets(){return Qn(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(Ln(e))return{data:null,error:e};throw e}})}getBucket(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield Un(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Qn(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Qn(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,a){return Mn(this,void 0,void 0,function*(){return Fn(e,"PUT",t,r,a,n)})}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(Ln(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Qn(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}}class Xn extends Yn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Kn(this.url,this.headers,e,this.fetch)}}let Zn="";Zn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const er={headers:{"X-Client-Info":"supabase-js-".concat(Zn,"/").concat("2.50.3")}},tr={schema:"public"},nr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rr={};var ar=n(630),sr=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const ir=e=>{let t;return t=e||("undefined"===typeof fetch?ar.default:fetch),function(){return t(...arguments)}},or=(e,t,n)=>{const r=ir(n),a="undefined"===typeof Headers?ar.Headers:Headers;return(n,s)=>sr(void 0,void 0,void 0,function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},s),{headers:l}))})};var lr=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};const cr="2.70.0",ur=3e4,dr=9e4,hr={"X-Client-Info":"gotrue-js/".concat(cr)},fr="X-Supabase-Api-Version",mr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},pr=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class gr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function vr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class br extends gr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class xr extends gr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class yr extends gr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class wr extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class jr extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kr extends yr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sr extends yr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nr extends yr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _r extends yr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Cr(e){return vr(e)&&"AuthRetryableFetchError"===e.name}class Er extends yr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Pr extends yr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Br=" \t\n\r=".split(""),Lr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Br.length;t+=1)e[Br[t].charCodeAt(0)]=-2;for(let t=0;t<Tr.length;t+=1)e[Tr[t].charCodeAt(0)]=t;return e})();function Rr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Tr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Tr[e]),t.queuedBits-=6}}function Or(e,t,n){const r=Lr[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ar(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Or(e.charCodeAt(i),a,s);return t.join("")}function Dr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Ir(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Dr(r,t)}}function Mr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Or(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Gr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Rr(e,n,r)),Rr(null,n,r),t.join("")}const zr=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Fr={tested:!1,writable:!1},Ur=()=>{if(!zr())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Is){return!1}if(Fr.tested)return Fr.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fr.tested=!0,Fr.writable=!0}catch(Is){Fr.tested=!0,Fr.writable=!1}return Fr.writable};const qr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Wr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Vr=async(e,t)=>{await e.removeItem(t)};class $r{constructor(){this.promise=new $r.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Kr(e){const t=e.split(".");if(3!==t.length)throw new Pr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pr.test(t[n]))throw new Pr("JWT not in base64url format");return{header:JSON.parse(Ar(t[0])),payload:JSON.parse(Ar(t[1])),signature:Mr(t[2]),raw:{header:t[0],payload:t[1]}}}function Jr(e){return("0"+e.toString(16)).substr(-2)}async function Qr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Jr).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Wr(e,"".concat(t,"-code-verifier"),a);const s=await Qr(r);return[s,r===s?"plain":"s256"]}$r.promiseConstructor=Promise;const Xr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Zr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ea(e){if(!Zr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ta=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const na=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ra=[502,503,504];async function aa(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new _r(na(e),0);if(ra.includes(e.status))throw new _r(na(e),e.status);let r,a;try{r=await e.json()}catch(Is){throw new xr(na(Is),Is)}const s=function(e){const t=e.headers.get(fr);if(!t)return null;if(!t.match(Xr))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Is){return null}}(e);if(s&&s.getTime()>=mr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Er(na(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new wr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Er(na(r),e.status,r.weak_password.reasons);throw new br(na(r),e.status||500,a)}async function sa(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[fr]||(s[fr]=mr.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(Is){throw console.error(Is),new _r(na(Is),0)}o.ok||await aa(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Is){await aa(Is)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ia(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function oa(e){const t=ia(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function la(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ca(e){return{data:e,error:null}}function ua(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=ta(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function da(e){return e}const ha=["global","local","others"];var fa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};class ma{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=qr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ha[0];if(ha.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(ha.join(", ")));try{return await sa(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await sa(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:la})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=fa(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await sa(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:ua,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(vr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await sa(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:la})}catch(t){if(vr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await sa(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:da});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(vr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){ea(e);try{return await sa(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:la})}catch(t){if(vr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ea(e);try{return await sa(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:la})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ea(e);try{return await sa(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:la})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ea(e.userId);try{const{data:t,error:n}=await sa(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ea(e.userId),ea(e.id);try{return{data:await sa(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(vr(t))return{data:null,error:t};throw t}}}const pa={getItem:e=>Ur()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ur()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ur()&&globalThis.localStorage.removeItem(e)}};function ga(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const va=!!(globalThis&&Ur()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class ba extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xa extends ba{}async function ya(e,t,n){va&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),va&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw va&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new xa('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(va)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Is){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Is)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}va&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{va&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Is){"undefined"!==typeof self&&(self.globalThis=self)}}();const wa={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hr,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ja(e,t,n){return await n()}class ka{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ka.nextInstanceID,ka.nextInstanceID+=1,this.instanceID>0&&zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},wa),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new ma({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=qr(r.fetch),this.lock=r.lock||ja,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:zr()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=ya:this.lock=ja,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Ur()?this.storage=pa:(this.memoryStorage={},this.storage=ga(this.memoryStorage)):(this.memoryStorage={},this.storage=ga(this.memoryStorage)),zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Is){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Is)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(cr,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Is){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),zr()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return vr(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return vr(t)?{error:t}:{error:new xr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await sa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ia}),{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(vr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Yr(this.storage,this.storageKey)),a=await sa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:ia})}else{if(!("phone"in e))throw new kr("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await sa(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ia})}}const{data:s,error:i}=a;if(i||!s)return{data:{user:null,session:null},error:i};const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(vr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await sa(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:oa})}else{if(!("phone"in e))throw new kr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await sa(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:oa})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new jr}}catch(t){if(vr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,u,d,h;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:d,wallet:h,statement:p,options:g}=e;let v;if(zr())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const b=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(b.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1","URI: ".concat(b.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:n}=await sa(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Gr(m)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ia});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new jr}}catch(p){if(vr(p))return{data:{user:null,session:null},error:p};throw p}}async _exchangeCodeForSession(e){const t=await Hr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await sa(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ia});if(await Vr(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new jr}}catch(a){if(vr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await sa(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ia}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new jr}}catch(t){if(vr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await Yr(this.storage,this.storageKey));const{error:o}=await sa(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await sa(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o}}throw new kr("You must provide either an email or phone number.")}catch(i){if(vr(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await sa(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:ia});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(vr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Yr(this.storage,this.storageKey)),await sa(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:ca})}catch(a){if(vr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new wr;const{error:r}=await sa(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(vr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await sa(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await sa(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i}}throw new kr("You must provide either an email or phone number and a type")}catch(t){if(vr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Is){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Is){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Hr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<dr;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await sa(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:la}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await sa(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:la}):{data:{user:null},error:new wr}})}catch(t){if(vr(t))return function(e){return vr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Vr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new wr;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Yr(this.storage,this.storageKey));const{data:l,error:c}=await sa(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:la});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(vr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wr;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=Kr(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(vr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new wr;const{session:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(vr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!zr())throw new Sr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Nr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Sr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Nr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new Sr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=ur&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:m,error:p}=await this._getUser(a);if(p)throw p;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(vr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Hr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{error:a};const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return vr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Vr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Yr(this.storage,this.storageKey,!0));try{return await sa(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(vr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(vr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await sa(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return zr()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(vr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await sa(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await sa(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ia})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Cr(t)&&Date.now()+n-a<ur},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(Is){if(!r(a,Is))return void t(Is)}})()}))}catch(a){if(this._debug(t,"error",a),vr(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),zr()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Hr(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<dr;if(this._debug(t,"session has".concat(r?"":" not"," expired with margin of ").concat(dr,"s")),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),Cr(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new $r;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new wr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),vr(a)){const e={session:null,error:a};return Cr(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Is){r.push(Is)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wr(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Vr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zr()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Is){console.error("removing visibilitychange callback failed",Is)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ur);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/ur);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(ur,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Is){console.error("Auto refresh tick failed with error. This is likely a transient error.",Is)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Is){if(!(Is.isAcquireTimeout||Is instanceof ba))throw Is;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zr()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Yr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await sa(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await sa(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(vr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:i}=await sa(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})})}catch(t){if(vr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?{data:null,error:a}:await sa(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(vr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),a=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:a}=e;if(a)return{data:null,error:a};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Kr(r.access_token);let i=null;s.aal&&(i=s.aal);let o=i;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:s.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await sa(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new Pr("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find(t=>t.kid===e),!t)throw new Pr("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=Kr(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,s,function(e){const t=[];return Ir(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new Pr("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(vr(n))return{data:null,error:n};throw n}}}ka.nextInstanceID=0;const Sa=ka;class Na extends Sa{constructor(e){super(e)}}var _a=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(Is){s(Is)}}function o(e){try{l(r.throw(e))}catch(Is){s(Is)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})};class Ca{constructor(e,t,n){var r,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(i);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>lr(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:tr,realtime:rr,auth:Object.assign(Object.assign({},nr),{storageKey:c}),global:er});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=or(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Jt(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new $t(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Xn(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return _a(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Na({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Tn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}console.log("Environment check:"),console.log("REACT_APP_SUPABASE_URL:","https://skdcvdrwxigiqgrcicrj.supabase.co"),console.log("REACT_APP_SUPABASE_ANON_KEY:","***SET***");const Ea="https://skdcvdrwxigiqgrcicrj.supabase.co",Pa="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrZGN2ZHJ3eGlnaXFncmNpY3JqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE2NjkxOTksImV4cCI6MjA2NzI0NTE5OX0.rTXg3T0dfGkO0vv5oDqtMGR5MyUSJKW7j0wXs-43cVY";const Ta=((e,t,n)=>new Ca(e,t,n))(Ea,Pa),Ba=e=>{var t;let{title:n,description:r,options:a,selected:s,onSelect:i}=e;return(0,Gt.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,Gt.jsxs)("div",{className:"mb-2",children:[(0,Gt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-0.5",children:n}),(0,Gt.jsx)("p",{className:"text-xs text-gray-600",children:r})]}),(0,Gt.jsx)("div",{className:"flex-1 grid grid-cols-2 gap-1.5",children:a.map(e=>{const t=e.icon,n=s===e.value;return(0,Gt.jsx)("button",{onClick:()=>i(e.value),className:"option-card p-1.5 rounded-md border-2 transition-all duration-200 text-left group hover:scale-102".concat(n?" selected":""),children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("div",{className:"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center transition-all duration-200 ".concat(n?"bg-brilliantBlue text-white shadow-md scale-110":"bg-platinumSilver text-charcoalGray hover:bg-softBlush"),children:t&&(0,Gt.jsx)(t,{className:"w-3 h-3"})}),(0,Gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gt.jsx)("h4",{className:"font-semibold text-charcoalGray text-xs truncate",children:e.label}),e.sublabel&&(0,Gt.jsx)("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:e.sublabel})]}),n&&(0,Gt.jsx)("div",{className:"flex-shrink-0",children:(0,Gt.jsx)("div",{className:"w-4 h-4 bg-brilliantBlue rounded-full flex items-center justify-center",children:(0,Gt.jsx)(Ot,{className:"w-2 h-2 text-white"})})})]})},e.value)})}),s&&(0,Gt.jsx)("div",{className:"mt-1 p-1 bg-diamondWhite border border-brilliantBlue rounded text-xs",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)(Ot,{className:"w-2 h-2 text-brilliantBlue mr-1"}),(0,Gt.jsxs)("span",{className:"text-brilliantBlue font-medium",children:[null===(t=a.find(e=>e.value===s))||void 0===t?void 0:t.label," selected"]})]})})]})},La=e=>(0,Gt.jsx)("svg",c(c({viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:(0,Gt.jsxs)("g",{children:[(0,Gt.jsx)("ellipse",{cx:"32",cy:"44",rx:"18",ry:"14",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,Gt.jsx)("ellipse",{cx:"32",cy:"44",rx:"12",ry:"8",stroke:"currentColor",strokeWidth:"2",fill:"none",opacity:"0.3"}),(0,Gt.jsx)("path",{d:"M32 30 L32 16",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),(0,Gt.jsx)("polygon",{points:"32,8 38,16 26,16",fill:"currentColor",opacity:"0.7"}),(0,Gt.jsx)("polygon",{points:"32,2 36,8 28,8",fill:"currentColor"}),(0,Gt.jsx)("circle",{cx:"32",cy:"16",r:"3",fill:"currentColor",opacity:"0.5"})]})})),Ra=()=>{var e,t,n,a;const{addToCart:s}=Bs(),[i,o]=(0,r.useState)(1),[l,u]=(0,r.useState)({metal:"",design:"",shape:"",carat:""}),[d,h]=(0,r.useState)(""),[f,m]=(0,r.useState)(Mt),[p,g]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),w=[{id:1,title:"Choose Design",icon:Ct},{id:2,title:"Choose Metal",icon:Et},{id:3,title:"Diamond Shape",icon:Pt},{id:4,title:"Carat Weight",icon:Tt}],j=[{value:"white-gold",label:"White Gold",icon:Et},{value:"yellow-gold",label:"Yellow Gold",icon:Et},{value:"rose-gold",label:"Rose Gold",icon:Et},{value:"platinum",label:"Platinum",icon:Et}],k=[{value:"classic-solitaire",label:"Classic Solitaire",icon:Bt},{value:"halo-setting",label:"Halo Setting",icon:Lt},{value:"vintage-antique",label:"Vintage/Antique",icon:Ct},{value:"three-stone",label:"Three Stone",icon:Tt}],S=[{value:"round",label:"Round Brilliant",icon:Bt},{value:"princess",label:"Princess Cut",icon:Rt},{value:"emerald",label:"Emerald Cut",icon:Rt},{value:"oval",label:"Oval Brilliant",icon:Bt}],N=[{value:"1.0",label:"1.0 Carat",icon:Pt},{value:"1.5",label:"1.5 Carat",icon:Pt},{value:"2.0",label:"2.0 Carat",icon:Pt},{value:"2.5",label:"2.5 Carat",icon:Pt}],_=["round","oval","princess","emerald"],C=async(e,t)=>{for(const n of _){const r="rings/".concat(e,"/").concat(t,"/").concat(n,"/1.0ct.png"),{data:a}=Ta.storage.from("ring-images").getPublicUrl(r);if(null!==a&&void 0!==a&&a.publicUrl){const e=new window.Image;if(await new Promise(t=>{e.onload=()=>t(!0),e.onerror=()=>t(!1),e.src=a.publicUrl}))return n}}return null},E=async()=>{const e=(()=>{const{design:e,metal:t,shape:n}=l;if(!e)return["rings/default/band.png"];const r=[];return e&&t&&n&&r.push("rings/".concat(e,"/").concat(t,"/").concat(n,"/1.0ct.png")),e&&t&&r.push("rings/".concat(e,"/").concat(t,"/band.png")),e&&r.push("rings/".concat(e,"/band.png")),r.push("rings/default/band.png"),r})();for(let t=0;t<e.length;t++){const n=e[t],{data:r}=Ta.storage.from("ring-images").getPublicUrl(n);if(null!==r&&void 0!==r&&r.publicUrl){const e=new window.Image;if(await new Promise(t=>{e.onload=()=>t(!0),e.onerror=()=>t(!1),e.src=r.publicUrl}))return h(r.publicUrl),void b(!1)}}h("/placeholder-ring.png"),b(!0)};(0,r.useEffect)(()=>{b(!1),E()},[l]),(0,r.useEffect)(()=>{var e,t,n,r;let a=Mt;l.metal&&(a+=(null===(e=It.metals.find(e=>e.id===l.metal))||void 0===e?void 0:e.price)||0),l.design&&(a+=(null===(t=It.designs.find(e=>e.id===l.design))||void 0===t?void 0:t.price)||0),l.shape&&(a+=(null===(n=It.shapes.find(e=>e.id===l.shape))||void 0===n?void 0:n.price)||0),l.carat&&(a+=(null===(r=It.carats.find(e=>e.id===l.carat))||void 0===r?void 0:r.price)||0),m(a)},[l]),(0,r.useEffect)(()=>{if(4===i&&l.metal&&l.design&&l.shape&&l.carat&&!v){g(!0);const e=setTimeout(()=>g(!1),3e3);return()=>clearTimeout(e)}},[i,l,v]);const P=async(e,t)=>{if("design"===e){let e="white-gold",n="round",r="1.0";const a=await C(t,e)||n;return u({design:t,metal:e,shape:a,carat:r}),void b(!1)}if("metal"===e){let e=l.design,n="round",r=l.carat||"1.0";const a=await C(e,t)||n;return u(e=>c(c({},e),{},{metal:t,shape:a,carat:r})),void b(!1)}u(n=>c(c({},n),{},{[e]:t})),b(!1)},T=!v&&(1===i&&l.design||2===i&&l.metal||3===i&&l.shape||4===i&&l.carat),B=(()=>{switch(i){case 1:return{options:k,selected:l.design,onSelect:e=>P("design",e)};case 2:return{options:j,selected:l.metal,onSelect:e=>P("metal",e)};case 3:return{options:S,selected:l.shape,onSelect:e=>P("shape",e)};case 4:return{options:N,selected:l.carat,onSelect:e=>P("carat",e)};default:return null}})();return(0,Gt.jsx)("div",{className:"min-h-screen bg-diamondWhite flex flex-col items-center overflow-x-hidden",children:(0,Gt.jsxs)("div",{className:"w-full max-w-xl px-2 sm:px-4 flex flex-col items-center",children:[(0,Gt.jsxs)("div",{className:"text-center mb-4",children:[(0,Gt.jsx)("h1",{className:"text-2xl font-bold text-navyBlue mb-2",style:{fontFamily:"Playfair Display, serif"},children:"Grown Lab Diamond"}),(0,Gt.jsx)("p",{className:"text-xs text-gray-600",children:"Start customizing your dream ring"})]}),(0,Gt.jsxs)("div",{className:"w-full flex flex-col items-center mb-1 relative",children:[(0,Gt.jsx)("div",{className:"w-full flex justify-center items-center",children:d&&!v?(0,Gt.jsx)("img",{src:d,alt:"Ring preview",className:"object-contain max-h-96 w-auto mx-auto bg-platinumSilver rounded-xl border-2 border-brilliantBlue/10",style:{maxWidth:"100%"},onError:()=>b(!0)}):v?(0,Gt.jsxs)("div",{className:"w-full max-h-96 flex flex-col items-center justify-center bg-red-50 rounded-lg border-2 border-dashed border-red-300 p-8",children:[(0,Gt.jsx)(La,{className:"w-16 h-16 text-red-300 mb-4"}),(0,Gt.jsx)("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:"Sorry, this ring preview is not available"}),(0,Gt.jsx)("p",{className:"text-sm text-red-500 text-center",children:"Please try a different combination to see your dream ring!"})]}):(0,Gt.jsxs)("div",{className:"w-full max-h-96 flex flex-col items-center justify-center bg-platinumSilver rounded-lg border-2 border-dashed border-brilliantBlue/10 p-8",children:[(0,Gt.jsx)(Pt,{className:"w-16 h-16 text-brilliantBlue mb-4"}),(0,Gt.jsx)("h3",{className:"text-lg font-semibold text-brilliantBlue mb-2",children:"Let's make your dream ring"}),(0,Gt.jsx)("p",{className:"text-sm text-charcoalGray text-center",children:"Start by choosing your metal type below"})]})}),p&&(0,Gt.jsx)("div",{className:"absolute top-0 left-0 right-0 flex justify-center pointer-events-none z-10",children:(0,Gt.jsx)("div",{className:"bg-champagneGold text-black px-3 py-2 rounded-b-lg shadow-lg text-sm font-medium animate-pulse mt-0",children:"You have excellent taste in jewelry \u2728"})}),x&&(0,Gt.jsx)("div",{className:"absolute top-0 left-0 right-0 flex justify-center pointer-events-none z-10",children:(0,Gt.jsx)("div",{className:"bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg text-sm font-medium animate-bounce mt-4",children:(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Ring added to cart! Redirecting..."]})})})]}),(0,Gt.jsxs)("div",{className:"w-full flex flex-col gap-0.5 items-center",children:[(0,Gt.jsx)("div",{className:"w-full text-[10px]",children:(0,Gt.jsx)(zt,{steps:w.map((e,t)=>t<i-1?{step:e.id,label:e.title.replace("Choose ",""),completed:!0,current:!1}:t===i-1?{step:e.id,label:e.title.replace("Choose ",""),completed:!1,current:!0}:{step:e.id,label:e.title.replace("Choose ",""),completed:!1,current:!1}),onStepClick:e=>o(e),tiny:!0})}),(0,Gt.jsxs)("div",{className:"w-full text-[10px] flex items-center gap-1",children:[i>1&&(0,Gt.jsxs)("button",{onClick:()=>o(i-1),className:"flex items-center px-1 py-0.5 text-[10px] bg-platinumSilver border border-brilliantBlue/20 rounded hover:bg-brilliantBlue/10 transition-all duration-150 mr-1","aria-label":"Previous step",children:[(0,Gt.jsx)(At,{className:"w-3 h-3 mr-0.5"})," Prev"]}),(0,Gt.jsx)("div",{className:"flex-1",children:B&&B.options&&(0,Gt.jsx)(Ba,{title:null,description:null,options:B.options,selected:B.selected,onSelect:B.onSelect})})]}),i<4&&(0,Gt.jsx)("button",{onClick:()=>T&&o(i+1),disabled:!T,className:"mt-1 px-3 py-1 rounded bg-champagneGold text-black text-xs font-semibold shadow-elegant ".concat(T?"hover:bg-brilliantBlue hover:text-white":"opacity-50 cursor-not-allowed"),children:"Next"}),(0,Gt.jsxs)("div",{className:"w-full text-[10px]",children:[(0,Gt.jsxs)("div",{className:"space-y-0.5",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between text-[10px]",children:[(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)(Ct,{className:"w-2.5 h-2.5 mr-1 text-champagneGold"}),(0,Gt.jsx)("span",{className:"text-charcoalGray",children:"Design:"})]}),(0,Gt.jsx)("span",{className:"font-medium text-brilliantBlue",children:l.design?null===(e=k.find(e=>e.value===l.design))||void 0===e?void 0:e.label:"Not selected"})]}),(0,Gt.jsxs)("div",{className:"flex items-center justify-between text-[10px]",children:[(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)(Et,{className:"w-2.5 h-2.5 mr-1 text-champagneGold"}),(0,Gt.jsx)("span",{className:"text-charcoalGray",children:"Metal:"})]}),(0,Gt.jsx)("span",{className:"font-medium text-brilliantBlue",children:l.metal?null===(t=j.find(e=>e.value===l.metal))||void 0===t?void 0:t.label:"Not selected"})]}),(0,Gt.jsxs)("div",{className:"flex items-center justify-between text-[10px]",children:[(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)(Pt,{className:"w-2.5 h-2.5 mr-1 text-brilliantBlue"}),(0,Gt.jsx)("span",{className:"text-charcoalGray",children:"Shape:"})]}),(0,Gt.jsx)("span",{className:"font-medium text-brilliantBlue",children:l.shape?null===(n=S.find(e=>e.value===l.shape))||void 0===n?void 0:n.label:"Not selected"})]}),(0,Gt.jsxs)("div",{className:"flex items-center justify-between text-[10px]",children:[(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)(Tt,{className:"w-2.5 h-2.5 mr-1 text-champagneGold"}),(0,Gt.jsx)("span",{className:"text-charcoalGray",children:"Carat:"})]}),(0,Gt.jsx)("span",{className:"font-medium text-brilliantBlue",children:l.carat?null===(a=N.find(e=>e.value===l.carat))||void 0===a?void 0:a.label:"Not selected"})]})]}),(0,Gt.jsxs)("div",{className:"w-full mt-0.5",children:[(0,Gt.jsxs)("button",{onClick:async()=>{if(l.metal&&l.design&&l.shape&&l.carat){var e,t,n;const{data:r,error:a}=await Ta.from("ring_images").select("*").eq("design",l.design).eq("metal",l.metal).eq("diamond_shape",l.shape).eq("carat",l.carat).single(),i=(null===(e=k.find(e=>e.value===l.design))||void 0===e?void 0:e.label)||l.design,o=(null===(t=j.find(e=>e.value===l.metal))||void 0===t?void 0:t.label)||l.metal,c=(null===(n=S.find(e=>e.value===l.shape))||void 0===n?void 0:n.label)||l.shape;let u;u=!a&&r?{id:r.id,name:"".concat(i," Ring"),design:l.design,designLabel:i,metal:l.metal,metalLabel:o,shape:l.shape,shapeLabel:c,carat:l.carat,price:f,qty:1,image:r.public_url||r.image_url||d||"/placeholder-ring.png"}:{id:"custom-".concat(Date.now()),name:"".concat(i," Ring (Custom)"),design:l.design,designLabel:i,metal:l.metal,metalLabel:o,shape:l.shape,shapeLabel:c,carat:l.carat,price:f,qty:1,image:d||"/placeholder-ring.png",isCustom:!0},s(u),y(!0),setTimeout(()=>y(!1),1e3)}else alert("Please complete all customization steps first")},disabled:!(l.metal&&l.design&&l.shape&&l.carat),className:"w-full flex items-center justify-center py-0.5 text-[10px] bg-gradient-to-r from-brilliantBlue to-champagneGold text-white rounded-md hover:from-champagneGold hover:to-brilliantBlue hover:text-black disabled:from-platinumSilver disabled:to-diamondWhite disabled:cursor-not-allowed font-semibold transition-all duration-200 shadow-elegant min-h-0",children:[(0,Gt.jsx)(Dt,{className:"w-2.5 h-2.5 mr-1"}),(0,Gt.jsx)("span",{children:x?"Added!":"Add to Cart"}),(0,Gt.jsxs)("span",{className:"ml-1 px-1 py-0.5 bg-brilliantBlue/10 rounded text-[10px] font-bold",children:["$",f.toLocaleString()]})]}),!(l.metal&&l.design&&l.shape&&l.carat)&&(0,Gt.jsx)("p",{className:"text-[10px] text-charcoalGray mt-0.5 text-center",children:"Complete all steps to add to cart"}),l.metal&&l.design&&l.shape&&l.carat&&(0,Gt.jsx)("div",{className:"text-center mt-1",children:(0,Gt.jsx)("p",{className:"text-[10px] text-brilliantBlue font-medium",children:"\u2728 Perfect choice! Your dream ring is ready \u2728"})})]})]})]})]})})},Oa=_t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Aa=_t("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Da=_t("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ia=_t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ma=_t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ga=_t("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),za=_t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fa=_t("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Ua=_t("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),qa=_t("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Wa=_t("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),Ha=_t("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Va=_t("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),$a=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(null),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[m,p]=(0,r.useState)([]),[g,v]=(0,r.useState)(""),[b,x]=(0,r.useState)({}),[y,w]=(0,r.useState)(""),[j,k]=(0,r.useState)(""),[S,N]=(0,r.useState)(""),[_,C]=(0,r.useState)(!0),[E,P]=(0,r.useState)(null),[T,B]=(0,r.useState)(!1),[L,R]=(0,r.useState)(null),[O,A]=(0,r.useState)(!1),[D,I]=(0,r.useState)({price_1_0ct:"",price_1_5ct:"",price_2_0ct:"",price_2_5ct:""}),[M,G]=(0,r.useState)([]),[z,F]=(0,r.useState)(!1),[U,q]=(0,r.useState)(!1),[W,H]=(0,r.useState)(null),[V,$]=(0,r.useState)({design:"",metal:"",shape:"",discount_percentage:"",start_date:"",end_date:"",description:"",is_active:!0}),[K,J]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)(null),[X,Z]=(0,r.useState)([]),[ee,te]=(0,r.useState)(!1),[ne,re]=(0,r.useState)(null),[ae,se]=(0,r.useState)([]),[ie,oe]=(0,r.useState)(!1),[le,ce]=(0,r.useState)("products"),[ue,de]=(0,r.useState)({}),[he,fe]=(0,r.useState)(""),[me,pe]=(0,r.useState)(null),[ge,ve]=(0,r.useState)(""),[be,xe]=(0,r.useState)(null),[ye,we]=(0,r.useState)(null),[je,ke]=(0,r.useState)(""),[Se,Ne]=(0,r.useState)(!1),_e=[{value:"classic-solitaire",label:"Classic Solitaire"},{value:"halo-setting",label:"Halo Setting"},{value:"vintage-antique",label:"Vintage/Antique Style"},{value:"three-stone",label:"Three Stone (Trinity)"}],Ce=[{value:"white-gold",label:"White Gold (14K/18K)"},{value:"yellow-gold",label:"Yellow Gold (14K/18K)"},{value:"rose-gold",label:"Rose Gold (14K/18K)"},{value:"platinum",label:"Platinum (950)"}],Ee=[{value:"round",label:"Round Brilliant Cut"},{value:"princess",label:"Princess Cut (Square)"},{value:"emerald",label:"Emerald Cut (Rectangular)"},{value:"oval",label:"Oval Brilliant Cut"}],Pe=async()=>{te(!0);try{const{data:e,error:t}=await Ta.from("orders").select("*").order("created_at",{ascending:!1});if(t)throw t;Z(e||[])}catch(e){v("Error fetching orders: "+e.message)}finally{te(!1)}},Te=async()=>{oe(!0);try{const{data:e,error:t}=await Ta.from("messages").select("*").order("created_at",{ascending:!1});if(t)throw t;se(e||[])}catch(e){v("Error fetching messages: "+e.message)}finally{oe(!1)}};(0,r.useEffect)(()=>{Pe(),Te(),Ae(),Be()},[]);const Be=async()=>{F(!0);try{const{data:e,error:t}=await Ta.from("product_discounts").select("*").order("created_at",{ascending:!1});if(t)throw t;G(e||[])}catch(e){v("Error fetching discounts: "+e.message)}finally{F(!1)}},Le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(H(e),$({design:e.design||"",metal:e.metal||"",shape:e.shape||"",discount_percentage:e.discount_percentage||"",start_date:e.start_date||"",end_date:e.end_date||"",description:e.description||"",is_active:!1!==e.is_active})):(H(null),$({design:"",metal:"",shape:"",discount_percentage:"",start_date:"",end_date:"",description:"",is_active:!0})),q(!0)},Re=async e=>{Y(e),J(!0)},Oe=async(e,t)=>{try{const{error:n}=await Ta.from("product_discounts").update({is_active:!t}).eq("id",e);if(n)throw n;v("\u2705 Discount status updated!"),Be()}catch(n){v("\u274c Error updating discount status: "+n.message)}},Ae=async()=>{try{C(!0);const{data:e,error:t}=await Ta.from("ring_images").select("*").order("metal",{ascending:!0}).order("design",{ascending:!0}).order("diamond_shape",{ascending:!0}).order("carat",{ascending:!0});if(t)throw t;p(e||[]),console.log("Updated uploadedImages:",e)}catch(e){console.error("Error fetching images:",e),v("Error fetching uploaded images: "+e.message)}finally{C(!1)}},De=e=>{var t;return(null===(t=Ce.find(t=>t.value===e))||void 0===t?void 0:t.label)||e},Ie=e=>{var t;return(null===(t=_e.find(t=>t.value===e))||void 0===t?void 0:t.label)||e},Me=e=>{var t;return(null===(t=Ee.find(t=>t.value===e))||void 0===t?void 0:t.label)||e},Ge=m.filter(e=>{var t,n,r,a;const s=!y||(null===(t=e.metal)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(n=e.design)||void 0===n?void 0:n.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.diamond_shape)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))||(null===(a=e.carat)||void 0===a?void 0:a.toString().includes(y)),i=!j||e.metal===j,o=!S||e.design===S;return s&&i&&o}),ze=Ge.reduce((e,t)=>{const n=t.metal||"unknown";return e[n]||(e[n]=[]),e[n].push(t),e},{});(0,r.useEffect)(()=>{(async()=>{if(!ne)return;const e=X.find(e=>e.id===ne);if(!e||!Array.isArray(e.items))return;const t=await async function(e){const t=e.filter(e=>e.product_id).map(e=>e.product_id);if(0===t.length)return{};const{data:n,error:r}=await Ta.from("ring_images").select("id, public_url, image_url, design, metal, diamond_shape, carat").in("id",t);if(r)return{};const a={};for(const s of n)a[s.id]=s;return a}(e.items);de(t)})()},[ne]);const Fe=async(e,t)=>{try{const{error:n}=await Ta.from("messages").update({status:t}).eq("id",e);if(n)throw n;ve("Message status updated!"),Te(),setTimeout(()=>ve(""),2e3)}catch(n){ve("Error updating message: "+n.message),setTimeout(()=>ve(""),3e3)}},Ue=async e=>{if(window.confirm("Are you sure you want to delete this message?")){we(e);try{const{error:t}=await Ta.from("messages").delete().eq("id",e);if(t)throw t;ve("Message deleted!"),Te(),setTimeout(()=>ve(""),2e3)}catch(t){ve("Error deleting message: "+t.message),setTimeout(()=>ve(""),3e3)}finally{we(null)}}};return(0,Gt.jsxs)("div",{className:"bg-diamondWhite min-h-screen py-10 px-2 font-sans",children:[(0,Gt.jsxs)("div",{className:"max-w-6xl mx-auto bg-platinumSilver rounded-2xl shadow-elegant border border-brilliantBlue/10 p-6 sm:p-10",children:[(0,Gt.jsx)("h2",{className:"font-serif font-extrabold text-3xl sm:text-4xl text-brilliantBlue mb-8 text-center tracking-tight",style:{fontFamily:"Playfair Display, serif"},children:"Admin Panel"}),(0,Gt.jsx)("div",{className:"flex justify-center space-x-12 mb-8 border-b border-brilliantBlue/30 bg-brilliantBlue/5 pt-2 pb-1 shadow-sm",children:[{key:"products",label:"Products"},{key:"discounts",label:"Discounts"},{key:"orders",label:"Orders"},{key:"messages",label:"Messages"},{key:"reviews",label:"Reviews"},{key:"settings",label:"Settings"}].map(e=>(0,Gt.jsxs)("button",{onClick:()=>ce(e.key),className:"relative px-2 pb-2 text-lg font-semibold transition focus:outline-none ".concat(le===e.key?"text-brilliantBlue":"text-champagneGold hover:text-brilliantBlue"),style:{fontFamily:"Playfair Display, serif",letterSpacing:"0.01em"},children:[e.label,le===e.key&&(0,Gt.jsx)("span",{className:"absolute left-0 right-0 -bottom-1 h-1 bg-gradient-to-r from-brilliantBlue to-champagneGold rounded-full",style:{boxShadow:"0 2px 8px #e0b97f33"}})]},e.key))}),"products"===le&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 mb-8 shadow-sm border border-brilliantBlue/10",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"text-3xl font-bold text-brilliantBlue",children:"Ring Image Management"}),(0,Gt.jsx)("p",{className:"text-champagneGold mt-1",children:"Upload and manage ring images for the customization system"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)(Oa,{className:"w-5 h-5 text-champagneGold"}),(0,Gt.jsx)("span",{className:"text-sm text-champagneGold",children:"Admin Panel"})]})]}),g&&(0,Gt.jsx)("div",{className:"p-3 rounded-md mb-4 ".concat(g.includes("\u2705")?"bg-green-50 border border-green-200 text-green-700":g.includes("\u274c")?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"),children:g})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 shadow-sm border border-brilliantBlue/10",id:"upload-section",children:[(0,Gt.jsxs)("h2",{className:"text-xl font-semibold text-brilliantBlue mb-4 flex items-center",children:[(0,Gt.jsx)(Aa,{className:"w-5 h-5 mr-2 text-brilliantBlue"}),"Upload New Image"]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("label",{className:"block text-sm font-medium text-champagneGold mb-2",children:["Design * ",(0,Gt.jsx)("span",{className:"text-red-500",children:"Required"})]}),(0,Gt.jsxs)("select",{value:n,onChange:e=>a(e.target.value),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"Select Design"}),_e.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-2",children:"Metal"}),(0,Gt.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"Select Metal (Optional)"}),Ce.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-2",children:"Diamond Shape"}),(0,Gt.jsxs)("select",{value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"Select Shape (Optional)"}),Ee.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("label",{className:"block text-sm font-medium text-champagneGold mb-2",children:["Image File * ",(0,Gt.jsx)("span",{className:"text-red-500",children:"Required"})]}),(0,Gt.jsx)("input",{id:"file-input",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(!t.type.startsWith("image/"))return void v("Please select an image file (PNG, JPG, etc.)");if(t.size>5242880)return void v("File size must be less than 5MB");l(t);const e=URL.createObjectURL(t);d(e),v("")}},className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue"}),(0,Gt.jsx)("p",{className:"text-xs text-champagneGold mt-1",children:"Supported formats: PNG, JPG, WebP. Max size: 5MB"})]}),u&&(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-2",children:"Preview"}),(0,Gt.jsx)("div",{className:"border border-brilliantBlue/30 rounded-md p-2",children:(0,Gt.jsx)("img",{src:u,alt:"Preview",className:"max-w-full h-32 object-contain mx-auto"})})]}),(0,Gt.jsx)("button",{onClick:async()=>{if(!o)return void v("Please select an image file");if(!n||!e||!s)return void v("Please select all required options (design, metal, shape)");let r="rings/".concat(n,"/").concat(e,"/").concat(s,"/").concat("1.0","ct.png");if(m.some(t=>t.design===n&&t.metal===e&&t.diamond_shape===s))v("An image for this combination already exists");else{f(!0),v("");try{const{error:c}=await Ta.storage.from("ring-images").upload(r,o,{cacheControl:"3600",upsert:!1});if(c)throw console.error("Storage upload error:",c),new Error("Storage error: ".concat(c.message));const{data:u}=Ta.storage.from("ring-images").getPublicUrl(r),{error:h}=await Ta.from("ring_images").insert({metal:e,design:n,diamond_shape:s,carat:parseFloat("1.0"),image_url:r,public_url:u.publicUrl});if(h)throw console.error("Database error:",h),new Error("Database error: ".concat(h.message));v("\u2705 Image uploaded successfully!"),l(null),d(""),t(""),a(""),i("");const f=document.getElementById("file-input");f&&(f.value=""),Ae()}catch(c){console.error("Upload error:",c),v("\u274c Error uploading image: "+c.message)}finally{f(!1)}}},disabled:h||!o||!n,className:"bg-brilliantBlue/10 text-brilliantBlue font-bold rounded-full px-6 py-2 shadow hover:from-champagneGold hover:to-brilliantBlue hover:text-black transition border border-brilliantBlue focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40",children:h?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Uploading..."]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)(Aa,{className:"w-4 h-4 mr-2"}),"Upload Image"]})})]})]}),(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 shadow-sm border border-brilliantBlue/10",children:[(0,Gt.jsxs)("h2",{className:"text-xl font-semibold text-brilliantBlue mb-4 flex items-center",children:[(0,Gt.jsx)(Da,{className:"w-5 h-5 mr-2 text-green-500"}),"Manage Images"]}),(0,Gt.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("div",{className:"flex-1",children:(0,Gt.jsx)("input",{type:"text",placeholder:"Search images...",value:y,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue"})}),(0,Gt.jsx)("button",{onClick:()=>{w(""),k(""),N("")},className:"px-3 py-2 text-sm text-champagneGold hover:text-brilliantBlue",children:"Clear"})]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsxs)("select",{value:j,onChange:e=>k(e.target.value),className:"flex-1 px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"All Metals"}),Ce.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,Gt.jsxs)("select",{value:S,onChange:e=>N(e.target.value),className:"flex-1 px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"All Designs"}),_e.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]})]}),(0,Gt.jsx)("div",{className:"max-h-96 overflow-y-auto",children:_?(0,Gt.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brilliantBlue"})}):0===Ge.length?(0,Gt.jsxs)("div",{className:"text-center py-8 text-champagneGold",children:[(0,Gt.jsx)(Da,{className:"w-12 h-12 mx-auto mb-2 text-champagneGold"}),(0,Gt.jsx)("p",{children:"No images found"})]}):(0,Gt.jsx)("div",{className:"space-y-2",children:Object.entries(ze).map(e=>{let[t,n]=e;return(0,Gt.jsxs)("div",{className:"border border-brilliantBlue/30 rounded-md",children:[(0,Gt.jsxs)("button",{onClick:()=>{return e=t,void x(t=>c(c({},t),{},{[e]:!t[e]}));var e},className:"w-full px-4 py-2 bg-brilliantBlue/5 hover:bg-brilliantBlue/10 flex items-center justify-between text-left",children:[(0,Gt.jsxs)("span",{className:"font-medium text-champagneGold",children:[De(t)," (",n.length," images)"]}),b[t]?(0,Gt.jsx)(Ia,{className:"w-4 h-4 text-champagneGold"}):(0,Gt.jsx)(Ma,{className:"w-4 h-4 text-champagneGold"})]}),b[t]&&(0,Gt.jsx)("div",{className:"p-4 space-y-2",children:n.map(e=>(0,Gt.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-brilliantBlue/20",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("img",{src:e.public_url,alt:"".concat(e.design," ").concat(e.metal," ").concat(e.diamond_shape),className:"w-12 h-12 object-cover rounded border border-brilliantBlue/20"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("div",{className:"font-medium text-brilliantBlue",children:Ie(e.design)}),(0,Gt.jsxs)("div",{className:"text-sm text-champagneGold",children:[Me(e.diamond_shape)," \u2022 ",e.carat,"ct"]})]})]}),(0,Gt.jsxs)("div",{className:"flex space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>window.open(e.public_url,"_blank"),className:"p-1 text-brilliantBlue hover:text-champagneGold",title:"View full size",children:(0,Gt.jsx)(Ga,{className:"w-4 h-4"})}),(0,Gt.jsx)("button",{onClick:()=>(async(e,t)=>{P({id:e,imageUrl:t}),B(!0)})(e.id,e.image_url),className:"p-1 text-red-500 hover:text-red-700",title:"Delete image",children:(0,Gt.jsx)(za,{className:"w-4 h-4"})})]})]},e.id))})]},t)})})})]})]})]}),"discounts"===le&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"bg-purple-50 rounded-xl p-6 mb-8 shadow-sm border border-purple-200",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"text-3xl font-bold text-purple-700",children:"Discount Management"}),(0,Gt.jsx)("p",{className:"text-purple-600 mt-1",children:"Create and manage product discounts for special promotions"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)(Fa,{className:"w-5 h-5 text-purple-600"}),(0,Gt.jsx)("span",{className:"text-sm text-purple-600",children:"Admin Panel"})]})]}),g&&(0,Gt.jsx)("div",{className:"p-3 rounded-md mb-4 ".concat(g.includes("\u2705")?"bg-green-50 border border-green-200 text-green-700":g.includes("\u274c")?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"),children:g}),(0,Gt.jsxs)("button",{onClick:()=>Le(),className:"bg-purple-600 text-white font-bold px-6 py-3 rounded-lg shadow-lg hover:bg-purple-700 transition-all duration-200 flex items-center",children:[(0,Gt.jsx)(Ua,{className:"w-5 h-5 mr-2"}),"Add New Discount"]})]}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:z?(0,Gt.jsxs)("div",{className:"col-span-full text-center py-8 text-purple-600",children:[(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-2"}),"Loading discounts..."]}):0===M.length?(0,Gt.jsxs)("div",{className:"col-span-full text-center py-8 text-purple-600",children:[(0,Gt.jsx)(Fa,{className:"w-12 h-12 mx-auto mb-2 text-purple-400"}),(0,Gt.jsx)("p",{children:"No discounts found. Create your first discount!"})]}):M.map(e=>(0,Gt.jsxs)("div",{className:"border rounded-lg p-4 flex flex-col ".concat(e.is_active?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Gt.jsx)("div",{className:"font-semibold text-purple-700",children:Ie(e.design)}),(0,Gt.jsx)("div",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:e.is_active?"Active":"Inactive"})]}),(0,Gt.jsx)("div",{className:"text-sm text-purple-600 mb-1",children:De(e.metal)}),(0,Gt.jsx)("div",{className:"text-sm text-purple-600 mb-2",children:Me(e.shape)}),(0,Gt.jsxs)("div",{className:"text-lg font-bold text-purple-700 mb-2",children:[e.discount_percentage,"% OFF"]}),(0,Gt.jsxs)("div",{className:"text-xs text-gray-600 mb-2",children:[(0,Gt.jsxs)("div",{children:["Start: ",new Date(e.start_date).toLocaleDateString()]}),(0,Gt.jsxs)("div",{children:["End: ",e.end_date?new Date(e.end_date).toLocaleDateString():"No end date"]})]}),e.description&&(0,Gt.jsx)("div",{className:"text-xs text-gray-600 mb-3 italic",children:e.description}),(0,Gt.jsxs)("div",{className:"flex space-x-2 mt-auto",children:[(0,Gt.jsxs)("button",{onClick:()=>Le(e),className:"bg-purple-600 text-white font-bold px-3 py-1 rounded hover:bg-purple-700 transition text-xs flex-1",children:[(0,Gt.jsx)(qa,{className:"w-3 h-3 inline mr-1"}),"Edit"]}),(0,Gt.jsx)("button",{onClick:()=>Oe(e.id,e.is_active),className:"font-bold px-3 py-1 rounded transition text-xs flex-1 ".concat(e.is_active?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"),children:e.is_active?"Deactivate":"Activate"}),(0,Gt.jsx)("button",{onClick:()=>Re(e.id),className:"bg-red-600 text-white font-bold px-3 py-1 rounded hover:bg-red-700 transition text-xs",children:(0,Gt.jsx)(za,{className:"w-3 h-3"})})]})]},e.id))})]}),"orders"===le&&(0,Gt.jsxs)("div",{className:"mt-8",children:[(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 mb-8 shadow-sm border border-brilliantBlue/10",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"text-3xl font-bold text-brilliantBlue",children:"Order Management"}),(0,Gt.jsx)("p",{className:"text-champagneGold mt-1",children:"View and manage customer orders"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)(Oa,{className:"w-5 h-5 text-champagneGold"}),(0,Gt.jsx)("span",{className:"text-sm text-champagneGold",children:"Admin Panel"})]})]}),g&&(0,Gt.jsx)("div",{className:"p-3 rounded-md mb-4 ".concat(g.includes("\u2705")?"bg-green-50 border border-green-200 text-green-700":g.includes("\u274c")?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"),children:g}),he&&(0,Gt.jsx)("div",{className:"p-3 rounded-md mb-4 bg-blue-50 border border-blue-200 text-blue-700",children:he})]}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full text-left border-collapse font-sans text-[15px]",children:[(0,Gt.jsx)("thead",{children:(0,Gt.jsxs)("tr",{className:"text-champagneGold font-bold text-base border-b border-brilliantBlue/40",children:[(0,Gt.jsx)("th",{className:"py-2 px-3",children:"ID"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Date"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Customer"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Status"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Total"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Details"})]})}),(0,Gt.jsx)("tbody",{children:ee?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:6,className:"py-8 text-center text-champagneGold",children:"Loading orders..."})}):0===X.length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:6,className:"py-8 text-center text-champagneGold",children:"No orders found."})}):X.map(e=>{var t,n;return(0,Gt.jsxs)(r.Fragment,{children:[(0,Gt.jsxs)("tr",{className:"border-t border-brilliantBlue/10 hover:bg-brilliantBlue/10 transition",children:[(0,Gt.jsxs)("td",{className:"py-2 px-3 font-mono text-brilliantBlue",children:[e.id.slice(0,8),"..."]}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue",children:new Date(e.created_at).toLocaleDateString()}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue",children:(null===(t=e.shipping_address)||void 0===t?void 0:t.email)||e.user_id}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue",children:(0,Gt.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{const{error:n}=await Ta.from("orders").update({status:t}).eq("id",e);if(n)throw n;fe("Order status updated!"),Pe(),setTimeout(()=>fe(""),2e3)}catch(n){fe("Error updating order status: "+n.message),setTimeout(()=>fe(""),3e3)}})(e.id,t.target.value),className:"rounded border border-brilliantBlue/30 px-2 py-1 bg-white text-brilliantBlue focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40",style:{minWidth:100},children:[(0,Gt.jsx)("option",{value:"pending",children:"Pending"}),(0,Gt.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Gt.jsx)("option",{value:"completed",children:"Completed"}),(0,Gt.jsx)("option",{value:"cancelled",children:"Cancelled"})]})}),(0,Gt.jsxs)("td",{className:"py-2 px-3 text-brilliantBlue",children:["$",null===(n=e.total)||void 0===n?void 0:n.toLocaleString()]}),(0,Gt.jsxs)("td",{className:"py-2 px-3",children:[(0,Gt.jsx)("button",{onClick:()=>re(ne===e.id?null:e.id),className:"text-brilliantBlue underline text-sm",children:ne===e.id?"Hide":"View"}),(0,Gt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this order? This cannot be undone.")){pe(e);try{const{error:t}=await Ta.from("orders").delete().eq("id",e);if(t)throw t;fe("Order deleted!"),Pe(),setTimeout(()=>fe(""),2e3)}catch(t){fe("Error deleting order: "+t.message),setTimeout(()=>fe(""),3e3)}finally{pe(null)}}})(e.id),className:"text-red-600 hover:text-red-800 font-bold px-2 py-1 rounded border border-red-200 bg-red-50 hover:bg-red-100 transition disabled:opacity-50",disabled:me===e.id,children:me===e.id?"Deleting...":"Delete"})]})]}),ne===e.id&&(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:6,className:"bg-brilliantBlue/5 p-4",children:(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("strong",{children:"Items:"}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:Array.isArray(e.items)?e.items.map((e,t)=>{const n=e.product_id?ue[e.product_id]:null,r=(null===n||void 0===n?void 0:n.public_url)||(null===n||void 0===n?void 0:n.image_url)||"/placeholder-ring.png";return(0,Gt.jsxs)("div",{className:"flex items-center bg-white rounded-xl shadow border border-brilliantBlue/20 p-3 gap-4",children:[(0,Gt.jsx)("img",{src:r,alt:e.product,className:"w-16 h-16 rounded shadow border border-brilliantBlue/20 object-cover bg-gray-50",onError:e=>{e.target.src="/placeholder-ring.png"}}),(0,Gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gt.jsx)("div",{className:"font-semibold text-brilliantBlue truncate",children:e.product}),(0,Gt.jsxs)("div",{className:"text-champagneGold text-sm",children:["Qty: ",e.qty," \u2022 $",e.price]}),n&&(0,Gt.jsxs)("div",{className:"text-xs text-champagneGold mt-1",children:[n.design," \u2022 ",n.metal," \u2022 ",n.diamond_shape," \u2022 ",n.carat,"ct"]})]})]},t)}):(0,Gt.jsx)("div",{children:"-"})}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("strong",{children:"Shipping Address:"}),(0,Gt.jsx)("div",{className:"ml-4 text-sm",children:e.shipping_address?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{children:[e.shipping_address.firstName," ",e.shipping_address.lastName]}),(0,Gt.jsx)("div",{children:e.shipping_address.address}),(0,Gt.jsxs)("div",{children:[e.shipping_address.city,", ",e.shipping_address.state," ",e.shipping_address.postalCode]}),(0,Gt.jsx)("div",{children:e.shipping_address.country}),(0,Gt.jsx)("div",{children:e.shipping_address.phone})]}):"N/A"})]}),(0,Gt.jsxs)("div",{className:"mt-2",children:[(0,Gt.jsx)("strong",{children:"Payment Info:"}),(0,Gt.jsx)("div",{className:"ml-4 text-sm",children:e.payment_info?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{children:["Card: **** **** **** ",e.payment_info.cardLast4]}),(0,Gt.jsxs)("div",{children:["Type: ",e.payment_info.cardType]})]}):"N/A"})]})]})})})]},e.id)})})]})})]}),"messages"===le&&(0,Gt.jsxs)("div",{className:"mt-8",children:[(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 mb-8 shadow-sm border border-brilliantBlue/10",children:[(0,Gt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h1",{className:"text-3xl font-bold text-brilliantBlue",children:"Message Management"}),(0,Gt.jsx)("p",{className:"text-champagneGold mt-1",children:"View and manage customer messages"})]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)(Oa,{className:"w-5 h-5 text-champagneGold"}),(0,Gt.jsx)("span",{className:"text-sm text-champagneGold",children:"Admin Panel"})]})]}),g&&(0,Gt.jsx)("div",{className:"p-3 rounded-md mb-4 ".concat(g.includes("\u2705")?"bg-green-50 border border-green-200 text-green-700":g.includes("\u274c")?"bg-red-50 border border-red-200 text-red-700":"bg-blue-50 border border-blue-200 text-blue-700"),children:g}),ge&&(0,Gt.jsx)("div",{className:"p-3 rounded-md mb-4 bg-blue-50 border border-blue-200 text-blue-700",children:ge})]}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full text-left border-collapse font-sans text-[15px]",children:[(0,Gt.jsx)("thead",{children:(0,Gt.jsxs)("tr",{className:"text-champagneGold font-bold text-base border-b border-brilliantBlue/40",children:[(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Name"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Email"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Date"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Message"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Status"})]})}),(0,Gt.jsx)("tbody",{children:ie?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:5,className:"py-8 text-center text-champagneGold",children:"Loading messages..."})}):0===ae.length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:5,className:"py-8 text-center text-champagneGold",children:"No messages found."})}):ae.map(e=>(0,Gt.jsxs)("tr",{className:"border-t border-brilliantBlue/10 hover:bg-brilliantBlue/10 transition",children:[(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue",children:e.name}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue",children:e.email}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue",children:new Date(e.created_at).toLocaleDateString()}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-brilliantBlue max-w-xs truncate",title:e.message,children:e.message}),(0,Gt.jsxs)("td",{className:"py-2 px-3 text-brilliantBlue",children:[(0,Gt.jsx)("button",{onClick:()=>xe(e),className:"text-brilliantBlue underline text-sm mr-2",children:"View"}),(0,Gt.jsx)("button",{onClick:()=>Fe(e.id,"read"),className:"text-green-700 hover:text-green-900 font-bold px-2 py-1 rounded border border-green-200 bg-green-50 hover:bg-green-100 transition mr-1",disabled:"read"===e.status||"responded"===e.status,children:"Mark as Read"}),(0,Gt.jsx)("button",{onClick:()=>Fe(e.id,"responded"),className:"text-yellow-700 hover:text-yellow-900 font-bold px-2 py-1 rounded border border-yellow-200 bg-yellow-50 hover:bg-yellow-100 transition mr-1",disabled:"responded"===e.status,children:"Mark as Responded"}),(0,Gt.jsx)("button",{onClick:()=>Ue(e.id),className:"text-red-600 hover:text-red-800 font-bold px-2 py-1 rounded border border-red-200 bg-red-50 hover:bg-red-100 transition disabled:opacity-50",disabled:ye===e.id,children:ye===e.id?"Deleting...":"Delete"})]})]},e.id))})]})})]}),"reviews"===le&&(0,Gt.jsxs)("div",{className:"mt-8 text-center text-champagneGold text-lg",children:[(0,Gt.jsx)(Wa,{className:"mx-auto mb-2 text-yellow-400"}),(0,Gt.jsx)("p",{children:"Reviews management coming soon!"})]}),"settings"===le&&(0,Gt.jsxs)("div",{className:"mt-8 text-center text-champagneGold text-lg",children:[(0,Gt.jsx)(Oa,{className:"mx-auto mb-2 text-champagneGold"}),(0,Gt.jsx)("p",{children:"Settings panel coming soon!"})]})]}),T&&(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,Gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,Gt.jsxs)("h3",{className:"text-lg font-semibold mb-2 text-brilliantBlue flex items-center",children:[(0,Gt.jsx)(Ha,{className:"w-5 h-5 text-red-500 mr-2"}),"Confirm Deletion"]}),(0,Gt.jsx)("p",{className:"text-champagneGold mb-4",children:"Are you sure you want to delete this image? This action cannot be undone."}),(0,Gt.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Gt.jsx)("button",{onClick:()=>{B(!1),P(null)},className:"px-4 py-2 rounded bg-gray-200 text-champagneGold hover:bg-gray-300",children:"Cancel"}),(0,Gt.jsx)("button",{onClick:async()=>{if(E)try{console.log("Attempting to delete from storage:",E.imageUrl);const{error:e}=await Ta.storage.from("ring-images").remove([E.imageUrl]);if(e)throw console.error("Storage deletion error:",e),e;const{error:t}=await Ta.from("ring_images").delete().eq("id",E.id);if(t)throw t;v("\u2705 Image deleted successfully!"),d(""),l(null),Ae()}catch(e){console.error("Delete error:",e),v("\u274c Error deleting image: "+e.message)}finally{B(!1),P(null)}},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),O&&L&&(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,Gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[(0,Gt.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-brilliantBlue flex items-center",children:[(0,Gt.jsx)(Va,{className:"w-5 h-5 text-green-500 mr-2"}),"Edit Prices - ",Ie(L.design)]}),(0,Gt.jsx)("p",{className:"text-sm text-champagneGold mb-4",children:"These prices apply to all metals and shapes for this design."}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"1.0 Carat Price"}),(0,Gt.jsx)("input",{type:"number",value:D.price_1_0ct,onChange:e=>I(t=>c(c({},t),{},{price_1_0ct:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"5000.00",min:"0",step:"0.01"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"1.5 Carat Price"}),(0,Gt.jsx)("input",{type:"number",value:D.price_1_5ct,onChange:e=>I(t=>c(c({},t),{},{price_1_5ct:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"7500.00",min:"0",step:"0.01"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"2.0 Carat Price"}),(0,Gt.jsx)("input",{type:"number",value:D.price_2_0ct,onChange:e=>I(t=>c(c({},t),{},{price_2_0ct:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"10000.00",min:"0",step:"0.01"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"2.5 Carat Price"}),(0,Gt.jsx)("input",{type:"number",value:D.price_2_5ct,onChange:e=>I(t=>c(c({},t),{},{price_2_5ct:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"12500.00",min:"0",step:"0.01"})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,Gt.jsx)("button",{onClick:()=>{A(!1),R(null),I({price_1_0ct:"",price_1_5ct:"",price_2_0ct:"",price_2_5ct:""})},className:"px-4 py-2 rounded bg-gray-200 text-champagneGold hover:bg-gray-300",children:"Cancel"}),(0,Gt.jsx)("button",{onClick:async()=>{if(L)try{const{error:e}=await Ta.from("ring_pricing").upsert({design:L.design,price_1_0ct:parseFloat(D.price_1_0ct)||0,price_1_5ct:parseFloat(D.price_1_5ct)||0,price_2_0ct:parseFloat(D.price_2_0ct)||0,price_2_5ct:parseFloat(D.price_2_5ct)||0});if(e)throw e;v("\u2705 Prices updated successfully!"),A(!1),R(null)}catch(e){console.error("Error updating prices:",e),v("\u274c Error updating prices: "+e.message)}},className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700",children:"Update Prices"})]})]})}),U&&(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,Gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full",children:[(0,Gt.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-brilliantBlue flex items-center",children:[(0,Gt.jsx)(Fa,{className:"w-5 h-5 text-purple-500 mr-2"}),W?"Edit Discount":"New Discount"]}),(0,Gt.jsxs)("div",{className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"Design"}),(0,Gt.jsxs)("select",{value:V.design,onChange:e=>$(t=>c(c({},t),{},{design:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"Select Design"}),_e.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"Metal"}),(0,Gt.jsxs)("select",{value:V.metal,onChange:e=>$(t=>c(c({},t),{},{metal:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"Select Metal"}),Ce.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"Diamond Shape"}),(0,Gt.jsxs)("select",{value:V.shape,onChange:e=>$(t=>c(c({},t),{},{shape:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-brilliantBlue",children:[(0,Gt.jsx)("option",{value:"",children:"Select Shape"}),Ee.map(e=>(0,Gt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"Discount Percentage (%)"}),(0,Gt.jsx)("input",{type:"number",value:V.discount_percentage,onChange:e=>$(t=>c(c({},t),{},{discount_percentage:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"10",min:"0",max:"100",step:"0.1"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"Start Date"}),(0,Gt.jsx)("input",{type:"date",value:V.start_date,onChange:e=>$(t=>c(c({},t),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"End Date"}),(0,Gt.jsx)("input",{type:"date",value:V.end_date,onChange:e=>$(t=>c(c({},t),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-champagneGold mb-1",children:"Description"}),(0,Gt.jsx)("textarea",{value:V.description,onChange:e=>$(t=>c(c({},t),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-brilliantBlue/30 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",rows:"3",placeholder:"Discount details or notes"})]}),(0,Gt.jsxs)("div",{className:"flex items-center",children:[(0,Gt.jsx)("input",{type:"checkbox",id:"is_active",checked:V.is_active,onChange:e=>$(t=>c(c({},t),{},{is_active:e.target.checked})),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,Gt.jsx)("label",{htmlFor:"is_active",className:"ml-2 text-sm text-champagneGold",children:"Active"})]})]}),(0,Gt.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,Gt.jsx)("button",{onClick:()=>{q(!1),H(null)},className:"px-4 py-2 rounded bg-gray-200 text-champagneGold hover:bg-gray-300",children:"Cancel"}),(0,Gt.jsx)("button",{onClick:async()=>{try{const e={design:V.design,metal:V.metal,shape:V.shape,discount_percentage:parseFloat(V.discount_percentage),start_date:V.start_date,end_date:V.end_date,description:V.description,is_active:V.is_active};if(W){const{error:t}=await Ta.from("product_discounts").update(e).eq("id",W.id);if(t)throw t;v("\u2705 Discount updated successfully!")}else{const{error:t}=await Ta.from("product_discounts").insert(e);if(t)throw t;v("\u2705 Discount created successfully!")}q(!1),Be()}catch(e){v("\u274c Error saving discount: "+e.message)}},className:"px-4 py-2 rounded bg-purple-600 text-white hover:bg-purple-700",children:W?"Update Discount":"Create Discount"})]})]})}),K&&Q&&(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:(0,Gt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full",children:[(0,Gt.jsxs)("h3",{className:"text-lg font-semibold mb-2 text-red-500 flex items-center",children:[(0,Gt.jsx)(Ha,{className:"w-5 h-5 text-red-500 mr-2"}),"Confirm Deletion"]}),(0,Gt.jsx)("p",{className:"text-champagneGold mb-4",children:"Are you sure you want to delete this discount? This action cannot be undone."}),(0,Gt.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Gt.jsx)("button",{onClick:()=>J(!1),className:"px-4 py-2 rounded bg-gray-200 text-champagneGold hover:bg-gray-300",children:"Cancel"}),(0,Gt.jsx)("button",{onClick:async()=>{if(Q)try{const{error:e}=await Ta.from("product_discounts").delete().eq("id",Q);if(e)throw e;v("\u2705 Discount deleted successfully!"),Be()}catch(e){v("\u274c Error deleting discount: "+e.message)}finally{J(!1),Y(null)}},className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700",children:"Delete"})]})]})}),(0,Gt.jsxs)("div",{className:"mt-12",children:[(0,Gt.jsxs)("h2",{className:"text-xl font-bold mb-4 text-purple-700",children:["Discounts (",M.length,")"]}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:z?(0,Gt.jsx)("div",{className:"text-center py-8 text-champagneGold",children:"Loading discounts..."}):0===M.length?(0,Gt.jsx)("div",{className:"text-center py-8 text-champagneGold",children:"No discounts found."}):M.map(e=>(0,Gt.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex flex-col items-center",children:[(0,Gt.jsx)("div",{className:"font-semibold mb-2",children:Ie(e.design)}),(0,Gt.jsx)("div",{className:"mb-1",children:De(e.metal)}),(0,Gt.jsx)("div",{className:"mb-1",children:Me(e.shape)}),(0,Gt.jsxs)("div",{className:"text-xs text-purple-600 font-medium",children:["Discount: ",e.discount_percentage,"%"]}),(0,Gt.jsxs)("div",{className:"text-xs text-champagneGold mt-1",children:["Start: ",new Date(e.start_date).toLocaleDateString()," | End: ",e.end_date?new Date(e.end_date).toLocaleDateString():"N/A"]}),(0,Gt.jsxs)("div",{className:"text-xs text-champagneGold mt-1",children:["Status: ",e.is_active?"Active":"Inactive"]}),(0,Gt.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,Gt.jsxs)("button",{onClick:()=>Le(e),className:"bg-purple-600 text-white font-bold px-3 py-1 rounded hover:bg-purple-700 transition text-xs",children:[(0,Gt.jsx)(qa,{className:"w-3 h-3 inline mr-1"}),"Edit"]}),(0,Gt.jsxs)("button",{onClick:()=>Re(e.id),className:"bg-red-600 text-white font-bold px-3 py-1 rounded hover:bg-red-700 transition text-xs",children:[(0,Gt.jsx)(za,{className:"w-3 h-3 inline mr-1"}),"Delete"]}),(0,Gt.jsx)("button",{onClick:()=>Oe(e.id,e.is_active),className:"bg-purple-600 text-white font-bold px-3 py-1 rounded hover:bg-purple-700 transition text-xs",children:e.is_active?"Deactivate":"Activate"})]})]},e.id))})]}),be&&(0,Gt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:(0,Gt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-lg w-full relative",children:[(0,Gt.jsx)("button",{onClick:()=>xe(null),className:"absolute top-2 right-2 text-champagneGold hover:text-black text-xl font-bold","aria-label":"Close",children:"\xd7"}),(0,Gt.jsxs)("h3",{className:"text-xl font-bold mb-2 text-brilliantBlue",children:["Message from ",be.name]}),(0,Gt.jsxs)("div",{className:"mb-2 text-champagneGold",children:[(0,Gt.jsx)("strong",{children:"Email:"})," ",be.email]}),(0,Gt.jsxs)("div",{className:"mb-2 text-champagneGold",children:[(0,Gt.jsx)("strong",{children:"Date:"})," ",new Date(be.created_at).toLocaleString()]}),(0,Gt.jsxs)("div",{className:"mb-4 text-brilliantBlue whitespace-pre-line",children:[(0,Gt.jsx)("strong",{children:"Message:"}),(0,Gt.jsx)("br",{}),be.message]}),be.reply?(0,Gt.jsxs)("div",{className:"mb-4 p-3 bg-brilliantBlue/10 rounded border border-brilliantBlue/20",children:[(0,Gt.jsx)("div",{className:"font-bold text-brilliantBlue mb-1",children:"Your Reply:"}),(0,Gt.jsx)("div",{className:"text-champagneGold whitespace-pre-line",children:be.reply}),(0,Gt.jsxs)("div",{className:"text-xs text-champagneGold mt-1",children:["Sent: ",be.replied_at?new Date(be.replied_at).toLocaleString():""]})]}):(0,Gt.jsxs)("div",{className:"mb-4",children:[(0,Gt.jsx)("textarea",{className:"w-full border border-brilliantBlue/30 rounded p-2 min-h-[80px] focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40",placeholder:"Type your reply here...",value:je,onChange:e=>ke(e.target.value),disabled:Se}),(0,Gt.jsx)("button",{onClick:async()=>{if(je.trim()&&be){Ne(!0);try{const{error:e}=await Ta.from("messages").update({reply:je,replied_at:(new Date).toISOString(),status:"responded"}).eq("id",be.id);if(e)throw e;ve("Reply sent and saved!"),xe(c(c({},be),{},{reply:je,replied_at:(new Date).toISOString(),status:"responded"})),ke(""),Te(),setTimeout(()=>ve(""),2e3)}catch(e){ve("Error sending reply: "+e.message),setTimeout(()=>ve(""),3e3)}finally{Ne(!1)}}},className:"mt-2 bg-brilliantBlue text-champagneGold px-4 py-2 rounded font-bold hover:bg-champagneGold disabled:opacity-50",disabled:Se||!je.trim(),children:Se?"Sending...":"Send Reply"})]}),(0,Gt.jsxs)("div",{className:"flex gap-2",children:[(0,Gt.jsx)("button",{onClick:()=>{Fe(be.id,"read"),xe(null)},className:"bg-green-600 text-white px-4 py-2 rounded font-bold hover:bg-green-700",disabled:"read"===be.status||"responded"===be.status,children:"Mark as Read"}),(0,Gt.jsx)("button",{onClick:()=>{Fe(be.id,"responded"),xe(null)},className:"bg-yellow-500 text-champagneGold px-4 py-2 rounded font-bold hover:bg-yellow-600",disabled:"responded"===be.status,children:"Mark as Responded"}),(0,Gt.jsx)("button",{onClick:()=>{Ue(be.id),xe(null)},className:"bg-red-600 text-white px-4 py-2 rounded font-bold hover:bg-red-700",children:"Delete"})]})]})})]})},Ka=(0,r.createContext)(),Ja=()=>{const e=(0,r.useContext)(Ka);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},Qa={en:{home:"Home",shop:"Shop",customize:"Customize",wishlist:"Wishlist",login:"Login / Sign Up",account:"Account",cart:"Cart",viewDetails:"View Details",addToCart:"Add to Cart",chooseMetal:"Choose Metal",caratWeight:"Carat weight",engagementRings:"Engagement Rings",labGrownDiamonds:"Lab-Grown Diamonds",diamondRing:"Diamond Ring",carat:"ct",metal:"Metal",shape:"Shape",loading:"Loading...",error:"Error",added:"Added!",priceOnRequest:"Price on request",off:"OFF",clearFilters:"Clear Filters",sortByPrice:"Sort by Price",sortByDate:"Sort by Date",priceLowHigh:"Price: Low to High",priceHighLow:"Price: High to Low",latest:"Latest",oldest:"Oldest",showDiscountedOnly:"Show Discounted Only",noProductsFound:"No products found for selected filters.",viewAllProducts:"View All Products",contact:"Contact",about:"About",privacy:"Privacy Policy",terms:"Terms of Service",newsletter:"Newsletter",subscribe:"Subscribe",yourEmail:"Your email",allRightsReserved:"All rights reserved.",exquisiteLabGrown:"Exquisite lab-grown diamond rings for life's most precious moments.",links:"Links",bestsellers:"Bestsellers",ourStory:"Our Story",testimonials:"What Our Customers Say",whyChooseLabGrown:"Why Choose Lab-Grown Diamonds?",readyToDiscover:"Ready to discover sustainable luxury?",shopOurCollection:"Shop Our Collection",signUpSave:"Sign Up & Save",startDesigning:"Start Designing",customRingDesign:"Custom Ring Design",celebrateLove:"Celebrate your unique love story.",labGrownDiamondsBrilliant:"Lab-Grown Diamonds: 30% More Brilliant",specialOffers:"Special Offers",upTo50Off:"Up to 50% off on selected engagement rings",customDesignDiscount:"15% off when you design your own ring",freeShipping:"Free Shipping",onAllOrdersOver500:"On all orders over $500",lifetimeWarranty:"Lifetime Warranty",onAllLabGrownDiamonds:"On all lab-grown diamonds",thirtyDayReturns:"30-Day Returns",noQuestionsAsked:"No questions asked",sustainableJewelry:"Grown Lab Diamond is at the forefront of the sustainable jewelry revolution.",sustainableDescription:"We specialize in creating stunning lab-grown diamonds that offer the same brilliance, clarity, and beauty as mined diamonds, but with a clear conscience and a smaller environmental footprint.",ourMission:"Our mission is to provide ethically conscious consumers with access to luxury jewelry that doesn't compromise on quality or style.",perfectHarmony:"Every piece in our collection represents the perfect harmony of cutting-edge technology and timeless elegance.",customerTestimonial1:'"The lab-grown diamond is absolutely stunning and knowing it\'s ethical makes it even more special!"',customerTestimonial2:'"Incredible quality and the custom design process was seamless. Love that it\'s sustainable!"',danielS:"\u2013 Daniel S.",sarahL:"\u2013 Sarah L.",noDiscountedProducts:"No discounted products available at the moment.",loadingBestsellers:"Loading bestsellers...",address:"Address",phone:"Phone",email:"Email",businessHours:"Business Hours",diamondAvenue:"123 Diamond Avenue",globalHeadquarters:"Global Headquarters",contactInfo:"Contact Info",contactUs:"Contact Us",contactInformation:"Contact Information",name:"Name",yourName:"Your Name",message:"Message",howCanWeHelp:"How can we help you?",sendMessage:"Send Message",sending:"Sending...",messageSent:"Message sent! We will get back to you soon.",errorSendingMessage:"Error sending message. Please try again.",leadingProvider:"Leading provider of ethically grown diamonds and sustainable luxury jewelry.",sku:"SKU",natural:"Natural",homeBreadcrumb:"Home",engagementRingsBreadcrumb:"ENGAGEMENT RINGS",quantity:"Quantity",total:"Total",checkout:"Checkout",continueShopping:"Continue Shopping",remove:"Remove",emptyCart:"Your cart is empty",proceedToCheckout:"Proceed to Checkout",orderSummary:"Order Summary",subtotal:"Subtotal",shipping:"Shipping",tax:"Tax",items:"items",each:"each",signIn:"Sign In",signUp:"Sign Up",emailAddress:"Email Address",password:"Password",confirmPassword:"Confirm Password",forgotPassword:"Forgot Password?",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",createAccount:"Create Account",loggingIn:"Logging in...",signingUp:"Signing up...",loadingCheckout:"Loading checkout...",secureCheckout:"Secure Checkout",adminPanel:"Admin Panel",adminLogin:"Admin Login",accessDenied:"Access denied",ringCustomizer:"Ring Customizer",selectDesign:"Select Design",selectMetal:"Select Metal",selectShape:"Select Shape",selectCarat:"Select Carat",preview:"Preview",myWishlist:"My Wishlist",moveToCart:"Move to Cart",removeFromWishlist:"Remove from Wishlist",wishlistEmpty:"Your wishlist is empty",addedToCart:"Added to cart!",myAccount:"My Account",profile:"Profile",orders:"Orders",settings:"Settings",logout:"Logout",whiteGold:"White Gold",yellowGold:"Yellow Gold",roseGold:"Rose Gold",platinum:"Platinum",round:"Round",princess:"Princess",emerald:"Emerald",oval:"Oval",square:"Square",classicSolitaire:"Classic Solitaire",haloSetting:"Halo Setting",vintageAntique:"Vintage/Antique",threeStone:"Three Stone"},nl:{home:"Home",shop:"Winkel",customize:"Aanpassen",wishlist:"Verlanglijst",login:"Inloggen / Registreren",account:"Account",cart:"Winkelwagen",viewDetails:"Details Bekijken",addToCart:"Toevoegen aan Winkelwagen",chooseMetal:"Kies Metaal",caratWeight:"Karaat gewicht",engagementRings:"Verlovingsringen",labGrownDiamonds:"Lab-Gekweekte Diamanten",diamondRing:"Diamanten Ring",carat:"kt",metal:"Metaal",shape:"Vorm",loading:"Laden...",error:"Fout",added:"Toegevoegd!",priceOnRequest:"Prijs op aanvraag",off:"KORTING",clearFilters:"Filters Wissen",sortByPrice:"Sorteer op Prijs",sortByDate:"Sorteer op Datum",priceLowHigh:"Prijs: Laag naar Hoog",priceHighLow:"Prijs: Hoog naar Laag",latest:"Nieuwste",oldest:"Oudste",showDiscountedOnly:"Toon Alleen Aanbiedingen",noProductsFound:"Geen producten gevonden voor geselecteerde filters.",viewAllProducts:"Bekijk Alle Producten",contact:"Contact",about:"Over ons",privacy:"Privacybeleid",terms:"Algemene voorwaarden",newsletter:"Nieuwsbrief",subscribe:"Abonneren",yourEmail:"Uw e-mail",allRightsReserved:"Alle rechten voorbehouden.",exquisiteLabGrown:"Prachtige lab-gekweekte diamanten ringen voor de meest kostbare momenten in het leven.",links:"Links",bestsellers:"Bestsellers",ourStory:"Ons Verhaal",testimonials:"Wat Onze Klanten Zeggen",signUpSave:"Registreer & Bespaar",startDesigning:"Begin met Ontwerpen",customRingDesign:"Aangepaste Ring Ontwerp",celebrateLove:"Vier je unieke liefdesverhaal.",labGrownDiamondsBrilliant:"Lab-Gekweekte Diamanten: 30% Briljanter",specialOffers:"Speciale Aanbiedingen",upTo50Off:"Tot 50% korting op geselecteerde verlovingsringen",customDesignDiscount:"15% korting wanneer je je eigen ring ontwerpt",freeShipping:"Gratis Verzending",onAllOrdersOver500:"Op alle bestellingen boven \u20ac500",lifetimeWarranty:"Levenslange Garantie",onAllLabGrownDiamonds:"Op alle lab-gekweekte diamanten",thirtyDayReturns:"30-Dagen Retour",noQuestionsAsked:"Geen vragen gesteld",sustainableJewelry:"Grown Lab Diamond staat aan de voorhoede van de duurzame sieraden revolutie.",sustainableDescription:"We zijn gespecialiseerd in het cre\xebren van prachtige lab-gekweekte diamanten die dezelfde schittering, helderheid en schoonheid bieden als gedolven diamanten, maar met een zuiver geweten en een kleinere ecologische voetafdruk.",ourMission:"Onze missie is om ethisch bewuste consumenten toegang te geven tot luxe sieraden die niet inboeten op kwaliteit of stijl.",perfectHarmony:"Elk stuk in onze collectie vertegenwoordigt de perfecte harmonie van geavanceerde technologie en tijdloze elegantie.",customerTestimonial1:'"De lab-gekweekte diamant is absoluut prachtig en het feit dat het ethisch verantwoord is maakt het nog specialer!"',customerTestimonial2:'"Ongelooflijke kwaliteit en het aangepaste ontwerpproces was naadloos. Geweldig dat het duurzaam is!"',danielS:"\u2013 Daniel S.",sarahL:"\u2013 Sarah L.",noDiscountedProducts:"Momenteel geen producten met korting beschikbaar.",loadingBestsellers:"Bestsellers laden...",whyChooseLabGrown:"Waarom Lab-Gekweekte Diamanten Kiezen?",readyToDiscover:"Klaar om duurzame luxe te ontdekken?",shopOurCollection:"Bekijk Onze Collectie",address:"Adres",phone:"Telefoon",email:"E-mail",businessHours:"Openingstijden",diamondAvenue:"123 Diamant Avenue",globalHeadquarters:"Wereldwijde Hoofdkantoor",contactInfo:"Contactgegevens",contactUs:"Contact Opnemen",contactInformation:"Contactgegevens",name:"Naam",yourName:"Uw Naam",message:"Bericht",howCanWeHelp:"Hoe kunnen we u helpen?",sendMessage:"Bericht Versturen",sending:"Versturen...",messageSent:"Bericht verzonden! We nemen binnenkort contact met u op.",errorSendingMessage:"Fout bij het verzenden van bericht. Probeer het opnieuw.",leadingProvider:"Toonaangevende leverancier van ethisch gekweekte diamanten en duurzame luxe sieraden.",sku:"SKU",natural:"Natuurlijk",homeBreadcrumb:"Home",engagementRingsBreadcrumb:"VERLOVINGSRINGEN",quantity:"Aantal",total:"Totaal",checkout:"Afrekenen",continueShopping:"Verder Winkelen",remove:"Verwijderen",emptyCart:"Je winkelwagen is leeg",proceedToCheckout:"Doorgaan naar Afrekenen",orderSummary:"Besteloverzicht",subtotal:"Subtotaal",shipping:"Verzending",tax:"Belasting",items:"artikelen",each:"per stuk",signIn:"Inloggen",signUp:"Registreren",emailAddress:"E-mailadres",password:"Wachtwoord",confirmPassword:"Bevestig Wachtwoord",forgotPassword:"Wachtwoord Vergeten?",alreadyHaveAccount:"Heb je al een account?",dontHaveAccount:"Heb je nog geen account?",createAccount:"Account Aanmaken",loggingIn:"Inloggen...",signingUp:"Registreren...",loadingCheckout:"Afrekenen laden...",secureCheckout:"Veilig Afrekenen",adminPanel:"Beheerpaneel",adminLogin:"Beheerder Login",accessDenied:"Toegang geweigerd",ringCustomizer:"Ring Aanpassen",selectDesign:"Selecteer Ontwerp",selectMetal:"Selecteer Metaal",selectShape:"Selecteer Vorm",selectCarat:"Selecteer Karaat",preview:"Voorvertoning",myWishlist:"Mijn Verlanglijst",moveToCart:"Verplaats naar Winkelwagen",removeFromWishlist:"Verwijder van Verlanglijst",wishlistEmpty:"Je verlanglijst is leeg",addedToCart:"Toegevoegd aan winkelwagen!",myAccount:"Mijn Account",profile:"Profiel",orders:"Bestellingen",settings:"Instellingen",logout:"Uitloggen",whiteGold:"Wit Goud",yellowGold:"Geel Goud",roseGold:"Roze Goud",platinum:"Platina",round:"Rond",princess:"Prinses",emerald:"Smaragd",oval:"Ovaal",square:"Vierkant",classicSolitaire:"Klassieke Solitair",haloSetting:"Halo Setting",vintageAntique:"Vintage/Antiek",threeStone:"Drie Steen"},fr:{home:"Accueil",shop:"Boutique",customize:"Personnaliser",wishlist:"Liste de souhaits",login:"Connexion / Inscription",account:"Compte",cart:"Panier",viewDetails:"Voir les d\xe9tails",addToCart:"Ajouter au panier",chooseMetal:"Choisir le m\xe9tal",caratWeight:"Poids en carats",engagementRings:"Bagues de fian\xe7ailles",labGrownDiamonds:"Diamants de Laboratoire",diamondRing:"Bague en Diamant",carat:"ct",metal:"M\xe9tal",shape:"Forme",loading:"Chargement...",error:"Erreur",added:"Ajout\xe9 !",priceOnRequest:"Prix sur demande",off:"R\xc9DUCTION",clearFilters:"Effacer les filtres",sortByPrice:"Trier par prix",sortByDate:"Trier par date",priceLowHigh:"Prix: Croissant",priceHighLow:"Prix: D\xe9croissant",latest:"Plus r\xe9cent",oldest:"Plus ancien",showDiscountedOnly:"Afficher uniquement les r\xe9ductions",noProductsFound:"Aucun produit trouv\xe9 pour les filtres s\xe9lectionn\xe9s.",viewAllProducts:"Voir tous les produits",contact:"Contact",about:"\xc0 propos",privacy:"Politique de confidentialit\xe9",terms:"Conditions de service",newsletter:"Newsletter",subscribe:"S'abonner",yourEmail:"Votre e-mail",allRightsReserved:"Tous droits r\xe9serv\xe9s.",exquisiteLabGrown:"Exquises bagues en diamants de laboratoire pour les moments les plus pr\xe9cieux de la vie.",links:"Liens",bestsellers:"Meilleures ventes",ourStory:"Notre histoire",testimonials:"Ce que disent nos clients",signUpSave:"S'inscrire et \xe9conomiser",startDesigning:"Commencer \xe0 concevoir",customRingDesign:"Conception de bague personnalis\xe9e",celebrateLove:"C\xe9l\xe9brez votre histoire d'amour unique.",labGrownDiamondsBrilliant:"Diamants de Laboratoire: 30% Plus Brillants",specialOffers:"Offres Sp\xe9ciales",upTo50Off:"Jusqu'\xe0 50% de r\xe9duction sur les bagues de fian\xe7ailles s\xe9lectionn\xe9es",customDesignDiscount:"15% de r\xe9duction quand vous concevez votre propre bague",freeShipping:"Livraison gratuite",onAllOrdersOver500:"Sur toutes les commandes de plus de 500\u20ac",lifetimeWarranty:"Garantie \xe0 vie",onAllLabGrownDiamonds:"Sur tous les diamants de laboratoire",thirtyDayReturns:"Retours sous 30 jours",noQuestionsAsked:"Sans questions",sustainableJewelry:"Grown Lab Diamond est \xe0 l'avant-garde de la r\xe9volution des bijoux durables.",sustainableDescription:"Nous nous sp\xe9cialisons dans la cr\xe9ation de magnifiques diamants de laboratoire qui offrent la m\xeame brillance, clart\xe9 et beaut\xe9 que les diamants extraits, mais avec une conscience claire et une empreinte environnementale plus faible.",ourMission:"Notre mission est de fournir aux consommateurs \xe9thiquement conscients l'acc\xe8s \xe0 des bijoux de luxe qui ne compromettent pas la qualit\xe9 ou le style.",perfectHarmony:"Chaque pi\xe8ce de notre collection repr\xe9sente l'harmonie parfaite entre technologie de pointe et \xe9l\xe9gance intemporelle.",customerTestimonial1:'"Le diamant de laboratoire est absolument magnifique et savoir qu\'il est \xe9thique le rend encore plus sp\xe9cial !"',customerTestimonial2:'"Qualit\xe9 incroyable et le processus de conception personnalis\xe9e \xe9tait transparent. J\'adore que ce soit durable !"',danielS:"\u2013 Daniel S.",sarahL:"\u2013 Sarah L.",noDiscountedProducts:"Aucun produit en r\xe9duction disponible pour le moment.",loadingBestsellers:"Chargement des meilleures ventes...",whyChooseLabGrown:"Pourquoi Choisir les Diamants de Laboratoire ?",readyToDiscover:"Pr\xeat \xe0 d\xe9couvrir le luxe durable ?",shopOurCollection:"Voir Notre Collection",address:"Adresse",phone:"T\xe9l\xe9phone",email:"E-mail",businessHours:"Heures d'ouverture",diamondAvenue:"123 Avenue du Diamant",globalHeadquarters:"Si\xe8ge Social Mondial",contactInfo:"Informations de contact",contactUs:"Nous Contacter",contactInformation:"Informations de contact",name:"Nom",yourName:"Votre nom",message:"Message",howCanWeHelp:"Comment pouvons-nous vous aider ?",sendMessage:"Envoyer le message",sending:"Envoi...",messageSent:"Message envoy\xe9 ! Nous vous r\xe9pondrons bient\xf4t.",errorSendingMessage:"Erreur lors de l'envoi du message. Veuillez r\xe9essayer.",leadingProvider:"Fournisseur leader de diamants \xe9thiquement cultiv\xe9s et de bijoux de luxe durables.",sku:"SKU",natural:"Naturel",homeBreadcrumb:"Accueil",engagementRingsBreadcrumb:"BAGUES DE FIAN\xc7AILLES",quantity:"Quantit\xe9",total:"Total",checkout:"Commander",continueShopping:"Continuer les achats",remove:"Supprimer",emptyCart:"Votre panier est vide",proceedToCheckout:"Proc\xe9der au paiement",orderSummary:"R\xe9sum\xe9 de la commande",subtotal:"Sous-total",shipping:"Livraison",tax:"Taxe",items:"articles",each:"chacun",signIn:"Se connecter",signUp:"S'inscrire",emailAddress:"Adresse e-mail",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",forgotPassword:"Mot de passe oubli\xe9 ?",alreadyHaveAccount:"Vous avez d\xe9j\xe0 un compte ?",dontHaveAccount:"Vous n'avez pas de compte ?",createAccount:"Cr\xe9er un compte",loggingIn:"Connexion...",signingUp:"Inscription...",loadingCheckout:"Chargement du paiement...",secureCheckout:"Paiement S\xe9curis\xe9",adminPanel:"Panneau d'administration",adminLogin:"Connexion administrateur",accessDenied:"Acc\xe8s refus\xe9",ringCustomizer:"Personnalisateur de bague",selectDesign:"S\xe9lectionner le design",selectMetal:"S\xe9lectionner le m\xe9tal",selectShape:"S\xe9lectionner la forme",selectCarat:"S\xe9lectionner le carat",preview:"Aper\xe7u",myWishlist:"Ma liste de souhaits",moveToCart:"D\xe9placer vers le panier",removeFromWishlist:"Retirer de la liste de souhaits",wishlistEmpty:"Votre liste de souhaits est vide",addedToCart:"Ajout\xe9 au panier !",myAccount:"Mon compte",profile:"Profil",orders:"Commandes",settings:"Param\xe8tres",logout:"Se d\xe9connecter",whiteGold:"Or blanc",yellowGold:"Or jaune",roseGold:"Or rose",platinum:"Platine",round:"Rond",princess:"Princesse",emerald:"\xc9meraude",oval:"Oval",square:"Carr\xe9",classicSolitaire:"Solitaire classique",haloSetting:"Sertissage halo",vintageAntique:"Vintage/Antique",threeStone:"Trois pierres"}},Ya=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(()=>localStorage.getItem("language")||"en");(0,r.useEffect)(()=>{localStorage.setItem("language",n)},[n]);const s={language:n,changeLanguage:e=>{a(e)},t:e=>{var t;return(null===(t=Qa[n])||void 0===t?void 0:t[e])||Qa.en[e]||e}};return(0,Gt.jsx)(Ka.Provider,{value:s,children:t})},Xa=[{image:"/ringstestimages/halo seting platinum diamond round.webp",title:"Platinum Halo Diamond Ring",description:"Elegant platinum setting with brilliant round diamond"},{image:"/ringstestimages/three stone gold square.jpg",title:"Three Stone Gold Square",description:"Classic three-stone design with square-cut diamonds"},{image:"/ringstestimages/vintage platinum diamond round.jpg",title:"Vintage Platinum Round",description:"Timeless vintage-inspired platinum ring"},{image:"/ringstestimages/halo seting ring rose diamond square.webp",title:"Rose Gold Halo Square",description:"Romantic rose gold with square diamond halo"},{image:"/ringstestimages/three stone platinum square.jpg",title:"Three Stone Platinum Square",description:"Sophisticated platinum three-stone ring"},{image:"/ringstestimages/vintage rose diamon round.jpg",title:"Vintage Rose Gold Round",description:"Vintage charm with rose gold and round diamond"}],Za=[{icon:(0,Gt.jsxs)("svg",{className:"w-8 h-8 text-warmGold",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 1.343-3 3 0 2.5 3 5 3 5s3-2.5 3-5c0-1.657-1.343-3-3-3z"}),(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),title:"Ethical & Sustainable",desc:"100% conflict-free diamonds with minimal environmental impact."},{icon:(0,Gt.jsxs)("svg",{className:"w-8 h-8 text-warmGold",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6l4 2"}),(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),title:"Superior Quality",desc:"Lab-grown diamonds with exceptional clarity and brilliance."},{icon:(0,Gt.jsxs)("svg",{className:"w-8 h-8 text-warmGold",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12l2 2 4-4"}),(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),title:"Innovation",desc:"Cutting-edge technology meets timeless beauty."},{icon:(0,Gt.jsxs)("svg",{className:"w-8 h-8 text-warmGold",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3"}),(0,Gt.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"})]}),title:"Accessible Luxury",desc:"Premium quality at a fraction of the environmental cost."}],es=()=>{const{t:e}=Ja(),[t,n]=(0,r.useState)({name:"",email:"",message:""}),[a,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(""),[l,u]=(0,r.useState)(0),[d,h]=(0,r.useState)([]),[f,m]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[v,b]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{b(!0);try{const{data:e,error:t}=await Ta.from("ring_images").select("*").limit(20).order("created_at",{ascending:!1});if(t)throw t;const{data:n,error:r}=await Ta.from("ring_pricing").select("*");if(r)throw r;const{data:a,error:s}=await Ta.from("product_discounts").select("*").eq("is_active",!0);if(s)throw s;h(e||[]),m(n||[]),g(a||[]),console.log("Fetched discounts:",a),console.log("Fetched products:",null===e||void 0===e?void 0:e.length),console.log("Fetched pricing:",null===n||void 0===n?void 0:n.length),console.log("Current date:",(new Date).toISOString().split("T")[0]),e&&e.length>0&&console.log("All products:",e.map(e=>({id:e.id,design:e.design,metal:e.metal,shape:e.diamond_shape,carat:e.carat}))),a&&a.length>0&&console.log("All discounts:",a.map(e=>({id:e.id,design:e.design,metal:e.metal,shape:e.shape,percentage:e.discount_percentage,is_active:e.is_active})))}catch(e){console.error("Error fetching bestsellers:",e),h([]),m([]),g([])}finally{b(!1)}})()},[]),(0,r.useEffect)(()=>{const e=setInterval(()=>{u(e=>(e+1)%Xa.length)},3e3);return()=>clearInterval(e)},[]);const x=e=>{const{name:t,value:r}=e.target;n(e=>c(c({},e),{},{[t]:r}))},y=(e,t)=>{const n=f.find(t=>t.design===e);if(!n)return null;switch(t){case 1:case"1.0":default:return n.price_1_0ct;case 1.5:case"1.5":return n.price_1_5ct;case 2:case"2.0":return n.price_2_0ct;case 2.5:case"2.5":return n.price_2_5ct}},w=e=>{console.log("Checking discounts for product:",e.design,"Available discounts:",p.length);const t=p.filter(t=>{let n=!1;if(t.design){const r=t.design.toLowerCase(),a=e.design.toLowerCase();n=r.includes("three stone")||r.includes("trinity")?a.includes("three-stone")||a.includes("three stone"):r.includes("halo")?a.includes("halo"):r.includes("solitaire")?a.includes("solitaire")||a.includes("classic"):r===a||a.includes(r)||r.includes(a)}else n=!0;let r=!0;if(t.metal){const n=t.metal.toLowerCase(),a=e.metal.toLowerCase();r=n.includes("white")||n.includes("14k")||n.includes("18k")?a.includes("white")||a.includes("platinum"):n.includes("yellow")?a.includes("yellow"):n.includes("rose")?a.includes("rose"):n===a}let a=!0;if(t.shape){const n=t.shape.toLowerCase(),r=e.diamond_shape.toLowerCase();a=n.includes("round")||n.includes("brilliant")?r.includes("round"):n.includes("oval")?r.includes("oval"):n.includes("square")?r.includes("square"):n===r}return console.log("Discount matching for product:",e.design,{discountDesign:t.design,discountMetal:t.metal,discountShape:t.shape,productDesign:e.design,productMetal:e.metal,productShape:e.diamond_shape,designMatch:n,metalMatch:r,shapeMatch:a,isMatch:n&&r&&a}),n&&r&&a});if(console.log("Applicable discounts for",e.design,":",t),t.length>0){const n=t.reduce((e,t)=>t.discount_percentage>e.discount_percentage?t:e);return console.log("Best discount for",e.design,":",n),n}return console.log("No discount found for",e.design),null};return(0,Gt.jsxs)("div",{className:"bg-pureWhite min-h-screen font-sans",children:[(0,Gt.jsxs)("section",{className:"w-full flex flex-col items-center justify-center text-center py-24 px-4 relative overflow-hidden",style:{background:"linear-gradient(135deg, #ffffff 60%, #f7fafc 100%)",minHeight:"60vh"},children:[(0,Gt.jsx)("div",{className:"absolute inset-0 opacity-60",style:{background:'url("/ringstestimages/my-hero-bg.jpg") center/cover no-repeat'}}),(0,Gt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/80 via-softGray/60 to-navyBlue/20",style:{pointerEvents:"none"}}),(0,Gt.jsxs)("div",{className:"relative z-10 animate-fadein",children:[(0,Gt.jsx)("h1",{className:"text-5xl md:text-7xl font-serif font-extrabold mb-4 text-navyBlue drop-shadow-lg",style:{fontFamily:"Playfair Display, serif",letterSpacing:"-1px"},children:"Grown Lab Diamond"}),(0,Gt.jsx)("p",{className:"text-2xl md:text-3xl mb-4 text-darkGray font-light max-w-2xl mx-auto",style:{textShadow:"0 2px 8px #edf2f7"},children:"Where Science Meets Sparkle"}),(0,Gt.jsx)("p",{className:"text-lg md:text-xl mb-8 text-mediumGray font-light max-w-3xl mx-auto",children:"Discover our collection of ethically grown diamonds and sustainable luxury jewelry. Real brilliance, real impact, no mining required."}),(0,Gt.jsx)("a",{href:"/shop",className:"inline-block px-12 py-4 bg-navyBlue text-white font-bold rounded-full shadow-elegant hover:bg-warmGold hover:text-navyBlue transition-all duration-300 text-xl tracking-wide border-2 border-warmGold hover:scale-105 focus:outline-none focus:ring-4 focus:ring-navyBlue/40",children:"Shop Now"})]}),(0,Gt.jsx)("style",{children:"\n          .text-warmGold { color: #d69e2e; }\n          .bg-warmGold { background-color: #d69e2e; }\n          .text-navyBlue { color: #1a365d; }\n          .bg-navyBlue { background-color: #1a365d; }\n          .border-navyBlue { border-color: #1a365d; }\n          .bg-pureWhite { background-color: #ffffff; }\n          .bg-softGray { background-color: #f7fafc; }\n          .text-darkGray { color: #2d3748; }\n          .border-warmGold { border-color: #d69e2e; }\n        @keyframes fadein { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: none; } }\n        .animate-fadein { animation: fadein 1.2s cubic-bezier(.4,0,.2,1) both; }\n      "})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-6xl mx-auto py-12 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-10 text-center",style:{fontFamily:"Playfair Display, serif"},children:"Featured Collections"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Gt.jsxs)("div",{className:"bg-softGray rounded-lg shadow-elegant p-8 border border-navyBlue/30 text-center flex flex-col items-center",children:[(0,Gt.jsx)("img",{src:"/ringstestimages/three stone gold square.jpg",alt:"Wedding Rings",className:"w-32 h-32 object-cover rounded-full mx-auto border-2 border-navyBlue/20"}),(0,Gt.jsx)("h3",{className:"font-serif text-xl font-bold mb-2 text-darkGray",style:{fontFamily:"Playfair Display, serif"},children:"Wedding Rings"}),(0,Gt.jsx)("p",{className:"text-mediumGray",children:"Timeless bands with ethically grown diamonds."})]}),(0,Gt.jsxs)("div",{className:"bg-softGray rounded-lg shadow-elegant p-8 border border-navyBlue/30 text-center flex flex-col items-center",children:[(0,Gt.jsx)("img",{src:"/ringstestimages/three stone platinum square.jpg",alt:"Engagement Rings",className:"w-32 h-32 object-cover rounded-full mx-auto border-2 border-navyBlue/20"}),(0,Gt.jsx)("h3",{className:"font-serif text-xl font-bold mb-2 text-darkGray",style:{fontFamily:"Playfair Display, serif"},children:"Engagement Rings"}),(0,Gt.jsx)("p",{className:"text-mediumGray",children:"Lab-grown diamonds for your forever story."})]}),(0,Gt.jsxs)("div",{className:"bg-softGray rounded-lg shadow-elegant p-8 border border-navyBlue/30 text-center flex flex-col items-center",children:[(0,Gt.jsx)("img",{src:"/ringstestimages/vintage rose square.jpg",alt:"Custom Designs",className:"w-32 h-32 object-cover rounded-full mx-auto border-2 border-navyBlue/20"}),(0,Gt.jsx)("h3",{className:"font-serif text-xl font-bold mb-2 text-darkGray",style:{fontFamily:"Playfair Display, serif"},children:"Custom Designs"}),(0,Gt.jsx)("p",{className:"text-mediumGray",children:"Sustainable luxury, uniquely yours."})]})]})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsx)("section",{className:"w-full text-center py-6 bg-navyBlue/10",children:(0,Gt.jsx)("span",{className:"font-bold text-lg text-navyBlue",children:"Lab-Grown Diamonds: 30% More Brilliant, 100% Ethical!"})}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-6xl mx-auto py-16 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-4 text-center",style:{fontFamily:"Playfair Display, serif"},children:"Special Offers & Discounts"}),(0,Gt.jsx)("p",{className:"text-lg text-mediumGray text-center mb-12 max-w-2xl mx-auto",children:"Discover our exclusive deals on lab-grown diamond rings. Limited time offers for the perfect engagement."}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Gt.jsxs)("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl shadow-elegant p-8 text-white relative overflow-hidden",children:[(0,Gt.jsx)("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-bold",children:"\ud83d\udd25 Limited Time"}),(0,Gt.jsxs)("div",{className:"relative z-10",children:[(0,Gt.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e("specialOffers")}),(0,Gt.jsx)("p",{className:"text-red-100 mb-4",children:e("upTo50Off")}),(0,Gt.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,Gt.jsx)("span",{className:"text-3xl font-bold",children:"50%"}),(0,Gt.jsx)("span",{className:"text-red-100",children:"OFF"})]}),(0,Gt.jsx)("a",{href:"/shop",className:"inline-block bg-white text-red-600 font-bold px-6 py-3 rounded-full hover:bg-red-50 transition-all duration-200",children:"Shop Now"})]}),(0,Gt.jsx)("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full"})]}),(0,Gt.jsxs)("div",{className:"bg-gradient-to-br from-warmGold to-yellow-500 rounded-2xl shadow-elegant p-8 text-navyBlue relative overflow-hidden",children:[(0,Gt.jsx)("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-bold",children:"\u2728 New Customer"}),(0,Gt.jsxs)("div",{className:"relative z-10",children:[(0,Gt.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"First Purchase"}),(0,Gt.jsx)("p",{className:"text-navyBlue/80 mb-4",children:"Get 25% off your first lab-grown diamond ring"}),(0,Gt.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,Gt.jsx)("span",{className:"text-3xl font-bold",children:"25%"}),(0,Gt.jsx)("span",{className:"text-navyBlue/80",children:"OFF"})]}),(0,Gt.jsx)("a",{href:"/auth",className:"inline-block bg-navyBlue text-white font-bold px-6 py-3 rounded-full hover:bg-navyBlue/90 transition-all duration-200",children:e("signUpSave")})]}),(0,Gt.jsx)("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/20 rounded-full"})]}),(0,Gt.jsxs)("div",{className:"bg-gradient-to-br from-navyBlue to-blue-600 rounded-2xl shadow-elegant p-8 text-white relative overflow-hidden",children:[(0,Gt.jsx)("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-bold",children:"\ud83d\udc8e Custom Design"}),(0,Gt.jsxs)("div",{className:"relative z-10",children:[(0,Gt.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Custom Ring Design"}),(0,Gt.jsx)("p",{className:"text-blue-100 mb-4",children:"15% off when you design your own ring"}),(0,Gt.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,Gt.jsx)("span",{className:"text-3xl font-bold",children:"15%"}),(0,Gt.jsx)("span",{className:"text-blue-100",children:"OFF"})]}),(0,Gt.jsx)("a",{href:"/customize",className:"inline-block bg-white text-navyBlue font-bold px-6 py-3 rounded-full hover:bg-blue-50 transition-all duration-200",children:e("startDesigning")})]}),(0,Gt.jsx)("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-white/10 rounded-full"})]})]})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-4xl mx-auto py-12 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-10 text-center",style:{fontFamily:"Playfair Display, serif"},children:e("testimonials")}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Gt.jsxs)("div",{className:"bg-pureWhite rounded-lg shadow-elegant p-8 border border-navyBlue/20 text-left",children:[(0,Gt.jsx)("p",{className:"italic text-lg mb-4 text-darkGray",children:e("customerTestimonial1")}),(0,Gt.jsx)("span",{className:"block text-navyBlue font-semibold",children:e("danielS")})]}),(0,Gt.jsxs)("div",{className:"bg-pureWhite rounded-lg shadow-elegant p-8 border border-navyBlue/20 text-left",children:[(0,Gt.jsx)("p",{className:"italic text-lg mb-4 text-darkGray",children:e("customerTestimonial2")}),(0,Gt.jsx)("span",{className:"block text-navyBlue font-semibold",children:e("sarahL")})]})]})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-6xl mx-auto py-12 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-10 text-center",style:{fontFamily:"Playfair Display, serif"},children:e("bestsellers")}),v?(0,Gt.jsxs)("div",{className:"text-center py-12",children:[(0,Gt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-navyBlue"}),(0,Gt.jsx)("p",{className:"mt-4 text-mediumGray",children:e("loadingBestsellers")})]}):0===d.filter(e=>null!==w(e)).length?(0,Gt.jsx)("div",{className:"text-center py-12 text-mediumGray",children:(0,Gt.jsx)("p",{children:e("noDiscountedProducts")})}):(0,Gt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:d.filter(e=>null!==w(e)).slice(0,3).map((e,t)=>{const n=e.public_url||(e.image_url?Ta.storage.from("ring-images").getPublicUrl(e.image_url).data.publicUrl:"/placeholder-ring.png"),r=y(e.design,e.carat),a=w(e),s=a?(e=>{const t=w(e);if(!t)return null;const n=y(e.design,e.carat);return n?n*(1-t.discount_percentage/100):null})(e):r;return console.log("Product:",e.design,"Price:",r,"Discount:",a,"Discounted Price:",s),console.log("Product details:",{design:e.design,metal:e.metal,shape:e.diamond_shape,carat:e.carat,hasDiscount:!!a,discountPercentage:null===a||void 0===a?void 0:a.discount_percentage}),(0,Gt.jsxs)("a",{href:"/product/".concat(e.id),className:"bg-softGray rounded-lg shadow-elegant p-6 border border-navyBlue/20 flex flex-col items-center justify-center text-darkGray hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer group",children:[(0,Gt.jsxs)("div",{className:"relative",children:[(0,Gt.jsx)("img",{src:n,alt:"".concat(e.design," Ring"),className:"w-24 h-24 object-cover rounded-full mb-4 border border-navyBlue/10 shadow-inner group-hover:shadow-lg transition-shadow duration-300"}),a&&(0,Gt.jsxs)("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:[a.discount_percentage,"% OFF"]})]}),(0,Gt.jsx)("span",{className:"font-serif text-lg font-bold mb-2 text-navyBlue group-hover:text-warmGold transition-colors duration-300 text-center",style:{fontFamily:"Playfair Display, serif"},children:e.design}),(0,Gt.jsxs)("p",{className:"text-mediumGray text-sm text-center mb-2",children:[e.metal," \u2022 ",e.diamond_shape," \u2022 ",e.carat," ct"]}),(0,Gt.jsx)("div",{className:"text-center",children:a&&s?(0,Gt.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Gt.jsxs)("span",{className:"text-red-600 font-bold text-xl group-hover:scale-110 transition-transform duration-300",children:["$",Math.round(s).toLocaleString()]}),(0,Gt.jsxs)("span",{className:"text-gray-500 text-sm line-through",children:["$",Math.round(r).toLocaleString()]})]}),(0,Gt.jsxs)("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:[a.discount_percentage,"% OFF"]})]}):(0,Gt.jsx)("span",{className:"text-warmGold font-bold text-lg group-hover:scale-110 transition-transform duration-300",children:r?"$".concat(Math.round(r).toLocaleString()):"Price on request"})}),(0,Gt.jsx)("div",{className:"mt-3 text-xs text-navyBlue opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"View Details \u2192"})]},e.id)})})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-6xl mx-auto py-12 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-10 text-center",style:{fontFamily:"Playfair Display, serif"},children:e("ourStory")}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[(0,Gt.jsxs)("div",{className:"bg-softGray rounded-2xl shadow-elegant p-8 border border-navyBlue/20",children:[(0,Gt.jsx)("p",{className:"text-darkGray mb-4 leading-relaxed",children:e("sustainableJewelry")}),(0,Gt.jsxs)("p",{className:"text-darkGray leading-relaxed",children:[e("ourMission")," ",e("perfectHarmony")]})]}),(0,Gt.jsx)("div",{className:"relative",children:(0,Gt.jsxs)("div",{className:"bg-pureWhite rounded-2xl shadow-elegant p-6 border border-navyBlue/20",children:[(0,Gt.jsxs)("div",{className:"relative overflow-hidden rounded-xl",style:{height:"500px"},children:[Xa.map((e,t)=>(0,Gt.jsxs)("div",{className:"absolute inset-0 transition-all duration-800 ease-in-out ".concat(t===l?"opacity-100 scale-100":"opacity-0 scale-90"),children:[(0,Gt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center bg-gradient-to-br from-softGray to-pureWhite",children:(0,Gt.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-contain p-4",style:{maxHeight:"400px",maxWidth:"400px"}})}),(0,Gt.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 via-black/40 to-transparent",children:[(0,Gt.jsx)("h3",{className:"text-2xl font-serif font-bold mb-2 text-white",style:{fontFamily:"Playfair Display, serif"},children:e.title}),(0,Gt.jsx)("p",{className:"text-white/95 text-base mb-4 leading-relaxed",children:e.description}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("span",{className:"bg-warmGold text-navyBlue px-4 py-2 rounded-full text-sm font-bold shadow-lg",children:"Lab-Grown Diamond"}),(0,Gt.jsx)("span",{className:"bg-white/25 backdrop-blur-sm px-4 py-2 rounded-full text-sm text-white border border-white/30",children:"Ethically Sourced"})]})]})]},t)),(0,Gt.jsx)("button",{onClick:()=>{u(e=>(e-1+Xa.length)%Xa.length)},className:"absolute left-6 top-1/2 transform -translate-y-1/2 bg-white/95 hover:bg-white text-navyBlue p-4 rounded-full shadow-xl transition-all duration-300 hover:scale-110 backdrop-blur-sm border border-white/20",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Gt.jsx)("button",{onClick:()=>{u(e=>(e+1)%Xa.length)},className:"absolute right-6 top-1/2 transform -translate-y-1/2 bg-white/95 hover:bg-white text-navyBlue p-4 rounded-full shadow-xl transition-all duration-300 hover:scale-110 backdrop-blur-sm border border-white/20",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,Gt.jsx)("div",{className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 flex space-x-4",children:Xa.map((e,t)=>(0,Gt.jsx)("button",{onClick:()=>u(t),className:"w-4 h-4 rounded-full transition-all duration-300 ".concat(t===l?"bg-warmGold scale-125 shadow-lg":"bg-white/70 hover:bg-white/90")},t))})]}),(0,Gt.jsxs)("div",{className:"mt-8 text-center",children:[(0,Gt.jsx)("p",{className:"text-darkGray font-medium text-xl",children:"Discover Our Collection"}),(0,Gt.jsx)("p",{className:"text-mediumGray text-base mt-2",children:"Lab-grown diamonds with exceptional beauty and ethical sourcing"})]})]})})]})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-6xl mx-auto py-12 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-10 text-center",style:{fontFamily:"Playfair Display, serif"},children:"Why Choose Lab-Grown Diamonds?"}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 max-w-6xl mx-auto",children:Za.map((e,t)=>(0,Gt.jsxs)("div",{className:"flex flex-col items-center bg-pureWhite rounded-xl shadow-elegant p-6 border border-navyBlue/20 text-center",children:[(0,Gt.jsx)("div",{className:"mb-3",children:e.icon}),(0,Gt.jsx)("h3",{className:"font-bold text-lg text-navyBlue font-serif mb-2",style:{fontFamily:"Playfair Display, serif"},children:e.title}),(0,Gt.jsx)("p",{className:"text-darkGray text-sm",children:e.desc})]},e.title))})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-12"}),(0,Gt.jsxs)("section",{className:"max-w-6xl mx-auto py-12 px-4",children:[(0,Gt.jsx)("h2",{className:"text-3xl font-serif font-bold text-navyBlue mb-10 text-center",style:{fontFamily:"Playfair Display, serif"},children:"Get In Touch"}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,Gt.jsxs)("div",{className:"bg-softGray rounded-xl shadow-elegant p-8 border border-navyBlue/20",children:[(0,Gt.jsx)("h3",{className:"text-xl font-bold text-navyBlue mb-6",children:"Send us a Message"}),(0,Gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0),o(""),console.log("Submitting contact form:",t);try{const{data:e,error:r}=await Ta.from("messages").insert({name:t.name,email:t.email,message:t.message,status:"unread"});if(console.log("Supabase insert result:",{data:e,error:r}),r)throw r;o("Message sent! We will get back to you soon."),n({name:"",email:"",message:""})}catch(r){o("Error sending message. Please try again."),console.error("Contact form error:",r)}finally{s(!1)}},className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-navyBlue mb-1",children:"Name"}),(0,Gt.jsx)("input",{type:"text",name:"name",value:t.name,onChange:x,className:"w-full px-4 py-3 border border-navyBlue/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-navyBlue/40 bg-pureWhite text-darkGray",placeholder:"Your Name",required:!0})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-navyBlue mb-1",children:"Email"}),(0,Gt.jsx)("input",{type:"email",name:"email",value:t.email,onChange:x,className:"w-full px-4 py-3 border border-navyBlue/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-navyBlue/40 bg-pureWhite text-darkGray",placeholder:"you@email.com",required:!0})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-navyBlue mb-1",children:"Message"}),(0,Gt.jsx)("textarea",{name:"message",value:t.message,onChange:x,className:"w-full px-4 py-3 border border-navyBlue/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-navyBlue/40 bg-pureWhite text-darkGray",rows:4,placeholder:"How can we help you with your lab-grown diamond needs?",required:!0})]}),(0,Gt.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-navyBlue hover:bg-warmGold hover:text-navyBlue text-white font-bold px-6 py-3 rounded-lg shadow-elegant transition-all duration-200 border border-warmGold disabled:opacity-50",children:a?"Sending...":"Send Message"}),i&&(0,Gt.jsx)("div",{className:"text-center mt-2 p-3 rounded-lg ".concat(i.startsWith("Error")?"bg-red-50 text-red-700 border border-red-200":"bg-green-50 text-green-700 border border-green-200"),children:i})]})]}),(0,Gt.jsxs)("div",{className:"bg-pureWhite rounded-xl shadow-elegant p-8 border border-navyBlue/20",children:[(0,Gt.jsx)("h3",{className:"text-xl font-bold text-navyBlue mb-6",children:"Contact Information"}),(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-semibold text-navyBlue mb-2",children:"Grown Lab Diamond"}),(0,Gt.jsx)("p",{className:"text-darkGray",children:"Leading provider of ethically grown diamonds and sustainable luxury jewelry."})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-semibold text-navyBlue mb-2",children:"Address"}),(0,Gt.jsxs)("p",{className:"text-darkGray",children:["123 Diamond Avenue",(0,Gt.jsx)("br",{}),"Global Headquarters"]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-semibold text-navyBlue mb-2",children:"Phone"}),(0,Gt.jsx)("p",{className:"text-darkGray",children:"+972 3-123-4567"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-semibold text-navyBlue mb-2",children:"Email"}),(0,Gt.jsx)("p",{className:"text-darkGray",children:(0,Gt.jsx)("a",{href:"mailto:info@grownlabdiamond.com",className:"text-navyBlue hover:text-warmGold transition",children:"info@grownlabdiamond.com"})})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-semibold text-navyBlue mb-2",children:"Business Hours"}),(0,Gt.jsxs)("p",{className:"text-darkGray",children:["Monday - Friday: 9:00 AM - 6:00 PM",(0,Gt.jsx)("br",{}),"Saturday: 10:00 AM - 4:00 PM",(0,Gt.jsx)("br",{}),"Sunday: Closed"]})]})]})]})]})]})]})},ts={"classic-solitaire":"Classic Solitaire","halo-setting":"Halo Setting","vintage-antique":"Vintage/Antique","three-stone":"Three Stone"},ns={"white-gold":"White Gold","yellow-gold":"Yellow Gold","rose-gold":"Rose Gold",platinum:"Platinum"},rs={round:"Round",princess:"Princess",emerald:"Emerald",oval:"Oval"},as=()=>{const{t:e}=Ja(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[l,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,m]=(0,r.useState)({showDiscountedOnly:!1}),[p,g]=(0,r.useState)("default"),[v,b]=(0,r.useState)("default"),{addToCart:x}=Bs(),[y,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{u(!0);try{const{data:e,error:t}=await Ta.from("ring_images").select("*").order("design",{ascending:!0}).order("metal",{ascending:!0}).order("diamond_shape",{ascending:!0}).order("carat",{ascending:!0});if(t)throw t;const{data:r,error:a}=await Ta.from("ring_pricing").select("*");if(a)throw a;const{data:i,error:l}=await Ta.from("product_discounts").select("*").eq("is_active",!0);if(l)throw l;console.log("Fetched discounts:",i),n(e||[]),s(r||[]),o(i||[])}catch(d){h(d.message),n([]),s([]),o([])}finally{u(!1)}})()},[]);const j=(e,t)=>{m(n=>c(c({},n),{},{[e]:t}))},k=(e,t)=>{const n=a.find(t=>t.design===e);if(!n)return null;switch(t){case 1:case"1.0":default:return n.price_1_0ct;case 1.5:case"1.5":return n.price_1_5ct;case 2:case"2.0":return n.price_2_0ct;case 2.5:case"2.5":return n.price_2_5ct}},S=e=>{const t=i.filter(t=>{const n=!t.design||t.design===e.design,r=!t.metal||t.metal===e.metal,a=!t.shape||t.shape===e.diamond_shape;return n&&r&&a});return t.length>0?t.reduce((e,t)=>t.discount_percentage>e.discount_percentage?t:e):null},N=e=>{const t=S(e);if(!t)return null;const n=k(e.design,e.carat);return n?n*(1-t.discount_percentage/100):null},_=[...t.filter(e=>{const t=null!==S(e);return!f.showDiscountedOnly||t})].sort((e,t)=>{if("default"!==p){const n=N(e)||k(e.design,e.carat)||0,r=N(t)||k(t.design,t.carat)||0;switch(p){case"price-low-high":return n-r;case"price-high-low":return r-n}}if("default"!==v){const n=new Date(e.created_at||e.id),r=new Date(t.created_at||t.id);switch(v){case"latest":return r-n;case"oldest":return n-r}}return 0});return l?(0,Gt.jsx)("div",{className:"text-center py-12",children:e("loading")}):d?(0,Gt.jsxs)("div",{className:"text-center py-12 text-red-600",children:[e("error"),": ",d]}):(0,Gt.jsxs)("div",{className:"bg-pureWhite min-h-screen font-sans px-4 py-12",children:[(0,Gt.jsxs)("h1",{className:"text-4xl font-serif font-bold text-navyBlue mb-10 text-center tracking-tight",style:{fontFamily:"Playfair Display, serif"},children:[e("shop")," ",e("engagementRings")]}),(0,Gt.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center mb-8",children:[(0,Gt.jsxs)("select",{className:"border border-navyBlue/30 rounded px-5 py-2 text-darkGray bg-softGray focus:outline-navyBlue",value:p,onChange:e=>g(e.target.value),children:[(0,Gt.jsx)("option",{value:"default",children:e("sortByPrice")}),(0,Gt.jsx)("option",{value:"price-low-high",children:e("priceLowHigh")}),(0,Gt.jsx)("option",{value:"price-high-low",children:e("priceHighLow")})]}),(0,Gt.jsxs)("select",{className:"border border-navyBlue/30 rounded px-5 py-2 text-darkGray bg-softGray focus:outline-navyBlue",value:v,onChange:e=>b(e.target.value),children:[(0,Gt.jsx)("option",{value:"default",children:e("sortByDate")}),(0,Gt.jsx)("option",{value:"latest",children:e("latest")}),(0,Gt.jsx)("option",{value:"oldest",children:e("oldest")})]}),(0,Gt.jsx)("button",{className:"px-5 py-2 bg-navyBlue text-white font-bold rounded border border-navyBlue hover:bg-warmGold hover:text-navyBlue transition",onClick:()=>{m({showDiscountedOnly:!1}),g("default"),b("default")},children:e("clearFilters")}),(0,Gt.jsxs)("label",{className:"flex items-center",children:[(0,Gt.jsx)("input",{type:"checkbox",className:"mr-2",checked:f.showDiscountedOnly,onChange:e=>j("showDiscountedOnly",e.target.checked)}),(0,Gt.jsx)("span",{className:"text-purple-700 font-medium",children:e("showDiscountedOnly")})]})]}),(0,Gt.jsx)("div",{className:"w-full border-t border-lightGray my-8"}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:0===_.length?(0,Gt.jsx)("div",{className:"col-span-full text-center text-mediumGray py-12",children:e("noProductsFound")}):_.map(t=>{const n=t.public_url||(t.image_url?Ta.storage.from("ring-images").getPublicUrl(t.image_url).data.publicUrl:"/placeholder-ring.png"),r=k(t.design,t.carat),a=S(t),s=a?N(t):r;return console.log("Product:",t.design,"Price:",r,"Discount:",a,"Discounted Price:",s),(0,Gt.jsxs)("div",{className:"bg-softGray rounded-2xl shadow-elegant border border-navyBlue/20 hover:border-navyBlue transition-all duration-300 flex flex-col items-center group overflow-hidden relative",children:[a&&(0,Gt.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:[a.discount_percentage,"% OFF"]}),(0,Gt.jsx)("img",{src:n,alt:"".concat(t.design," Ring"),className:"w-full h-56 object-cover rounded-t-2xl group-hover:scale-105 transition-transform duration-300"}),(0,Gt.jsxs)("div",{className:"p-4 w-full",children:[(0,Gt.jsx)("h3",{className:"text-lg font-bold text-navyBlue mb-2",children:t.design}),(0,Gt.jsxs)("p",{className:"text-darkGray text-sm mb-2",children:[t.metal," \u2022 ",t.diamond_shape," \u2022 ",t.carat," ct"]}),(0,Gt.jsx)("div",{className:"mb-3",children:a&&s?(0,Gt.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,Gt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Gt.jsxs)("span",{className:"text-xl font-bold text-red-600",children:["$",Math.round(s).toLocaleString()]}),(0,Gt.jsxs)("span",{className:"text-gray-500 text-sm line-through",children:["$",Math.round(r).toLocaleString()]})]}),(0,Gt.jsxs)("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:[a.discount_percentage,"% OFF"]})]}):(0,Gt.jsxs)("span",{className:"text-lg font-bold text-warmGold",children:["$",r?Math.round(r).toLocaleString():"Price on request"]})}),(0,Gt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,Gt.jsx)("a",{href:"/product/".concat(t.id),className:"flex-1 px-3 py-1.5 bg-navyBlue text-white font-semibold rounded-full shadow-elegant hover:bg-warmGold hover:text-navyBlue transition-all duration-200 text-xs tracking-wide border border-navyBlue focus:outline-none focus:ring-2 focus:ring-navyBlue/40 hover:scale-105 text-center",children:e("viewDetails")}),(0,Gt.jsx)("button",{className:"flex-1 px-3 py-1.5 bg-warmGold text-navyBlue font-semibold rounded-full shadow-elegant hover:bg-navyBlue hover:text-white transition-all duration-200 text-xs tracking-wide border border-warmGold focus:outline-none focus:ring-2 focus:ring-navyBlue/40 hover:scale-105",onClick:()=>{x({id:t.id,name:ts[t.design]||t.design,design:t.design,designLabel:ts[t.design]||t.design,metal:t.metal,metalLabel:ns[t.metal]||t.metal,shape:t.diamond_shape,shapeLabel:rs[t.diamond_shape]||t.diamond_shape,carat:t.carat,price:s||r,originalPrice:r,discount:a,image:n,qty:1}),w(t.id),setTimeout(()=>w(null),1e3)},disabled:!r,children:y===t.id?e("added"):(0,Gt.jsxs)("span",{className:"flex items-center justify-center gap-1",children:[(0,Gt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3 h-3",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.836l.383 1.437m0 0l1.7 6.385m-.383-7.822L6.75 7.5m0 0h10.5m-10.5 0l1.7 6.385m0 0A2.25 2.25 0 0010.125 16.5h3.75a2.25 2.25 0 002.175-1.615l1.7-6.385m-10.5 0h10.5"})}),(0,Gt.jsx)("span",{children:e("addToCart")})]})})]})]})]},t.id)})}),f.showDiscountedOnly&&(0,Gt.jsx)("div",{className:"flex justify-center mt-8",children:(0,Gt.jsx)("button",{className:"px-8 py-3 bg-warmGold text-navyBlue font-bold rounded-full shadow-elegant hover:bg-navyBlue hover:text-white transition-all duration-200 text-lg tracking-wide border border-warmGold focus:outline-none focus:ring-2 focus:ring-navyBlue/40 hover:scale-105",onClick:()=>j("showDiscountedOnly",!1),children:e("viewAllProducts")})}),(0,Gt.jsx)("style",{children:"\n      .text-navyBlue { color: #2c3e50; }\n      .border-navyBlue { border-color: #2c3e50; }\n      .bg-navyBlue { background-color: #2c3e50; }\n      .text-warmGold { color: #f39c12; }\n      .border-warmGold { border-color: #f39c12; }\n      .bg-warmGold { background-color: #f39c12; }\n      .text-darkGray { color: #555555; }\n      .bg-pureWhite { background-color: #ffffff; }\n      .border-lightGray { border-color: #e0e0e0; }\n      .shadow-elegant { box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }\n    "})]})},ss={"white-gold":"#e5e4e2","yellow-gold":"#ffe066","rose-gold":"#e6b7a9",platinum:"#bfc1c2"},is={"white-gold":"White Gold","yellow-gold":"Yellow Gold","rose-gold":"Rose Gold",platinum:"Platinum"},os=[{value:"1.0",label:"1.0ct F-G VS+"},{value:"1.5",label:"1.5ct F-G VS+"},{value:"2.0",label:"2.0ct F-G VS+"},{value:"2.5",label:"2.5ct F-G VS+"}],ls=e=>{let{ring:t,onAddToCart:n}=e;const{t:a}=Ja(),[s,i]=(0,r.useState)(t.metal),[o,l]=(0,r.useState)("1.0"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)({x:50,y:50}),[f,m]=(0,r.useState)(null),p=(0,r.useRef)(null),g=t.images[s]||t.images[t.metal]||"/placeholder-ring.png",[v,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{const{data:e,error:n}=await Ta.from("product_discounts").select("*").eq("is_active",!0).gte("start_date",(new Date).toISOString().split("T")[0]).or("end_date.is.null,end_date.gte."+(new Date).toISOString().split("T")[0]);if(n)return void console.error("Error fetching discounts:",n);const r=null===e||void 0===e?void 0:e.find(e=>{const n=!e.design||e.design===t.design||e.design===t.designLabel||"classic-solitaire"===e.design,r=!e.metal||e.metal===s||"white-gold"===e.metal,a=!e.shape||e.shape===(t.shape||t.diamond_shape)||"princess"===e.shape||"round"===e.shape,i=!e.design&&!e.metal&&!e.shape;return n&&r&&a||i});r&&m(r)})()},[t.design,s,t.shape,t.diamond_shape,t.designLabel]),(0,r.useEffect)(()=>{const e=localStorage.getItem("wishlist"),n=e?JSON.parse(e):[];b(n.some(e=>e.id===t.id))},[t.id]);const x=e=>{if(!t.priceData)return t.price||5e3;switch(e){case"1.0":default:return t.priceData.price_1_0ct||5e3;case"1.5":return t.priceData.price_1_5ct||7500;case"2.0":return t.priceData.price_2_0ct||1e4;case"2.5":return t.priceData.price_2_5ct||12500}},y=x(o),w=e=>{if(!c||!p.current)return;const t=p.current.getBoundingClientRect(),n=Math.max(0,Math.min(100,(e.clientX-t.left)/t.width*100)),r=Math.max(0,Math.min(100,(e.clientY-t.top)/t.height*100));h({x:n,y:r})},j=e=>{e.preventDefault(),e.stopPropagation(),u(e=>!e),c||w(e)};return(0,Gt.jsxs)("div",{className:"w-full max-w-5xl bg-pureWhite rounded-lg shadow-elegant p-4 sm:p-6 flex flex-col xl:flex-row gap-4 sm:gap-8 items-start border border-navyBlue/20 mx-auto",children:[(0,Gt.jsxs)("div",{className:"flex flex-col items-center xl:items-start w-full xl:w-1/2",children:[(0,Gt.jsxs)("div",{className:"w-full flex flex-col items-center relative",children:[(0,Gt.jsx)("button",{className:"absolute top-2 right-2 sm:top-3 sm:right-3 z-10 rounded-full p-1.5 sm:p-2 bg-pureWhite/90 border border-warmGold shadow-elegant transition hover:bg-warmGold hover:text-navyBlue ".concat(v?"text-red-500":"text-navyBlue"),onClick:()=>{const e=localStorage.getItem("wishlist");let n=e?JSON.parse(e):[];v?n=n.filter(e=>e.id!==t.id):n.push({id:t.id,name:t.designLabel,image:g,price:x(o),metal:s,design:t.design,shape:t.shape}),localStorage.setItem("wishlist",JSON.stringify(n)),b(!v)},"aria-label":v?"Remove from wishlist":"Add to wishlist",style:{outline:"none"},children:v?(0,Gt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",className:"w-4 h-4 sm:w-5 sm:h-5",children:(0,Gt.jsx)("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}):(0,Gt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,className:"w-4 h-4 sm:w-5 sm:h-5",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 3c-1.74 0-3.41 0.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3z"})})}),(0,Gt.jsxs)("div",{ref:p,className:"w-80 h-80 sm:w-[28rem] sm:h-[28rem] mb-3 sm:mb-4 rounded-lg shadow-elegant overflow-hidden bg-softGray relative cursor-zoom-in border border-navyBlue/10",style:{position:"relative"},onMouseMove:w,onClick:j,tabIndex:0,role:"button","aria-label":"Click to zoom product image",onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),j(e))},children:[f&&(0,Gt.jsxs)("div",{className:"absolute top-2 left-2 sm:top-3 sm:left-3 z-20 bg-gradient-to-r from-red-500 to-red-600 text-white px-2 py-1 sm:px-3 sm:py-1.5 rounded-full text-xs font-bold shadow-lg border border-white transform rotate-[-5deg] animate-pulse",children:["\ud83d\udd25 ",f.discount_percentage,"% OFF"]}),(0,Gt.jsx)("img",{src:g,alt:t.designLabel,className:"w-full h-full object-contain",draggable:!1,style:{pointerEvents:"none"}}),!c&&(0,Gt.jsx)("div",{className:"absolute top-2 right-2 bg-navyBlue/80 text-white text-xs px-2 py-1 rounded shadow-elegant",children:"Click to zoom"}),c&&(0,Gt.jsx)("div",{className:"fixed z-50 border-2 border-warmGold rounded-lg shadow-2xl bg-pureWhite",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"400px",backgroundImage:"url(".concat(g,")"),backgroundRepeat:"no-repeat",backgroundSize:"200% 200%",backgroundPosition:"".concat(d.x,"% ").concat(d.y,"%"),boxShadow:"0 8px 32px 0 rgba(0,0,0,0.15)",display:"block"},onClick:e=>{e.stopPropagation(),u(!1)},tabIndex:0,role:"button","aria-label":"Close zoom",onKeyDown:e=>{"Escape"===e.key&&u(!1)}}),c&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-navyBlue/20 z-40",onClick:()=>u(!1),style:{cursor:"pointer"}})]})]}),(0,Gt.jsxs)("div",{className:"flex flex-col items-center mt-3 sm:mt-4 w-full",children:[(0,Gt.jsx)("span",{className:"text-xs sm:text-sm font-semibold mb-2 text-navyBlue",children:a("chooseMetal")}),(0,Gt.jsx)("div",{className:"flex flex-row gap-3 sm:gap-4 justify-center",children:t.availableMetals.map(e=>(0,Gt.jsx)("button",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 ".concat(s===e?"border-warmGold ring-2 ring-navyBlue":"border-softGray"," flex items-center justify-center transition hover:scale-110 shadow-sm"),style:{backgroundColor:ss[e]||"#eee"},onClick:()=>i(e),"aria-label":is[e]},e))})]})]}),(0,Gt.jsxs)("div",{className:"flex-1 flex flex-col items-start space-y-3 sm:space-y-4 min-w-0",children:[(0,Gt.jsxs)("div",{className:"text-xs text-navyBlue mb-1",children:[a("homeBreadcrumb")," / ",a("engagementRingsBreadcrumb")," / ",(0,Gt.jsx)("span",{className:"text-charcoalGray font-semibold",children:t.designLabel})]}),(0,Gt.jsxs)("div",{className:"space-y-1",children:[(0,Gt.jsxs)("h1",{className:"text-xl sm:text-2xl xl:text-3xl font-bold text-navyBlue leading-tight",children:[t.designLabel," ",a("diamondRing")]}),(0,Gt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Gt.jsxs)("span",{className:"text-xs text-softGray",children:[a("sku"),": SH-XXXX"]}),(0,Gt.jsx)("span",{className:"bg-softBlush text-navyBlue text-xs font-semibold px-2 py-0.5 rounded-full",children:a("natural")})]})]}),(0,Gt.jsx)("div",{className:"w-full",children:f?(0,Gt.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,Gt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[(0,Gt.jsxs)("span",{className:"text-2xl sm:text-3xl xl:text-4xl font-bold text-red-600",children:["$",(y*(1-f.discount_percentage/100)).toLocaleString()]}),(0,Gt.jsxs)("span",{className:"text-base sm:text-lg text-gray-500 line-through",children:["$",y.toLocaleString()]}),(0,Gt.jsxs)("span",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white text-xs font-bold px-2 py-1 rounded-full shadow-md border border-white",children:["\ud83d\udd25 ",f.discount_percentage,"% OFF"]})]}),f.description&&(0,Gt.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-md px-2 py-1 sm:px-3 sm:py-1.5",children:(0,Gt.jsxs)("div",{className:"text-purple-700 font-semibold flex items-center gap-1 text-xs sm:text-sm",children:[(0,Gt.jsx)("span",{className:"text-xs sm:text-sm",children:"\u2728"}),f.description]})})]}):(0,Gt.jsxs)("div",{className:"text-2xl sm:text-3xl xl:text-4xl font-bold text-warmGold",children:["$",y.toLocaleString()]})}),(0,Gt.jsx)("div",{className:"w-full",children:(0,Gt.jsx)("p",{className:"text-charcoalGray text-xs sm:text-sm leading-relaxed max-w-md",children:t.description})}),(0,Gt.jsxs)("div",{className:"w-full space-y-2",children:[(0,Gt.jsxs)("span",{className:"font-semibold text-navyBlue text-xs sm:text-sm",children:[a("caratWeight"),":"]}),(0,Gt.jsx)("div",{className:"flex flex-wrap gap-1 sm:gap-1.5",children:os.map(e=>(0,Gt.jsx)("button",{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-full border text-xs font-semibold transition-colors ".concat(o===e.value?"bg-navyBlue text-white border-navyBlue shadow-sm":"bg-pureWhite text-navyBlue border-softGray hover:bg-navyBlue/10"),onClick:()=>l(e.value),children:e.label},e.value))})]}),(0,Gt.jsxs)("div",{className:"flex gap-3 mt-2 sm:mt-3",children:[(0,Gt.jsx)("a",{href:"/product/".concat(t.id),className:"flex-1 px-3 py-1.5 sm:px-4 sm:py-2 bg-navyBlue text-white font-semibold rounded-full shadow-elegant hover:bg-warmGold hover:text-navyBlue transition text-xs sm:text-sm tracking-wide border border-navyBlue focus:outline-none focus:ring-2 focus:ring-navyBlue/40 hover:scale-105 text-center",children:a("viewDetails")}),(0,Gt.jsx)("button",{className:"flex-1 px-3 py-1.5 sm:px-4 sm:py-2 bg-warmGold text-navyBlue font-semibold rounded-full shadow-elegant hover:bg-navyBlue hover:text-white transition text-xs sm:text-sm tracking-wide border border-warmGold focus:outline-none focus:ring-2 focus:ring-navyBlue/40 hover:scale-105",onClick:()=>{try{const e=f?y*(1-f.discount_percentage/100):y;n({id:t.id,name:t.designLabel,design:t.design,designLabel:t.designLabel,metal:s,metalLabel:is[s],shape:t.shape||t.diamond_shape,shapeLabel:t.shape||t.diamond_shape,carat:o,price:e,originalPrice:y,discount:f,image:g,image_url:g,description:t.description,qty:1})}catch(e){console.error("Error adding to cart:",e),alert("There was an error adding this item to your cart. Please try again.")}},children:a("addToCart")})]})]})]})},cs=e=>{const t=[...It&&It.designs||[],{id:"classic-solitaire",name:"Classic Solitaire"},{id:"halo-setting",name:"Halo Setting"},{id:"vintage-antique",name:"Vintage/Antique Style"},{id:"three-stone",name:"Three Stone"}].find(t=>t.id===e||t.value===e);return t?t.name:e},us=e=>{const t=[...It&&It.designs||[],{id:"classic-solitaire",description:"A timeless single stone setting, perfect for any occasion."},{id:"halo-setting",description:"Diamond surrounded by smaller stones for extra brilliance."},{id:"vintage-antique",description:"Romantic, art-deco inspired design for a unique look."},{id:"three-stone",description:"Past, present, and future symbolism in a trinity design."}].find(t=>t.id===e||t.value===e);return t?t.description:""},ds=["white-gold","yellow-gold","rose-gold","platinum"],hs=()=>{const{id:e}=pe(),{addToCart:t}=Bs(),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{i(!0),l(null);const{data:t,error:n}=await Ta.from("ring_images").select("*").eq("id",e).single();if(n||!t)return l("Product Not Found"),a(null),void i(!1);const{data:r}=await Ta.from("ring_images").select("*").eq("design",t.design).eq("diamond_shape",t.diamond_shape),s={};ds.forEach(e=>{const t=(r||[]).find(t=>t.metal===e);t&&(s[e]=t.image_url?Ta.storage.from("ring-images").getPublicUrl(t.image_url).data.publicUrl:"/placeholder-ring.png")});const{data:o}=await Ta.from("ring_pricing").select("*").eq("design",t.design).single();a({id:t.id,design:t.design,designLabel:cs(t.design),description:us(t.design),metal:t.metal,availableMetals:ds.filter(e=>s[e]),images:s,price:(null===o||void 0===o?void 0:o.price_1_0ct)||Mt,priceData:o?{price_1_0ct:o.price_1_0ct,price_1_5ct:o.price_1_5ct,price_2_0ct:o.price_2_0ct,price_2_5ct:o.price_2_5ct}:null}),i(!1)})()},[e]),s?(0,Gt.jsx)("div",{className:"text-center py-12",children:"Loading..."}):o||!n?(0,Gt.jsx)("div",{className:"bg-diamondWhite min-h-screen font-sans px-4 py-12 flex items-center justify-center",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h1",{className:"text-2xl font-bold text-brilliantBlue mb-4",children:"Product Not Found"}),(0,Gt.jsx)("a",{href:"/shop",className:"text-brilliantBlue font-bold hover:underline",children:"Back to Shop"})]})}):(0,Gt.jsx)("div",{className:"bg-diamondWhite min-h-screen font-sans px-4 py-12 flex items-center justify-center",children:(0,Gt.jsx)(ls,{ring:n,onAddToCart:t})})},fs=_t("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),ms=_t("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ps=_t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),gs=()=>{const{t:e}=Ja(),{cart:t,removeFromCart:n,updateQuantity:r}=Bs(),a=me(),s=t.reduce((e,t)=>e+(t.price||0)*(t.qty||1),0),i=t.length>0?50:0,o=.08*s,l=s+i+o;return 0===t.length?(0,Gt.jsx)("div",{className:"bg-pureWhite min-h-screen flex items-center justify-center py-10",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"w-20 h-20 bg-softGray rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Gt.jsx)(fs,{className:"w-10 h-10 text-navyBlue"})}),(0,Gt.jsx)("h1",{className:"text-2xl font-bold text-navyBlue mb-4",children:e("emptyCart")}),(0,Gt.jsx)("p",{className:"text-darkGray mb-6",children:"Add some beautiful rings to get started!"}),(0,Gt.jsx)("button",{onClick:()=>a("/shop"),className:"bg-navyBlue text-white font-bold rounded-full px-8 py-3 shadow-elegant hover:bg-warmGold hover:text-navyBlue transition",children:e("continueShopping")})]})}):(0,Gt.jsx)("div",{className:"bg-pureWhite min-h-screen py-10 px-4",children:(0,Gt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Gt.jsx)("h1",{className:"text-4xl font-serif font-bold mb-8 text-center text-navyBlue",style:{fontFamily:"Playfair Display, serif"},children:e("cart")}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Gt.jsx)("div",{className:"lg:col-span-2 space-y-4",children:t.map(t=>(0,Gt.jsx)("div",{className:"bg-softGray rounded-xl shadow-elegant border border-navyBlue/10 p-6",children:(0,Gt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Gt.jsx)("div",{className:"w-20 h-20 bg-pureWhite rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden border border-navyBlue/10",children:t.image_url?(0,Gt.jsx)("img",{src:t.image_url,alt:t.design_label,className:"w-full h-full object-cover"}):(0,Gt.jsx)("span",{className:"text-warmGold text-2xl",children:"\ud83d\udc8d"})}),(0,Gt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Gt.jsx)("h3",{className:"font-semibold text-navyBlue text-lg mb-1",children:t.design_label}),(0,Gt.jsxs)("p",{className:"text-darkGray text-sm mb-2",children:[t.metal_label," \u2022 ",t.shape_label," \u2022 ",t.carat,"ct"]}),(0,Gt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Gt.jsx)("button",{onClick:()=>r(t.id,(t.qty||1)-1),className:"w-8 h-8 rounded-full border border-lightGray flex items-center justify-center hover:bg-navyBlue/10",children:(0,Gt.jsx)(ms,{className:"w-4 h-4 text-navyBlue"})}),(0,Gt.jsx)("span",{className:"w-12 text-center font-semibold text-navyBlue",children:t.qty||1}),(0,Gt.jsx)("button",{onClick:()=>r(t.id,(t.qty||1)+1),className:"w-8 h-8 rounded-full border border-lightGray flex items-center justify-center hover:bg-navyBlue/10",children:(0,Gt.jsx)(ps,{className:"w-4 h-4 text-navyBlue"})})]})]}),(0,Gt.jsxs)("div",{className:"text-right",children:[(0,Gt.jsxs)("p",{className:"font-bold text-warmGold text-lg",children:["$",((t.price||0)*(t.qty||1)).toLocaleString()]}),(0,Gt.jsxs)("p",{className:"text-darkGray text-sm",children:["$",(t.price||0).toLocaleString()," each"]}),(0,Gt.jsxs)("button",{onClick:()=>n(t.id),className:"mt-2 text-red-500 hover:text-red-700 flex items-center text-sm",children:[(0,Gt.jsx)(za,{className:"w-4 h-4 mr-1"}),e("remove")]})]})]})},t.id))}),(0,Gt.jsx)("div",{className:"space-y-6",children:(0,Gt.jsxs)("div",{className:"bg-pureWhite rounded-xl shadow-elegant border border-navyBlue/10 p-6",children:[(0,Gt.jsx)("h2",{className:"text-xl font-bold text-navyBlue mb-4",children:e("orderSummary")}),(0,Gt.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Gt.jsxs)("div",{className:"flex justify-between text-darkGray",children:[(0,Gt.jsxs)("span",{children:[e("subtotal")," (",t.length," ",e("items"),")"]}),(0,Gt.jsxs)("span",{children:["$",s.toLocaleString()]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between text-darkGray",children:[(0,Gt.jsx)("span",{children:e("shipping")}),(0,Gt.jsxs)("span",{children:["$",i.toLocaleString()]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between text-darkGray",children:[(0,Gt.jsx)("span",{children:e("tax")}),(0,Gt.jsxs)("span",{children:["$",o.toLocaleString()]})]}),(0,Gt.jsx)("div",{className:"border-t border-lightGray pt-3",children:(0,Gt.jsxs)("div",{className:"flex justify-between text-lg font-bold text-navyBlue",children:[(0,Gt.jsx)("span",{children:e("total")}),(0,Gt.jsxs)("span",{children:["$",l.toLocaleString()]})]})})]}),(0,Gt.jsx)("button",{onClick:()=>a("/checkout"),className:"w-full bg-navyBlue text-white font-bold rounded-full py-4 shadow-elegant hover:bg-warmGold hover:text-navyBlue transition-all duration-200",children:e("proceedToCheckout")}),(0,Gt.jsx)("button",{onClick:()=>a("/shop"),className:"w-full bg-pureWhite text-navyBlue font-bold rounded-full py-3 border border-navyBlue hover:bg-navyBlue/10 transition mt-3",children:e("continueShopping")})]})})]})]})})},vs=_t("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),bs=_t("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),xs=_t("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ys=_t("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ws=()=>{const{t:e}=Ja(),{cart:t,setCart:n}=Bs(),a=me(),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[m,p]=(0,r.useState)({}),[g,v]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",postalCode:"",country:"United States",cardNumber:"",cardName:"",expiryMonth:"",expiryYear:"",cvv:"",saveInfo:!1}),b=t.reduce((e,t)=>e+t.price*t.qty,0),x=t.length>0?50:0,y=.08*b,w=b+x+y;(0,r.useEffect)(()=>{(async()=>{const{data:{session:e}}=await Ta.auth.getSession();if(null===e||void 0===e||!e.user)return void a("/auth?redirect=checkout");i(e.user);const{data:t}=await Ta.from("profiles").select("*").eq("id",e.user.id).single();v(t?n=>{var r,a;return c(c({},n),{},{firstName:(null===(r=t.name)||void 0===r?void 0:r.split(" ")[0])||"",lastName:(null===(a=t.name)||void 0===a?void 0:a.split(" ").slice(1).join(" "))||"",email:e.user.email,phone:t.phone||"",address:t.address||""})}:t=>c(c({},t),{},{email:e.user.email})),l(!1)})()},[a]);const j=e=>{const{name:t,value:n,type:r,checked:a}=e.target;v(e=>c(c({},e),{},{[t]:"checkbox"===r?a:n})),m[t]&&p(e=>c(c({},e),{},{[t]:""}))};return o?(0,Gt.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto mb-4"}),(0,Gt.jsx)("p",{className:"text-gray-600",children:e("loadingCheckout")})]})}):0===t.length?(0,Gt.jsx)("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h1",{className:"text-2xl font-bold text-black mb-4",children:"Your cart is empty"}),(0,Gt.jsx)("p",{className:"text-gray-600 mb-6",children:"Add some beautiful rings to your cart first!"}),(0,Gt.jsx)("button",{onClick:()=>a("/shop"),className:"bg-gold text-black font-bold rounded-full px-8 py-3 shadow hover:bg-black hover:text-gold transition",children:"Continue Shopping"})]})}):h?(0,Gt.jsx)("div",{className:"bg-diamondWhite min-h-screen flex items-center justify-center py-10",children:(0,Gt.jsxs)("div",{className:"bg-platinumSilver rounded-xl shadow-elegant p-8 max-w-lg w-full text-center border border-brilliantBlue/10",children:[(0,Gt.jsx)(vs,{className:"w-16 h-16 text-brilliantBlue mx-auto mb-4"}),(0,Gt.jsx)("h1",{className:"text-2xl font-bold text-brilliantBlue mb-2",children:"Thank you for your order!"}),(0,Gt.jsx)("p",{className:"text-charcoalGray mb-4",children:"Your order has been placed successfully. We will contact you soon with shipping details."}),(0,Gt.jsx)("button",{onClick:()=>a("/shop"),className:"bg-brilliantBlue text-white font-bold rounded-full px-8 py-3 shadow-elegant hover:bg-champagneGold hover:text-black transition",children:"Continue Shopping"})]})}):(0,Gt.jsx)("div",{className:"bg-diamondWhite min-h-screen py-10 px-4",children:(0,Gt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Gt.jsx)("h1",{className:"text-4xl font-serif font-bold mb-8 text-center text-brilliantBlue",style:{fontFamily:"Playfair Display, serif"},children:e("checkout")}),(0,Gt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Gt.jsxs)("form",{className:"lg:col-span-2 space-y-6 bg-platinumSilver rounded-xl shadow-elegant p-8 border border-brilliantBlue/10",children:[(0,Gt.jsxs)("div",{className:"bg-diamondWhite rounded-xl shadow-elegant border border-brilliantBlue/10 p-6",children:[(0,Gt.jsxs)("h2",{className:"text-xl font-bold text-brilliantBlue mb-4 flex items-center",children:[(0,Gt.jsx)(bs,{className:"w-5 h-5 mr-2 text-brilliantBlue"}),"Shipping Information"]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"First Name *"}),(0,Gt.jsx)("input",{type:"text",name:"firstName",value:g.firstName,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.firstName?"border-red-300":"border-brilliantBlue/30"),placeholder:"John"}),m.firstName&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.firstName})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Last Name *"}),(0,Gt.jsx)("input",{type:"text",name:"lastName",value:g.lastName,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.lastName?"border-red-300":"border-brilliantBlue/30"),placeholder:"Doe"}),m.lastName&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.lastName})]})]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Email *"}),(0,Gt.jsx)("input",{type:"email",name:"email",value:g.email,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.email?"border-red-300":"border-brilliantBlue/30"),placeholder:"john@example.com"}),m.email&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.email})]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Phone *"}),(0,Gt.jsx)("input",{type:"tel",name:"phone",value:g.phone,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.phone?"border-red-300":"border-brilliantBlue/30"),placeholder:"+1 (555) 123-4567"}),m.phone&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.phone})]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Address *"}),(0,Gt.jsx)("input",{type:"text",name:"address",value:g.address,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.address?"border-red-300":"border-brilliantBlue/30"),placeholder:"123 Gold Street"}),m.address&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.address})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"City *"}),(0,Gt.jsx)("input",{type:"text",name:"city",value:g.city,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.city?"border-red-300":"border-brilliantBlue/30"),placeholder:"New York"}),m.city&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.city})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"State *"}),(0,Gt.jsx)("input",{type:"text",name:"state",value:g.state,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.state?"border-red-300":"border-brilliantBlue/30"),placeholder:"NY"}),m.state&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.state})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Postal Code *"}),(0,Gt.jsx)("input",{type:"text",name:"postalCode",value:g.postalCode,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.postalCode?"border-red-300":"border-brilliantBlue/30"),placeholder:"10001"}),m.postalCode&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.postalCode})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-diamondWhite rounded-xl shadow-elegant border border-brilliantBlue/10 p-6",children:[(0,Gt.jsxs)("h2",{className:"text-xl font-bold text-brilliantBlue mb-4 flex items-center",children:[(0,Gt.jsx)(xs,{className:"w-5 h-5 mr-2 text-brilliantBlue"}),"Payment Information"]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Card Number *"}),(0,Gt.jsx)("input",{type:"text",name:"cardNumber",value:g.cardNumber,onChange:e=>{const t=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),n=t.match(/\d{4,16}/g),r=n&&n[0]||"",a=[];for(let s=0,i=r.length;s<i;s+=4)a.push(r.substring(s,s+4));return a.length?a.join(" "):t})(e.target.value);v(e=>c(c({},e),{},{cardNumber:t})),m.cardNumber&&p(e=>c(c({},e),{},{cardNumber:""}))},className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.cardNumber?"border-red-300":"border-brilliantBlue/30"),placeholder:"1234 5678 9012 3456",maxLength:"19"}),m.cardNumber&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.cardNumber})]}),(0,Gt.jsxs)("div",{className:"mt-4",children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Cardholder Name *"}),(0,Gt.jsx)("input",{type:"text",name:"cardName",value:g.cardName,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.cardName?"border-red-300":"border-brilliantBlue/30"),placeholder:"JOHN DOE"}),m.cardName&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.cardName})]}),(0,Gt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Expiry Month *"}),(0,Gt.jsxs)("select",{name:"expiryMonth",value:g.expiryMonth,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.expiryMonth?"border-red-300":"border-brilliantBlue/30"),children:[(0,Gt.jsx)("option",{value:"",children:"MM"}),Array.from({length:12},(e,t)=>t+1).map(e=>(0,Gt.jsx)("option",{value:e.toString().padStart(2,"0"),children:e.toString().padStart(2,"0")},e))]}),m.expiryMonth&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.expiryMonth})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"Expiry Year *"}),(0,Gt.jsxs)("select",{name:"expiryYear",value:g.expiryYear,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.expiryYear?"border-red-300":"border-brilliantBlue/30"),children:[(0,Gt.jsx)("option",{value:"",children:"YYYY"}),Array.from({length:10},(e,t)=>(new Date).getFullYear()+t).map(e=>(0,Gt.jsx)("option",{value:e,children:e},e))]}),m.expiryYear&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.expiryYear})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block text-sm font-medium text-charcoalGray mb-1",children:"CVV *"}),(0,Gt.jsx)("input",{type:"text",name:"cvv",value:g.cvv,onChange:j,className:"w-full px-4 py-2 rounded-md border focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 ".concat(m.cvv?"border-red-300":"border-brilliantBlue/30"),placeholder:"123",maxLength:"4"}),m.cvv&&(0,Gt.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.cvv})]})]}),(0,Gt.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,Gt.jsx)("input",{type:"checkbox",name:"saveInfo",checked:g.saveInfo,onChange:j,className:"w-4 h-4 text-brilliantBlue border-brilliantBlue/30 rounded focus:ring-brilliantBlue"}),(0,Gt.jsx)("label",{className:"ml-2 text-sm text-charcoalGray",children:"Save shipping information for future orders"})]})]})]}),(0,Gt.jsxs)("div",{className:"space-y-6",children:[(0,Gt.jsxs)("div",{className:"bg-diamondWhite rounded-xl shadow-elegant border border-brilliantBlue/10 p-6",children:[(0,Gt.jsx)("h2",{className:"text-xl font-bold text-brilliantBlue mb-4",children:"Order Summary"}),(0,Gt.jsx)("div",{className:"space-y-3 mb-6",children:t.map((e,t)=>(0,Gt.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-brilliantBlue/10",children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Gt.jsx)("div",{className:"w-12 h-12 bg-brilliantBlue/10 rounded-lg flex items-center justify-center",children:(0,Gt.jsx)("span",{className:"text-brilliantBlue text-lg",children:"\ud83d\udc8d"})}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("p",{className:"font-semibold text-charcoalGray",children:e.designLabel||e.name}),(0,Gt.jsxs)("p",{className:"text-sm text-charcoalGray",children:[e.metal&&"".concat(e.metal," \u2022 "),e.carat&&"".concat(e.carat,"ct")]}),(0,Gt.jsxs)("p",{className:"text-xs text-charcoalGray",children:["Qty: ",e.qty]})]})]}),(0,Gt.jsxs)("p",{className:"font-semibold text-charcoalGray",children:["$",(e.price*e.qty).toLocaleString()]})]},t))}),(0,Gt.jsxs)("div",{className:"space-y-2 border-t border-brilliantBlue/10 pt-4",children:[(0,Gt.jsxs)("div",{className:"flex justify-between text-charcoalGray",children:[(0,Gt.jsxs)("span",{children:["Subtotal (",t.length," items)"]}),(0,Gt.jsxs)("span",{children:["$",b.toLocaleString()]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between text-charcoalGray",children:[(0,Gt.jsx)("span",{children:"Shipping"}),(0,Gt.jsxs)("span",{children:["$",x.toLocaleString()]})]}),(0,Gt.jsxs)("div",{className:"flex justify-between text-charcoalGray",children:[(0,Gt.jsx)("span",{children:"Tax"}),(0,Gt.jsxs)("span",{children:["$",y.toLocaleString()]})]}),(0,Gt.jsx)("div",{className:"border-t border-brilliantBlue/10 pt-3",children:(0,Gt.jsxs)("div",{className:"flex justify-between text-lg font-bold text-brilliantBlue",children:[(0,Gt.jsx)("span",{children:"Total"}),(0,Gt.jsxs)("span",{children:["$",w.toLocaleString()]})]})})]})]}),(0,Gt.jsx)("div",{className:"bg-brilliantBlue/10 rounded-xl border border-brilliantBlue/20 p-4",children:(0,Gt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Gt.jsx)(ys,{className:"w-5 h-5 text-brilliantBlue mt-0.5 flex-shrink-0"}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h3",{className:"font-semibold text-brilliantBlue mb-1",children:e("secureCheckout")}),(0,Gt.jsx)("p",{className:"text-sm text-brilliantBlue",children:"Your payment information is encrypted and secure. We use industry-standard SSL encryption to protect your data."})]})]})}),(0,Gt.jsx)("button",{type:"button",onClick:async()=>{if((()=>{const e={};return g.firstName.trim()||(e.firstName="First name is required"),g.lastName.trim()||(e.lastName="Last name is required"),g.email.trim()||(e.email="Email is required"),g.phone.trim()||(e.phone="Phone is required"),g.address.trim()||(e.address="Address is required"),g.city.trim()||(e.city="City is required"),g.state.trim()||(e.state="State is required"),g.postalCode.trim()||(e.postalCode="Postal code is required"),g.email&&!/\S+@\S+\.\S+/.test(g.email)&&(e.email="Please enter a valid email address"),g.phone&&!/^\+?[1-9][\d]{0,15}$/.test(g.phone.replace(/\s/g,""))&&(e.phone="Please enter a valid phone number"),p(e),0===Object.keys(e).length})()){d(!0);try{const{error:e}=await Ta.from("orders").insert({user_id:s.id,items:t.map(e=>({product:"".concat(e.designLabel||e.design_label||e.name||"Custom Ring"," - ").concat(e.metalLabel||e.metal_label||e.metal||"N/A"," - ").concat(e.carat||"N/A","ct"),qty:e.qty,price:e.price,product_id:e.product_id||(!e.id||e.id&&e.id.startsWith("custom-")?null:e.id)})),subtotal:b,shipping:x,tax:y,total:w,status:"pending",shipping_address:{firstName:g.firstName,lastName:g.lastName,address:g.address,city:g.city,state:g.state,postalCode:g.postalCode,country:g.country,phone:g.phone},payment_info:{cardLast4:"0000",cardType:"test"}}).select().single();if(e)throw e;g.saveInfo&&await Ta.from("profiles").upsert({id:s.id,name:"".concat(g.firstName," ").concat(g.lastName),address:g.address,phone:g.phone}),n([]),f(!0)}catch(e){console.error("Order processing error:",e),alert("There was an error processing your order. Please try again.")}finally{d(!1)}}},disabled:u,className:"w-full bg-brilliantBlue text-white font-bold rounded-full py-4 shadow-elegant hover:bg-champagneGold hover:text-black transition-all duration-200 disabled:opacity-60",children:u?"Processing...":"Place Order"}),(0,Gt.jsx)("button",{type:"button",onClick:()=>a("/cart"),className:"w-full bg-diamondWhite text-brilliantBlue font-bold rounded-full py-3 border border-brilliantBlue hover:bg-brilliantBlue/10 transition mt-3",children:"Back to Cart"})]})]})]})})},js=()=>{const{t:e}=Ja(),{addToCart:t}=Bs(),[n,a]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=localStorage.getItem("wishlist");a(e?JSON.parse(e):[])},[]);const s=e=>{const t=n.filter(t=>t.id!==e);a(t),localStorage.setItem("wishlist",JSON.stringify(t))};return 0===n.length?(0,Gt.jsx)("div",{className:"bg-diamondWhite min-h-screen font-sans px-4 py-12 flex items-center justify-center",children:(0,Gt.jsxs)("div",{className:"text-center",children:[(0,Gt.jsx)("h1",{className:"text-2xl font-bold text-brilliantBlue mb-4",children:e("wishlistEmpty")}),(0,Gt.jsxs)("a",{href:"/shop",className:"text-brilliantBlue font-bold hover:underline",children:[e("shop")," ",e("engagementRings")]})]})}):(0,Gt.jsxs)("div",{className:"bg-diamondWhite min-h-screen font-sans px-4 py-12",children:[(0,Gt.jsx)("h1",{className:"text-4xl font-serif font-bold mb-8 text-center text-brilliantBlue",style:{fontFamily:"Playfair Display, serif"},children:e("myWishlist")}),(0,Gt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 max-w-6xl mx-auto",children:n.map(n=>(0,Gt.jsxs)("div",{className:"bg-platinumSilver rounded-lg shadow-elegant p-6 border border-brilliantBlue/20 flex flex-col items-center",children:[(0,Gt.jsx)("img",{src:"/ringstestimages/halo seting gold ring.jpg",alt:"Wishlist Ring",className:"w-20 h-20 object-cover rounded-full border-2 border-brilliantBlue/10"}),(0,Gt.jsx)("div",{className:"font-serif text-lg font-bold mb-1 text-center text-brilliantBlue",style:{fontFamily:"Playfair Display, serif"},children:n.name}),(0,Gt.jsx)("div",{className:"text-champagneGold text-base mb-3 font-semibold",children:n.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),(0,Gt.jsxs)("div",{className:"flex gap-2",children:[(0,Gt.jsx)("button",{className:"bg-brilliantBlue text-white font-bold rounded shadow-elegant hover:bg-champagneGold hover:text-black transition text-sm tracking-wide border border-brilliantBlue px-6 py-2 mt-2",onClick:()=>{return t(r=n),s(r.id),void alert(e("addedToCart"));var r},children:e("addToCart")}),(0,Gt.jsx)("button",{className:"px-4 py-2 bg-diamondWhite border border-champagneGold text-brilliantBlue rounded font-bold hover:bg-champagneGold hover:text-black transition",onClick:()=>s(n.id),children:e("remove")})]})]},n.id))})]})};function ks(){const{addToCart:e}=Bs(),[t,n]=(0,r.useState)(null),[a,s]=(0,r.useState)({name:"",address:"",phone:""}),[i,o]=(0,r.useState)(!1),[l,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(""),[f,m]=(0,r.useState)([]),[p,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{const{data:{session:e}}=await Ta.auth.getSession();if(null===e||void 0===e||!e.user)return void(window.location.href="/auth");n(e.user);const{data:t}=await Ta.from("profiles").select("*").eq("id",e.user.id).single();t&&s(t);const{data:r}=await Ta.from("orders").select("*").eq("user_id",e.user.id).order("created_at",{ascending:!1});m(r||[]),u(!1)})();const e=localStorage.getItem("wishlist");g(e?JSON.parse(e):[])},[]);const v=e=>{const t=p.filter(t=>t.id!==e);g(t),localStorage.setItem("wishlist",JSON.stringify(t))};return l?(0,Gt.jsx)("div",{className:"text-center py-12",children:"Loading..."}):(0,Gt.jsx)("div",{className:"bg-diamondWhite min-h-screen py-10 px-2 font-sans",children:(0,Gt.jsxs)("div",{className:"max-w-2xl mx-auto bg-platinumSilver rounded-2xl shadow-elegant border border-brilliantBlue/10 p-6 sm:p-10",children:[(0,Gt.jsx)("h2",{className:"font-serif font-extrabold text-3xl sm:text-4xl text-brilliantBlue mb-8 text-center tracking-tight",style:{fontFamily:"Playfair Display, serif"},children:"My Account"}),(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 mb-8 shadow-sm border border-brilliantBlue/10",children:[d&&(0,Gt.jsx)("div",{className:"mb-4 text-sm font-semibold ".concat(d.includes("updated")?"text-green-600":"text-red-600"),children:d}),i?(0,Gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h("");const{error:n}=await Ta.from("profiles").update({name:a.name,address:a.address,phone:a.phone}).eq("id",t.id);h(n?n.message:"Profile updated!"),o(!1)},className:"space-y-4",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-semibold mb-1 text-charcoalGray",children:"Name:"}),(0,Gt.jsx)("input",{type:"text",value:a.name,onChange:e=>s(c(c({},a),{},{name:e.target.value})),required:!0,className:"w-full px-4 py-2 rounded-md border border-brilliantBlue/30 focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 bg-diamondWhite text-charcoalGray"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-semibold mb-1 text-charcoalGray",children:"Address:"}),(0,Gt.jsx)("input",{type:"text",value:a.address,onChange:e=>s(c(c({},a),{},{address:e.target.value})),required:!0,className:"w-full px-4 py-2 rounded-md border border-brilliantBlue/30 focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 bg-diamondWhite text-charcoalGray"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("label",{className:"block font-semibold mb-1 text-charcoalGray",children:"Phone:"}),(0,Gt.jsx)("input",{type:"text",value:a.phone||"",onChange:e=>s(c(c({},a),{},{phone:e.target.value})),className:"w-full px-4 py-2 rounded-md border border-brilliantBlue/30 focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40 bg-diamondWhite text-charcoalGray"})]}),(0,Gt.jsxs)("div",{className:"flex flex-wrap gap-3 mt-2",children:[(0,Gt.jsx)("button",{type:"submit",className:"bg-brilliantBlue text-white font-bold rounded-full px-6 py-2 shadow-elegant hover:bg-champagneGold hover:text-black transition border border-brilliantBlue focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40",children:"Save"}),(0,Gt.jsx)("button",{type:"button",className:"bg-platinumSilver text-brilliantBlue font-bold rounded-full px-6 py-2 shadow-elegant hover:bg-champagneGold hover:text-black transition border border-platinumSilver focus:outline-none focus:ring-2 focus:ring-brilliantBlue/20",onClick:()=>o(!1),children:"Cancel"})]})]}):(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsxs)("div",{className:"mb-2 text-charcoalGray",children:[(0,Gt.jsx)("span",{className:"font-semibold",children:"Name:"})," ",a.name]}),(0,Gt.jsxs)("div",{className:"mb-2 text-charcoalGray",children:[(0,Gt.jsx)("span",{className:"font-semibold",children:"Email:"})," ",t.email]}),(0,Gt.jsxs)("div",{className:"mb-2 text-charcoalGray",children:[(0,Gt.jsx)("span",{className:"font-semibold",children:"Address:"})," ",a.address]}),(0,Gt.jsxs)("div",{className:"mb-2 text-charcoalGray",children:[(0,Gt.jsx)("span",{className:"font-semibold",children:"Phone:"})," ",a.phone||"-"]}),(0,Gt.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,Gt.jsx)("button",{className:"bg-brilliantBlue text-white font-bold rounded-full px-6 py-2 shadow-elegant hover:bg-champagneGold hover:text-black transition border border-brilliantBlue focus:outline-none focus:ring-2 focus:ring-brilliantBlue/40",onClick:()=>o(!0),children:"Edit Profile"}),(0,Gt.jsx)("button",{className:"bg-red-600 text-white font-bold rounded-full px-6 py-2 shadow hover:bg-brilliantBlue hover:text-white transition border border-red-600 focus:outline-none focus:ring-2 focus:ring-red-400/40",onClick:async()=>{await Ta.auth.signOut(),window.location.href="/auth"},children:"Logout"})]})]})]}),(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 shadow-sm border border-brilliantBlue/10 mb-8",children:[(0,Gt.jsx)("h3",{className:"font-serif font-bold text-2xl text-brilliantBlue mb-4",style:{fontFamily:"Playfair Display, serif"},children:"My Orders"}),(0,Gt.jsx)("div",{className:"overflow-x-auto",children:(0,Gt.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,Gt.jsx)("thead",{children:(0,Gt.jsxs)("tr",{className:"text-brilliantBlue font-bold text-base",children:[(0,Gt.jsx)("th",{className:"py-2 px-3",children:"ID"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Date"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Status"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Items"}),(0,Gt.jsx)("th",{className:"py-2 px-3",children:"Total"})]})}),(0,Gt.jsx)("tbody",{children:0===f.length?(0,Gt.jsx)("tr",{children:(0,Gt.jsx)("td",{colSpan:5,className:"text-center text-brilliantBlue py-6",children:"No orders yet."})}):f.map(e=>{var t;return(0,Gt.jsxs)("tr",{className:"border-t border-brilliantBlue/10 hover:bg-brilliantBlue/5 transition",children:[(0,Gt.jsxs)("td",{className:"py-2 px-3 font-mono text-charcoalGray",children:[e.id.slice(0,8),"..."]}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-charcoalGray",children:new Date(e.created_at).toLocaleDateString()}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-charcoalGray",children:e.status}),(0,Gt.jsx)("td",{className:"py-2 px-3 text-charcoalGray",children:Array.isArray(e.items)?e.items.map((t,n)=>(0,Gt.jsxs)("span",{children:[t.product," x",t.qty,n<e.items.length-1?", ":""]},n)):"-"}),(0,Gt.jsxs)("td",{className:"py-2 px-3 text-champagneGold font-bold",children:["$",null===(t=e.total)||void 0===t?void 0:t.toLocaleString()]})]},e.id)})})]})})]}),(0,Gt.jsxs)("div",{className:"bg-brilliantBlue/5 rounded-xl p-6 shadow-sm border border-brilliantBlue/10",children:[(0,Gt.jsx)("h3",{className:"font-serif font-bold text-2xl text-brilliantBlue mb-4",style:{fontFamily:"Playfair Display, serif"},children:"My Wishlist"}),0===p.length?(0,Gt.jsxs)("div",{className:"text-center text-brilliantBlue py-6",children:["Your wishlist is empty. ",(0,Gt.jsx)("a",{href:"/shop",className:"underline hover:text-champagneGold",children:"Shop Rings"})]}):(0,Gt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:p.map(t=>{var n;return(0,Gt.jsxs)("div",{className:"bg-diamondWhite rounded-lg shadow-elegant p-6 border border-brilliantBlue/10 flex flex-col items-center",children:[(0,Gt.jsx)("img",{src:t.image||"/ringstestimages/halo seting gold ring.jpg",alt:"Wishlist Ring",className:"w-20 h-20 object-cover rounded-full border-2 border-brilliantBlue/10"}),(0,Gt.jsx)("div",{className:"font-serif text-lg font-bold mb-1 text-center text-brilliantBlue",style:{fontFamily:"Playfair Display, serif"},children:t.name}),(0,Gt.jsx)("div",{className:"text-champagneGold text-base mb-3 font-semibold",children:null===(n=t.price)||void 0===n?void 0:n.toLocaleString("en-US",{style:"currency",currency:"USD"})}),(0,Gt.jsxs)("div",{className:"flex gap-2",children:[(0,Gt.jsx)("button",{className:"bg-brilliantBlue text-white font-bold rounded shadow-elegant hover:bg-champagneGold hover:text-black transition text-sm tracking-wide border border-brilliantBlue px-6 py-2 mt-2",onClick:()=>{return e(n=t),v(n.id),void alert("Added to cart!");var n},children:"Add to Cart"}),(0,Gt.jsx)("button",{className:"px-4 py-2 bg-diamondWhite border border-champagneGold text-brilliantBlue rounded font-bold hover:bg-champagneGold hover:text-black transition",onClick:()=>v(t.id),children:"Remove"})]})]},t.id)})})]})]})})}function Ss(e){let{onLogin:t}=e;const[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(!1);return(0,Gt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Gt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),l("");const{error:r}=await Ta.auth.signInWithPassword({email:n,password:s});r?l(r.message):t&&t(),u(!1)},className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[(0,Gt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),o&&(0,Gt.jsx)("div",{className:"mb-4 text-red-600",children:o}),(0,Gt.jsx)("input",{type:"email",placeholder:"Email",className:"w-full mb-3 px-3 py-2 border rounded",value:n,onChange:e=>a(e.target.value),required:!0}),(0,Gt.jsx)("input",{type:"password",placeholder:"Password",className:"w-full mb-6 px-3 py-2 border rounded",value:s,onChange:e=>i(e.target.value),required:!0}),(0,Gt.jsx)("button",{type:"submit",className:"w-full bg-black text-gold font-bold py-2 rounded hover:bg-gold hover:text-black transition",disabled:c,children:c?"Logging in...":"Login"})]})})}const Ns=function(){const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)("");return(0,Gt.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),a("");const{error:r}=await Ta.auth.updateUser({password:e});a(r?r.message:"Password updated successfully!"),t("")},className:"mb-4",children:[(0,Gt.jsx)("label",{className:"block mb-1 font-semibold",children:"Change Admin Password"}),(0,Gt.jsx)("input",{type:"password",value:e,onChange:e=>t(e.target.value),placeholder:"New password",className:"border px-3 py-2 rounded w-full mb-2",required:!0}),(0,Gt.jsx)("button",{type:"submit",className:"bg-black text-gold px-4 py-2 rounded font-bold",children:"Change Password"}),n&&(0,Gt.jsx)("div",{className:"mt-2 text-sm",children:n})]})};function _s(e){let{onAuth:t}=e;const n=me(),[a]=yt(),s=a.get("redirect")||"/account",[i,o]=(0,r.useState)("login"),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[m,p]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[y,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[S,N]=(0,r.useState)("");return(0,Gt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Gt.jsxs)("form",{onSubmit:j?async e=>{e.preventDefault(),N(""),x("");const{error:t}=await Ta.auth.resetPasswordForEmail(l,{redirectTo:window.location.origin+"/auth"});t?x(t.message):N("Password reset email sent! Check your inbox.")}:async e=>{let t;var r;(e.preventDefault(),w(!0),x(""),"login"===i)?t=await Ta.auth.signInWithPassword({email:l,password:u}):(t=await Ta.auth.signUp({email:l,password:u}),!t.error&&null!==(r=t.data)&&void 0!==r&&r.user&&await Ta.from("profiles").upsert({id:t.data.user.id,name:h,surname:m,address:g}));t.error?x(t.error.message):n(s),w(!1)},className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[(0,Gt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:j?"Reset Password":"login"===i?"Login":"Sign Up"}),b&&(0,Gt.jsx)("div",{className:"mb-4 text-red-600",children:b}),S&&(0,Gt.jsx)("div",{className:"mb-4 text-green-600",children:S}),j?(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("input",{type:"email",placeholder:"Email",className:"w-full mb-6 px-3 py-2 border rounded",value:l,onChange:e=>c(e.target.value),required:!0}),(0,Gt.jsx)("button",{type:"submit",className:"w-full bg-black text-gold font-bold py-2 rounded hover:bg-gold hover:text-black transition",disabled:y,children:y?"Sending...":"Send Reset Email"}),(0,Gt.jsx)("div",{className:"mt-4 text-center",children:(0,Gt.jsx)("button",{type:"button",className:"text-gold underline",onClick:()=>k(!1),children:"Back to Login"})})]}):(0,Gt.jsxs)(Gt.Fragment,{children:["signup"===i&&(0,Gt.jsxs)(Gt.Fragment,{children:[(0,Gt.jsx)("input",{type:"text",placeholder:"Name",className:"w-full mb-3 px-3 py-2 border rounded",value:h,onChange:e=>f(e.target.value),required:!0}),(0,Gt.jsx)("input",{type:"text",placeholder:"Surname",className:"w-full mb-3 px-3 py-2 border rounded",value:m,onChange:e=>p(e.target.value),required:!0}),(0,Gt.jsx)("input",{type:"text",placeholder:"Address",className:"w-full mb-3 px-3 py-2 border rounded",value:g,onChange:e=>v(e.target.value),required:!0})]}),(0,Gt.jsx)("input",{type:"email",placeholder:"Email",className:"w-full mb-3 px-3 py-2 border rounded",value:l,onChange:e=>c(e.target.value),required:!0}),(0,Gt.jsx)("input",{type:"password",placeholder:"Password",className:"w-full mb-6 px-3 py-2 border rounded",value:u,onChange:e=>d(e.target.value),required:!0}),(0,Gt.jsx)("button",{type:"submit",className:"w-full bg-black text-gold font-bold py-2 rounded hover:bg-gold hover:text-black transition",disabled:y,children:y?"login"===i?"Logging in...":"Signing up...":"login"===i?"Login":"Sign Up"}),"login"===i&&(0,Gt.jsx)("div",{className:"mt-4 text-center",children:(0,Gt.jsx)("button",{type:"button",className:"text-gold underline",onClick:()=>k(!0),children:"Forgot password?"})}),(0,Gt.jsx)("div",{className:"mt-4 text-center",children:"login"===i?(0,Gt.jsxs)(Gt.Fragment,{children:["Don't have an account?"," ",(0,Gt.jsx)("button",{type:"button",className:"text-gold underline",onClick:()=>o("signup"),children:"Sign up"})]}):(0,Gt.jsxs)(Gt.Fragment,{children:["Already have an account?"," ",(0,Gt.jsx)("button",{type:"button",className:"text-gold underline",onClick:()=>o("login"),children:"Log in"})]})})]})]})})}const Cs=()=>{const{language:e,changeLanguage:t}=Ja(),[n,a]=(0,r.useState)(!1),s=(0,r.useRef)(null),i=[{code:"en",name:"English",flag:"\ud83c\uddfa\ud83c\uddf8"},{code:"nl",name:"Nederlands",flag:"\ud83c\uddf3\ud83c\uddf1"},{code:"fr",name:"Fran\xe7ais",flag:"\ud83c\uddeb\ud83c\uddf7"}],o=i.find(t=>t.code===e);(0,r.useEffect)(()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return(0,Gt.jsxs)("div",{className:"relative",ref:s,children:[(0,Gt.jsxs)("button",{onClick:()=>a(!n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-navyBlue hover:text-warmGold transition-colors duration-200 rounded-lg hover:bg-navyBlue/5 focus:outline-none focus:ring-2 focus:ring-navyBlue/20","aria-label":"Select language",children:[(0,Gt.jsx)("span",{className:"text-lg",children:null===o||void 0===o?void 0:o.flag}),(0,Gt.jsx)("span",{className:"hidden sm:inline",children:null===o||void 0===o?void 0:o.code.toUpperCase()}),(0,Gt.jsx)("svg",{className:"w-4 h-4 transition-transform duration-200 ".concat(n?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&(0,Gt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-navyBlue/10 z-50",children:(0,Gt.jsx)("div",{className:"py-1",children:i.map(n=>(0,Gt.jsxs)("button",{onClick:()=>{return e=n.code,t(e),void a(!1);var e},className:"w-full flex items-center gap-3 px-4 py-2 text-sm hover:bg-navyBlue/5 transition-colors duration-200 ".concat(e===n.code?"bg-navyBlue/10 text-navyBlue font-semibold":"text-darkGray"),children:[(0,Gt.jsx)("span",{className:"text-lg",children:n.flag}),(0,Gt.jsx)("span",{children:n.name}),e===n.code&&(0,Gt.jsx)("svg",{className:"w-4 h-4 ml-auto text-warmGold",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Gt.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},n.code))})})]})},Es=()=>{const{cart:e}=Bs(),t=e.reduce((e,t)=>e+(t.qty||1),0);return 0===t?null:(0,Gt.jsx)("span",{className:"absolute -top-2 -right-2 bg-warmGold text-navyBlue text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:t})},Ps=()=>{const{t:e}=Ja(),[t,n]=r.useState(!1);return(0,Gt.jsxs)("header",{className:"bg-gradient-to-br from-pureWhite via-softGray to-navyBlue/5 shadow-elegant sticky top-0 z-50 backdrop-blur-md border-b-2 border-navyBlue/10",children:[t&&(0,Gt.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>n(!1)}),(0,Gt.jsxs)("nav",{className:"max-w-7xl mx-auto flex items-center justify-between px-6 py-4",children:[(0,Gt.jsxs)("a",{href:"/",className:"flex items-center space-x-2 text-2xl font-extrabold text-navyBlue tracking-wide font-serif",style:{fontFamily:"Playfair Display, serif"},children:[(0,Gt.jsx)("img",{src:"/ringstestimages/diamond.png",alt:"Diamond Logo",className:"w-8 h-8"}),(0,Gt.jsx)("span",{children:"Grown Lab Diamond"})]}),(0,Gt.jsx)("button",{className:"md:hidden text-navyBlue focus:outline-none",onClick:()=>n(!t),"aria-label":"Toggle menu",children:t?(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):(0,Gt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Gt.jsxs)("ul",{className:"flex-col md:flex-row md:flex gap-0 md:gap-8 items-center font-semibold text-darkGray text-lg font-sans transition-all duration-300 ".concat(t?"flex absolute top-20 left-0 w-full bg-pureWhite py-6 z-40 border-t-2 border-navyBlue/10 shadow-lg":"hidden md:flex"),style:{fontFamily:"Inter, sans-serif"},children:[(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsx)("a",{href:"/",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-navyBlue transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded",children:e("home")})}),(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsx)("a",{href:"/shop",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-navyBlue transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded",children:e("shop")})}),(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsx)("a",{href:"/customize",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-navyBlue transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded",children:e("customize")})}),(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsx)("a",{href:"/wishlist",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-navyBlue transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded",children:e("wishlist")})}),(0,Gt.jsx)("div",{className:"hidden md:block w-px h-6 bg-navyBlue/20"}),(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsx)("a",{href:"/auth",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-warmGold transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded",children:e("login")})}),(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsx)("a",{href:"/account",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-warmGold transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded",children:(0,Gt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mx-auto md:mx-0",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})})}),(0,Gt.jsx)("li",{className:"w-full md:w-auto",children:(0,Gt.jsxs)("a",{href:"/cart",onClick:()=>n(!1),className:"block w-full text-center md:text-left hover:text-warmGold transition-colors duration-200 px-4 py-3 md:px-2 md:py-1 rounded relative",children:[(0,Gt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 mx-auto md:mx-0",children:(0,Gt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.836l.383 1.437m0 0l1.7 6.385m-.383-7.822L6.75 7.5m0 0h10.5m-10.5 0l1.7 6.385m0 0A2.25 2.25 0 0010.125 16.5h3.75a2.25 2.25 0 002.175-1.615l1.7-6.385m-10.5 0h10.5"})}),(0,Gt.jsx)(Es,{})]})}),(0,Gt.jsx)("li",{className:"w-full md:w-auto flex justify-center md:justify-start",children:(0,Gt.jsx)(Cs,{})})]})]}),(0,Gt.jsx)("style",{children:"\n        /* Primary Colors - Inspired by MoissaniteCo */\n        .text-navyBlue { color: #1a365d; }\n        .hover:text-navyBlue:hover { color: #1a365d; }\n        .bg-navyBlue { background-color: #1a365d; }\n        .border-navyBlue { border-color: #1a365d; }\n        \n        /* Accent Colors */\n        .text-warmGold { color: #d69e2e; }\n        .hover:text-warmGold:hover { color: #d69e2e; }\n        .bg-warmGold { background-color: #d69e2e; }\n        .border-warmGold { border-color: #d69e2e; }\n        \n        /* Rose Gold Accent */\n        .text-roseGold { color: #e53e3e; }\n        .hover:text-roseGold:hover { color: #e53e3e; }\n        .bg-roseGold { background-color: #e53e3e; }\n        .border-roseGold { border-color: #e53e3e; }\n        \n        /* Background Colors */\n        .bg-pureWhite { background-color: #ffffff; }\n        .bg-softGray { background-color: #f7fafc; }\n        .bg-lightGray { background-color: #edf2f7; }\n        \n        /* Text Colors */\n        .text-darkGray { color: #2d3748; }\n        .text-mediumGray { color: #4a5568; }\n        .text-lightGray { color: #718096; }\n        \n        /* Legacy support - keeping old names for compatibility */\n        .text-brilliantBlue { color: #1a365d; }\n        .hover:text-brilliantBlue:hover { color: #1a365d; }\n        .bg-brilliantBlue { background-color: #1a365d; }\n        .bg-diamondWhite { background-color: #ffffff; }\n        .bg-platinumSilver { background-color: #f7fafc; }\n        .text-charcoalGray { color: #2d3748; }\n        .hover:text-champagneGold:hover { color: #d69e2e; }\n        .bg-champagneGold { background-color: #d69e2e; }\n        .border-brilliantBlue { border-color: #1a365d; }\n        .border-champagneGold { border-color: #d69e2e; }\n        \n        /* Enhanced Shadows */\n        .shadow-elegant { box-shadow: 0 10px 25px -5px rgba(26, 54, 93, 0.1), 0 10px 10px -5px rgba(26, 54, 93, 0.04); }\n        .shadow-gold { box-shadow: 0 4px 6px -1px rgba(214, 158, 46, 0.1), 0 2px 4px -1px rgba(214, 158, 46, 0.06); }\n      "})]})},Ts=(0,r.createContext)(),Bs=()=>(0,r.useContext)(Ts),Ls=e=>{let{children:t}=e;const[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{Ta.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;i(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null)});const{data:{subscription:e}}=Ta.auth.onAuthStateChange((e,t)=>{var n;i(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null)});return()=>e.unsubscribe()},[]),(0,r.useEffect)(()=>{if(!s)return void a([]);(async()=>{try{const{data:e,error:t}=await Ta.from("cart_items").select("*").eq("user_id",s.id).order("created_at",{ascending:!0});if(t)return void console.error("Error loading cart:",t);a(e||[])}catch(e){console.error("Error loading cart:",e)}})()},[s]);const o=async e=>{if(s)try{const{error:t}=await Ta.from("cart_items").delete().eq("id",e).eq("user_id",s.id);if(t)throw t;a(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error removing from cart:",t),alert("Error removing item from cart")}};return(0,Gt.jsx)(Ts.Provider,{value:{cart:n,setCart:a,addToCart:async e=>{if(s)try{const t=e.id&&e.id.startsWith("custom-");let n;if(t){const{data:t}=await Ta.from("cart_items").select("*").eq("user_id",s.id).eq("design",e.design).eq("metal",e.metal).eq("shape",e.shape).eq("carat",e.carat).single();n=t}else{const{data:t}=await Ta.from("cart_items").select("*").eq("user_id",s.id).eq("product_id",e.id).single();n=t}if(n){const{error:e}=await Ta.from("cart_items").update({qty:n.qty+1}).eq("id",n.id).select().single();if(e)throw e;a(e=>e.map(e=>e.id===n.id?c(c({},e),{},{qty:e.qty+1}):e))}else{const n={user_id:s.id,design:e.design,design_label:e.designLabel||e.name,metal:e.metal,metal_label:e.metalLabel||e.metal,shape:e.shape,shape_label:e.shapeLabel||e.shape,carat:e.carat,price:e.price,image_url:e.image,qty:1};t||(n.product_id=e.id);const{data:r,error:i}=await Ta.from("cart_items").insert(n).select().single();if(i)throw i;a(e=>[...e,r])}}catch(t){console.error("Error adding to cart:",t),alert("Error adding item to cart")}else alert("Please log in to add items to cart")},removeFromCart:o,updateQuantity:async(e,t)=>{if(s)if(t<=0)o(e);else try{const{error:n}=await Ta.from("cart_items").update({qty:t}).eq("id",e).eq("user_id",s.id);if(n)throw n;a(n=>n.map(n=>n.id===e?c(c({},n),{},{qty:t}):n))}catch(n){console.error("Error updating quantity:",n),alert("Error updating quantity")}},clearCart:async()=>{if(s)try{const{error:e}=await Ta.from("cart_items").delete().eq("user_id",s.id);if(e)throw e;a([])}catch(e){console.error("Error clearing cart:",e),alert("Error clearing cart")}}},children:t})},Rs=()=>{const{t:e}=Ja();return(0,Gt.jsxs)("footer",{className:"bg-gradient-to-br from-pureWhite via-softGray to-navyBlue/10 text-navyBlue pt-12 pb-6 px-4 mt-16 border-t border-navyBlue/20",children:[(0,Gt.jsxs)("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[(0,Gt.jsxs)("div",{children:[(0,Gt.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Gt.jsx)("img",{src:"/ringstestimages/diamond.png",alt:"Diamond Logo",className:"w-8 h-8"}),(0,Gt.jsx)("h3",{className:"font-serif text-2xl font-bold text-navyBlue",style:{fontFamily:"Playfair Display, serif"},children:"Grown Lab Diamond"})]}),(0,Gt.jsx)("p",{className:"text-darkGray mb-4",children:e("exquisiteLabGrown")}),(0,Gt.jsxs)("div",{className:"flex gap-4 mt-2",children:[(0,Gt.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-warmGold transition",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{d:"M7.75 2h8.5A5.75 5.75 0 0 1 22 7.75v8.5A5.75 5.75 0 0 1 16.25 22h-8.5A5.75 5.75 0 0 1 2 16.25v-8.5A5.75 5.75 0 0 1 7.75 2zm0 1.5A4.25 4.25 0 0 0 3.5 7.75v8.5A4.25 4.25 0 0 0 7.75 20.5h8.5A4.25 4.25 0 0 0 20.5 16.25v-8.5A4.25 4.25 0 0 0 16.25 3.5zm4.25 3.25a5.25 5.25 0 1 1 0 10.5 5.25 5.25 0 0 1 0-10.5zm0 1.5a3.75 3.75 0 1 0 0 7.5 3.75 3.75 0 0 0 0-7.5zm5.25.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})})}),(0,Gt.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-warmGold transition",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{d:"M17 2.1c-3.9 0-7 3.1-7 7v2H7v3h3v7h3v-7h2.1l.4-3H13V9c0-1.1.9-2 2-2h2V4.1c0-1.1-.9-2-2-2z"})})}),(0,Gt.jsx)("a",{href:"mailto:info@grownlabdiamond.com",className:"hover:text-warmGold transition",children:(0,Gt.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Gt.jsx)("path",{d:"M2 4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4zm2 0v.01L12 13l8-8.99V4H4zm16 2.41l-7.29 7.3a1 1 0 0 1-1.42 0L4 6.41V20h16V6.41z"})})})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-serif text-lg font-bold mb-2 text-navyBlue",children:e("links")}),(0,Gt.jsxs)("ul",{className:"space-y-2",children:[(0,Gt.jsx)("li",{children:(0,Gt.jsx)("a",{href:"/shop",className:"hover:text-warmGold transition",children:e("shop")})}),(0,Gt.jsx)("li",{children:(0,Gt.jsx)("a",{href:"/customize",className:"hover:text-warmGold transition",children:e("customize")})}),(0,Gt.jsx)("li",{children:(0,Gt.jsx)("a",{href:"/wishlist",className:"hover:text-warmGold transition",children:e("wishlist")})}),(0,Gt.jsx)("li",{children:(0,Gt.jsx)("a",{href:"/account",className:"hover:text-warmGold transition",children:e("account")})})]})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-serif text-lg font-bold mb-2 text-navyBlue",children:e("contact")}),(0,Gt.jsx)("p",{className:"text-darkGray",children:e("diamondAvenue")}),(0,Gt.jsx)("p",{className:"text-darkGray",children:e("globalHeadquarters")}),(0,Gt.jsx)("p",{className:"text-darkGray",children:"info@grownlabdiamond.com"}),(0,Gt.jsx)("p",{className:"text-darkGray",children:"+972 3-123-4567"})]}),(0,Gt.jsxs)("div",{children:[(0,Gt.jsx)("h4",{className:"font-serif text-lg font-bold mb-2 text-navyBlue",children:e("newsletter")}),(0,Gt.jsxs)("form",{className:"flex flex-col gap-2",children:[(0,Gt.jsx)("input",{type:"email",placeholder:e("yourEmail"),className:"rounded-full px-4 py-2 bg-white/10 border border-navyBlue/40 text-navyBlue placeholder:text-warmGold focus:outline-none focus:ring-2 focus:ring-navyBlue/40"}),(0,Gt.jsx)("button",{type:"submit",className:"bg-navyBlue text-white font-bold rounded-full px-4 py-2 mt-1 shadow-elegant hover:bg-warmGold hover:text-navyBlue transition-all duration-200 border border-warmGold focus:outline-none focus:ring-2 focus:ring-navyBlue/40",children:e("subscribe")})]})]})]}),(0,Gt.jsxs)("div",{className:"text-center text-darkGray text-xs mt-10",children:["\xa9 ",(new Date).getFullYear()," Grown Lab Diamond. ",e("allRightsReserved")]})]})},Os=["user123@gmail.com"];function As(){const[e,t]=r.useState(null),[n,a]=r.useState(!0);return r.useEffect(()=>{Ta.auth.getSession().then(e=>{var n;let{data:r}=e;t((null===(n=r.session)||void 0===n?void 0:n.user)||null),a(!1)});const{data:e}=Ta.auth.onAuthStateChange((e,n)=>{t((null===n||void 0===n?void 0:n.user)||null)});return()=>e.subscription.unsubscribe()},[]),n?(0,Gt.jsx)("div",{children:"Loading..."}):e?Os.includes(e.email)?(0,Gt.jsx)($a,{ChangePassword:Ns}):(0,Gt.jsx)("div",{children:"Access denied"}):(0,Gt.jsx)(Ss,{onLogin:()=>window.location.reload()})}const Ds=function(){return(0,Gt.jsx)(Ya,{children:(0,Gt.jsx)(Ls,{children:(0,Gt.jsxs)(mt,{children:[(0,Gt.jsx)(Ps,{}),(0,Gt.jsx)("main",{className:"min-h-screen bg-white font-sans",children:(0,Gt.jsxs)(Le,{children:[(0,Gt.jsx)(Te,{path:"/",element:(0,Gt.jsx)(es,{})}),(0,Gt.jsx)(Te,{path:"/shop",element:(0,Gt.jsx)(as,{})}),(0,Gt.jsx)(Te,{path:"/product/:id",element:(0,Gt.jsx)(hs,{})}),(0,Gt.jsx)(Te,{path:"/cart",element:(0,Gt.jsx)(gs,{})}),(0,Gt.jsx)(Te,{path:"/checkout",element:(0,Gt.jsx)(ws,{})}),(0,Gt.jsx)(Te,{path:"/wishlist",element:(0,Gt.jsx)(js,{})}),(0,Gt.jsx)(Te,{path:"/account",element:(0,Gt.jsx)(ks,{})}),(0,Gt.jsx)(Te,{path:"/customize",element:(0,Gt.jsx)(Ra,{})}),(0,Gt.jsx)(Te,{path:"/auth",element:(0,Gt.jsx)(_s,{})}),(0,Gt.jsx)(Te,{path:"/admin",element:(0,Gt.jsx)(As,{})})]})}),(0,Gt.jsx)(Rs,{})]})})})};a.createRoot(document.getElementById("root")).render((0,Gt.jsx)(r.StrictMode,{children:(0,Gt.jsx)(Ds,{})}))})();
//# sourceMappingURL=main.f81e4617.js.map